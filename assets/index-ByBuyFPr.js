(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function b2(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var gm={exports:{}},kl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M0;function w2(){if(M0)return kl;M0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return kl.Fragment=e,kl.jsx=n,kl.jsxs=n,kl}var x0;function R2(){return x0||(x0=1,gm.exports=w2()),gm.exports}var X=R2(),ym={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V0;function C2(){if(V0)return De;V0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),A=Symbol.iterator;function b(N){return N===null||typeof N!="object"?null:(N=A&&N[A]||N["@@iterator"],typeof N=="function"?N:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,j={};function V(N,te,oe){this.props=N,this.context=te,this.refs=j,this.updater=oe||U}V.prototype.isReactComponent={},V.prototype.setState=function(N,te){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,te,"setState")},V.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function Y(){}Y.prototype=V.prototype;function re(N,te,oe){this.props=N,this.context=te,this.refs=j,this.updater=oe||U}var Z=re.prototype=new Y;Z.constructor=re,D(Z,V.prototype),Z.isPureReactComponent=!0;var ce=Array.isArray,ue={H:null,A:null,T:null,S:null,V:null},Te=Object.prototype.hasOwnProperty;function O(N,te,oe,se,pe,Ie){return oe=Ie.ref,{$$typeof:i,type:N,key:te,ref:oe!==void 0?oe:null,props:Ie}}function w(N,te){return O(N.type,te,void 0,void 0,void 0,N.props)}function R(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function x(N){var te={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(oe){return te[oe]})}var P=/\/+/g;function L(N,te){return typeof N=="object"&&N!==null&&N.key!=null?x(""+N.key):te.toString(36)}function I(){}function rt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(I,I):(N.status="pending",N.then(function(te){N.status==="pending"&&(N.status="fulfilled",N.value=te)},function(te){N.status==="pending"&&(N.status="rejected",N.reason=te)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function st(N,te,oe,se,pe){var Ie=typeof N;(Ie==="undefined"||Ie==="boolean")&&(N=null);var be=!1;if(N===null)be=!0;else switch(Ie){case"bigint":case"string":case"number":be=!0;break;case"object":switch(N.$$typeof){case i:case e:be=!0;break;case v:return be=N._init,st(be(N._payload),te,oe,se,pe)}}if(be)return pe=pe(N),be=se===""?"."+L(N,0):se,ce(pe)?(oe="",be!=null&&(oe=be.replace(P,"$&/")+"/"),st(pe,te,oe,"",function(Xn){return Xn})):pe!=null&&(R(pe)&&(pe=w(pe,oe+(pe.key==null||N&&N.key===pe.key?"":(""+pe.key).replace(P,"$&/")+"/")+be)),te.push(pe)),1;be=0;var xt=se===""?".":se+":";if(ce(N))for(var et=0;et<N.length;et++)se=N[et],Ie=xt+L(se,et),be+=st(se,te,oe,Ie,pe);else if(et=b(N),typeof et=="function")for(N=et.call(N),et=0;!(se=N.next()).done;)se=se.value,Ie=xt+L(se,et++),be+=st(se,te,oe,Ie,pe);else if(Ie==="object"){if(typeof N.then=="function")return st(rt(N),te,oe,se,pe);throw te=String(N),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return be}function Q(N,te,oe){if(N==null)return N;var se=[],pe=0;return st(N,se,"","",function(Ie){return te.call(oe,Ie,pe++)}),se}function le(N){if(N._status===-1){var te=N._result;te=te(),te.then(function(oe){(N._status===0||N._status===-1)&&(N._status=1,N._result=oe)},function(oe){(N._status===0||N._status===-1)&&(N._status=2,N._result=oe)}),N._status===-1&&(N._status=0,N._result=te)}if(N._status===1)return N._result.default;throw N._result}var de=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function ke(){}return De.Children={map:Q,forEach:function(N,te,oe){Q(N,function(){te.apply(this,arguments)},oe)},count:function(N){var te=0;return Q(N,function(){te++}),te},toArray:function(N){return Q(N,function(te){return te})||[]},only:function(N){if(!R(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},De.Component=V,De.Fragment=n,De.Profiler=o,De.PureComponent=re,De.StrictMode=s,De.Suspense=g,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,De.__COMPILER_RUNTIME={__proto__:null,c:function(N){return ue.H.useMemoCache(N)}},De.cache=function(N){return function(){return N.apply(null,arguments)}},De.cloneElement=function(N,te,oe){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var se=D({},N.props),pe=N.key,Ie=void 0;if(te!=null)for(be in te.ref!==void 0&&(Ie=void 0),te.key!==void 0&&(pe=""+te.key),te)!Te.call(te,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&te.ref===void 0||(se[be]=te[be]);var be=arguments.length-2;if(be===1)se.children=oe;else if(1<be){for(var xt=Array(be),et=0;et<be;et++)xt[et]=arguments[et+2];se.children=xt}return O(N.type,pe,void 0,void 0,Ie,se)},De.createContext=function(N){return N={$$typeof:h,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},De.createElement=function(N,te,oe){var se,pe={},Ie=null;if(te!=null)for(se in te.key!==void 0&&(Ie=""+te.key),te)Te.call(te,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(pe[se]=te[se]);var be=arguments.length-2;if(be===1)pe.children=oe;else if(1<be){for(var xt=Array(be),et=0;et<be;et++)xt[et]=arguments[et+2];pe.children=xt}if(N&&N.defaultProps)for(se in be=N.defaultProps,be)pe[se]===void 0&&(pe[se]=be[se]);return O(N,Ie,void 0,void 0,null,pe)},De.createRef=function(){return{current:null}},De.forwardRef=function(N){return{$$typeof:m,render:N}},De.isValidElement=R,De.lazy=function(N){return{$$typeof:v,_payload:{_status:-1,_result:N},_init:le}},De.memo=function(N,te){return{$$typeof:p,type:N,compare:te===void 0?null:te}},De.startTransition=function(N){var te=ue.T,oe={};ue.T=oe;try{var se=N(),pe=ue.S;pe!==null&&pe(oe,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(ke,de)}catch(Ie){de(Ie)}finally{ue.T=te}},De.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},De.use=function(N){return ue.H.use(N)},De.useActionState=function(N,te,oe){return ue.H.useActionState(N,te,oe)},De.useCallback=function(N,te){return ue.H.useCallback(N,te)},De.useContext=function(N){return ue.H.useContext(N)},De.useDebugValue=function(){},De.useDeferredValue=function(N,te){return ue.H.useDeferredValue(N,te)},De.useEffect=function(N,te,oe){var se=ue.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(N,te)},De.useId=function(){return ue.H.useId()},De.useImperativeHandle=function(N,te,oe){return ue.H.useImperativeHandle(N,te,oe)},De.useInsertionEffect=function(N,te){return ue.H.useInsertionEffect(N,te)},De.useLayoutEffect=function(N,te){return ue.H.useLayoutEffect(N,te)},De.useMemo=function(N,te){return ue.H.useMemo(N,te)},De.useOptimistic=function(N,te){return ue.H.useOptimistic(N,te)},De.useReducer=function(N,te,oe){return ue.H.useReducer(N,te,oe)},De.useRef=function(N){return ue.H.useRef(N)},De.useState=function(N){return ue.H.useState(N)},De.useSyncExternalStore=function(N,te,oe){return ue.H.useSyncExternalStore(N,te,oe)},De.useTransition=function(){return ue.H.useTransition()},De.version="19.1.1",De}var P0;function yp(){return P0||(P0=1,ym.exports=C2()),ym.exports}var $=yp();const Fr=b2($);var _m={exports:{}},Ul={},vm={exports:{}},Em={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L0;function I2(){return L0||(L0=1,(function(i){function e(Q,le){var de=Q.length;Q.push(le);e:for(;0<de;){var ke=de-1>>>1,N=Q[ke];if(0<o(N,le))Q[ke]=le,Q[de]=N,de=ke;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var le=Q[0],de=Q.pop();if(de!==le){Q[0]=de;e:for(var ke=0,N=Q.length,te=N>>>1;ke<te;){var oe=2*(ke+1)-1,se=Q[oe],pe=oe+1,Ie=Q[pe];if(0>o(se,de))pe<N&&0>o(Ie,se)?(Q[ke]=Ie,Q[pe]=de,ke=pe):(Q[ke]=se,Q[oe]=de,ke=oe);else if(pe<N&&0>o(Ie,de))Q[ke]=Ie,Q[pe]=de,ke=pe;else break e}}return le}function o(Q,le){var de=Q.sortIndex-le.sortIndex;return de!==0?de:Q.id-le.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var g=[],p=[],v=1,A=null,b=3,U=!1,D=!1,j=!1,V=!1,Y=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function ce(Q){for(var le=n(p);le!==null;){if(le.callback===null)s(p);else if(le.startTime<=Q)s(p),le.sortIndex=le.expirationTime,e(g,le);else break;le=n(p)}}function ue(Q){if(j=!1,ce(Q),!D)if(n(g)!==null)D=!0,Te||(Te=!0,L());else{var le=n(p);le!==null&&st(ue,le.startTime-Q)}}var Te=!1,O=-1,w=5,R=-1;function x(){return V?!0:!(i.unstable_now()-R<w)}function P(){if(V=!1,Te){var Q=i.unstable_now();R=Q;var le=!0;try{e:{D=!1,j&&(j=!1,re(O),O=-1),U=!0;var de=b;try{t:{for(ce(Q),A=n(g);A!==null&&!(A.expirationTime>Q&&x());){var ke=A.callback;if(typeof ke=="function"){A.callback=null,b=A.priorityLevel;var N=ke(A.expirationTime<=Q);if(Q=i.unstable_now(),typeof N=="function"){A.callback=N,ce(Q),le=!0;break t}A===n(g)&&s(g),ce(Q)}else s(g);A=n(g)}if(A!==null)le=!0;else{var te=n(p);te!==null&&st(ue,te.startTime-Q),le=!1}}break e}finally{A=null,b=de,U=!1}le=void 0}}finally{le?L():Te=!1}}}var L;if(typeof Z=="function")L=function(){Z(P)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,rt=I.port2;I.port1.onmessage=P,L=function(){rt.postMessage(null)}}else L=function(){Y(P,0)};function st(Q,le){O=Y(function(){Q(i.unstable_now())},le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Q){Q.callback=null},i.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Q?Math.floor(1e3/Q):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_next=function(Q){switch(b){case 1:case 2:case 3:var le=3;break;default:le=b}var de=b;b=le;try{return Q()}finally{b=de}},i.unstable_requestPaint=function(){V=!0},i.unstable_runWithPriority=function(Q,le){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var de=b;b=Q;try{return le()}finally{b=de}},i.unstable_scheduleCallback=function(Q,le,de){var ke=i.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?ke+de:ke):de=ke,Q){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=de+N,Q={id:v++,callback:le,priorityLevel:Q,startTime:de,expirationTime:N,sortIndex:-1},de>ke?(Q.sortIndex=de,e(p,Q),n(g)===null&&Q===n(p)&&(j?(re(O),O=-1):j=!0,st(ue,de-ke))):(Q.sortIndex=N,e(g,Q),D||U||(D=!0,Te||(Te=!0,L()))),Q},i.unstable_shouldYield=x,i.unstable_wrapCallback=function(Q){var le=b;return function(){var de=b;b=le;try{return Q.apply(this,arguments)}finally{b=de}}}})(Em)),Em}var k0;function D2(){return k0||(k0=1,vm.exports=I2()),vm.exports}var Tm={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U0;function N2(){if(U0)return Xt;U0=1;var i=yp();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,v){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:g,containerInfo:p,implementation:v}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xt.createPortal=function(g,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,v)},Xt.flushSync=function(g){var p=h.T,v=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=p,s.p=v,s.d.f()}},Xt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},Xt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Xt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var v=p.as,A=m(v,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,U=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:A,integrity:b,fetchPriority:U}):v==="script"&&s.d.X(g,{crossOrigin:A,integrity:b,fetchPriority:U,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Xt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=m(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},Xt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,A=m(v,p.crossOrigin);s.d.L(g,v,{crossOrigin:A,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Xt.preloadModule=function(g,p){if(typeof g=="string")if(p){var v=m(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},Xt.requestFormReset=function(g){s.d.r(g)},Xt.unstable_batchedUpdates=function(g,p){return g(p)},Xt.useFormState=function(g,p,v){return h.H.useFormState(g,p,v)},Xt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Xt.version="19.1.1",Xt}var z0;function O2(){if(z0)return Tm.exports;z0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Tm.exports=N2(),Tm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B0;function M2(){if(B0)return Ul;B0=1;var i=D2(),e=yp(),n=O2();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function h(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function g(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),t;if(d===l)return m(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var E=!1,T=f.child;T;){if(T===a){E=!0,a=f,l=d;break}if(T===l){E=!0,l=f,a=d;break}T=T.sibling}if(!E){for(T=d.child;T;){if(T===a){E=!0,a=d,l=f;break}if(T===l){E=!0,l=d,a=f;break}T=T.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function p(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=p(t),r!==null)return r;t=t.sibling}return null}var v=Object.assign,A=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),re=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=P&&t[P]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function rt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case D:return"Fragment";case V:return"Profiler";case j:return"StrictMode";case ue:return"Suspense";case Te:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case U:return"Portal";case Z:return(t.displayName||"Context")+".Provider";case re:return(t._context.displayName||"Context")+".Consumer";case ce:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return r=t.displayName||null,r!==null?r:rt(t.type)||"Memo";case w:r=t._payload,t=t._init;try{return rt(t(r))}catch{}}return null}var st=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},ke=[],N=-1;function te(t){return{current:t}}function oe(t){0>N||(t.current=ke[N],ke[N]=null,N--)}function se(t,r){N++,ke[N]=t.current,t.current=r}var pe=te(null),Ie=te(null),be=te(null),xt=te(null);function et(t,r){switch(se(be,r),se(Ie,t),se(pe,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?a0(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=a0(r),t=o0(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}oe(pe),se(pe,t)}function Xn(){oe(pe),oe(Ie),oe(be)}function cr(t){t.memoizedState!==null&&se(xt,t);var r=pe.current,a=o0(r,t.type);r!==a&&(se(Ie,t),se(pe,a))}function Ci(t){Ie.current===t&&(oe(pe),oe(Ie)),xt.current===t&&(oe(xt),Ml._currentValue=de)}var is=Object.prototype.hasOwnProperty,rs=i.unstable_scheduleCallback,ss=i.unstable_cancelCallback,Do=i.unstable_shouldYield,Ru=i.unstable_requestPaint,Sn=i.unstable_now,gf=i.unstable_getCurrentPriorityLevel,No=i.unstable_ImmediatePriority,aa=i.unstable_UserBlockingPriority,as=i.unstable_NormalPriority,yf=i.unstable_LowPriority,oa=i.unstable_IdlePriority,Oo=i.log,Cu=i.unstable_setDisableYieldValue,ht=null,Ke=null;function mn(t){if(typeof Oo=="function"&&Cu(t),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(ht,t)}catch{}}var Yt=Math.clz32?Math.clz32:os,Iu=Math.log,_f=Math.LN2;function os(t){return t>>>=0,t===0?32:31-(Iu(t)/_f|0)|0}var ls=256,us=4194304;function Un(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function la(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?f=Un(l):(E&=T,E!==0?f=Un(E):a||(a=T&~t,a!==0&&(f=Un(a))))):(T=l&~d,T!==0?f=Un(T):E!==0?f=Un(E):a||(a=l&~t,a!==0&&(f=Un(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function cs(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Mo(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xo(){var t=ls;return ls<<=1,(ls&4194048)===0&&(ls=256),t}function Vo(){var t=us;return us<<=1,(us&62914560)===0&&(us=4194304),t}function Ii(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Di(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Po(t,r,a,l,f,d){var E=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,q=t.hiddenUpdates;for(a=E&~a;0<a;){var J=31-Yt(a),ne=1<<J;T[J]=0,C[J]=-1;var H=q[J];if(H!==null)for(q[J]=null,J=0;J<H.length;J++){var F=H[J];F!==null&&(F.lane&=-536870913)}a&=~ne}l!==0&&Jn(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(E&~r))}function Jn(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Yt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Lo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Yt(a),f=1<<l;f&r|t[l]&r&&(t[l]|=r),a&=~f}}function hr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ua(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function fr(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:R0(t.type))}function Du(t,r){var a=le.p;try{return le.p=t,r()}finally{le.p=a}}var at=Math.random().toString(36).slice(2),Rt="__reactFiber$"+at,vt="__reactProps$"+at,bn="__reactContainer$"+at,ko="__reactEvents$"+at,vf="__reactListeners$"+at,dr="__reactHandles$"+at,Nu="__reactResources$"+at,hs="__reactMarker$"+at;function mr(t){delete t[Rt],delete t[vt],delete t[ko],delete t[vf],delete t[dr]}function Ni(t){var r=t[Rt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[bn]||a[Rt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=h0(t);t!==null;){if(a=t[Rt])return a;t=h0(t)}return r}t=a,a=t.parentNode}return null}function Wn(t){if(t=t[Rt]||t[bn]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function Zn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function nn(t){var r=t[Nu];return r||(r=t[Nu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function mt(t){t[hs]=!0}var Uo=new Set,ca={};function zn(t,r){Oi(t,r),Oi(t+"Capture",r)}function Oi(t,r){for(ca[t]=r,t=0;t<r.length;t++)Uo.add(r[t])}var Ou=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mu={},fs={};function xu(t){return is.call(fs,t)?!0:is.call(Mu,t)?!1:Ou.test(t)?fs[t]=!0:(Mu[t]=!0,!1)}function pr(t,r,a){if(xu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function ei(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Bt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var ds,Vu;function Mi(t){if(ds===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);ds=r&&r[1]||"",Vu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ds+t+Vu}var ha=!1;function fa(t,r){if(!t||ha)return"";ha=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(F){var H=F}Reflect.construct(t,[],ne)}else{try{ne.call()}catch(F){H=F}t.call(ne.prototype)}}else{try{throw Error()}catch(F){H=F}(ne=t())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(F){if(F&&H&&typeof F.stack=="string")return[F.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],T=d[1];if(E&&T){var C=E.split(`
`),q=T.split(`
`);for(f=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(l===C.length||f===q.length)for(l=C.length-1,f=q.length-1;1<=l&&0<=f&&C[l]!==q[f];)f--;for(;1<=l&&0<=f;l--,f--)if(C[l]!==q[f]){if(l!==1||f!==1)do if(l--,f--,0>f||C[l]!==q[f]){var J=`
`+C[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=f);break}}}finally{ha=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Mi(a):""}function zo(t){switch(t.tag){case 26:case 27:case 5:return Mi(t.type);case 16:return Mi("Lazy");case 13:return Mi("Suspense");case 19:return Mi("SuspenseList");case 0:case 15:return fa(t.type,!1);case 11:return fa(t.type.render,!1);case 1:return fa(t.type,!0);case 31:return Mi("Activity");default:return""}}function da(t){try{var r="";do r+=zo(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function rn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Bo(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ef(t){var r=Bo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function ma(t){t._valueTracker||(t._valueTracker=Ef(t))}function jo(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Bo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function ms(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Tf=/[\n"\\]/g;function Et(t){return t.replace(Tf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function pn(t,r,a,l,f,d,E,T){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),r!=null?E==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+rn(r)):t.value!==""+rn(r)&&(t.value=""+rn(r)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),r!=null?gr(t,E,rn(r)):a!=null?gr(t,E,rn(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+rn(T):t.removeAttribute("name")}function ps(t,r,a,l,f,d,E,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+rn(a):"",r=r!=null?""+rn(r):a,T||r===t.value||(t.value=r),t.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function gr(t,r,a){r==="number"&&ms(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function xi(t,r,a,l){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+rn(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function $e(t,r,a){if(r!=null&&(r=""+rn(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+rn(a):""}function gs(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(st(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=rn(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function wn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var ys=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pu(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||ys.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function qo(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&Pu(t,f,l)}else for(var d in r)r.hasOwnProperty(d)&&Pu(t,d,r[d])}function Ho(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Af=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pa(t){return Sf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Vi=null;function Rn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pi=null,Li=null;function Fo(t){var r=Wn(t);if(r&&(t=r.stateNode)){var a=t[vt]||null;e:switch(t=r.stateNode,r.type){case"input":if(pn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Et(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var f=l[vt]||null;if(!f)throw Error(s(90));pn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&jo(l)}break e;case"textarea":$e(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&xi(t,!!a.multiple,r,!1)}}}var ti=!1;function Lu(t,r,a){if(ti)return t(r,a);ti=!0;try{var l=t(r);return l}finally{if(ti=!1,(Pi!==null||Li!==null)&&(Dc(),Pi&&(r=Pi,t=Li,Li=Pi=null,Fo(r),t)))for(r=0;r<t.length;r++)Fo(t[r])}}function _s(t,r){var a=t.stateNode;if(a===null)return null;var l=a[vt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cn=!1;if(Bn)try{var vs={};Object.defineProperty(vs,"passive",{get:function(){Cn=!0}}),window.addEventListener("test",vs,vs),window.removeEventListener("test",vs,vs)}catch{Cn=!1}var ni=null,yr=null,ki=null;function Go(){if(ki)return ki;var t,r=yr,a=r.length,l,f="value"in ni?ni.value:ni.textContent,d=f.length;for(t=0;t<a&&r[t]===f[t];t++);var E=a-t;for(l=1;l<=E&&r[a-l]===f[d-l];l++);return ki=f.slice(t,1<l?1-l:void 0)}function ii(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function ri(){return!0}function Ko(){return!1}function Vt(t){function r(a,l,f,d,E){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ri:Ko,this.isPropagationStopped=Ko,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),r}var Fe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ga=Vt(Fe),Es=v({},Fe,{view:0,detail:0}),ku=Vt(Es),ya,_a,si,Ts=v({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==si&&(si&&t.type==="mousemove"?(ya=t.screenX-si.screenX,_a=t.screenY-si.screenY):_a=ya=0,si=t),ya)},movementY:function(t){return"movementY"in t?t.movementY:_a}}),In=Vt(Ts),Uu=v({},Ts,{dataTransfer:0}),bf=Vt(Uu),As=v({},Es,{relatedTarget:0}),va=Vt(As),Qo=v({},Fe,{animationName:0,elapsedTime:0,pseudoElement:0}),Ea=Vt(Qo),zu=v({},Fe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ta=Vt(zu),wf=v({},Fe,{data:0}),Yo=Vt(wf),Ss={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ju={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $o(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=ju[t])?!!r[t]:!1}function bs(){return $o}var qu=v({},Es,{key:function(t){if(t.key){var r=Ss[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=ii(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bs,charCode:function(t){return t.type==="keypress"?ii(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ii(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Aa=Vt(qu),Hu=v({},Ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xo=Vt(Hu),Ui=v({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bs}),Fu=Vt(Ui),Gu=v({},Fe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ku=Vt(Gu),Qu=v({},Ts,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Sa=Vt(Qu),sn=v({},Fe,{newState:0,oldState:0}),Yu=Vt(sn),$u=[9,13,27,32],ai=Bn&&"CompositionEvent"in window,c=null;Bn&&"documentMode"in document&&(c=document.documentMode);var y=Bn&&"TextEvent"in window&&!c,_=Bn&&(!ai||c&&8<c&&11>=c),S=" ",z=!1;function K(t,r){switch(t){case"keyup":return $u.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ae(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ue=!1;function Ct(t,r){switch(t){case"compositionend":return ae(r);case"keypress":return r.which!==32?null:(z=!0,S);case"textInput":return t=r.data,t===S&&z?null:t;default:return null}}function ze(t,r){if(Ue)return t==="compositionend"||!ai&&K(t,r)?(t=Go(),ki=yr=ni=null,Ue=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Pt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function It(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Pt[t.type]:r==="textarea"}function zi(t,r,a,l){Pi?Li?Li.push(l):Li=[l]:Pi=l,r=Pc(r,"onChange"),0<r.length&&(a=new ga("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var jt=null,oi=null;function Jo(t){t0(t,0)}function Xu(t){var r=Zn(t);if(jo(r))return t}function Ag(t,r){if(t==="change")return r}var Sg=!1;if(Bn){var Rf;if(Bn){var Cf="oninput"in document;if(!Cf){var bg=document.createElement("div");bg.setAttribute("oninput","return;"),Cf=typeof bg.oninput=="function"}Rf=Cf}else Rf=!1;Sg=Rf&&(!document.documentMode||9<document.documentMode)}function wg(){jt&&(jt.detachEvent("onpropertychange",Rg),oi=jt=null)}function Rg(t){if(t.propertyName==="value"&&Xu(oi)){var r=[];zi(r,oi,t,Rn(t)),Lu(Jo,r)}}function eS(t,r,a){t==="focusin"?(wg(),jt=r,oi=a,jt.attachEvent("onpropertychange",Rg)):t==="focusout"&&wg()}function tS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xu(oi)}function nS(t,r){if(t==="click")return Xu(r)}function iS(t,r){if(t==="input"||t==="change")return Xu(r)}function rS(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var gn=typeof Object.is=="function"?Object.is:rS;function Wo(t,r){if(gn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!is.call(r,f)||!gn(t[f],r[f]))return!1}return!0}function Cg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ig(t,r){var a=Cg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Cg(a)}}function Dg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Dg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Ng(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=ms(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=ms(t.document)}return r}function If(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var sS=Bn&&"documentMode"in document&&11>=document.documentMode,ba=null,Df=null,Zo=null,Nf=!1;function Og(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Nf||ba==null||ba!==ms(l)||(l=ba,"selectionStart"in l&&If(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Zo&&Wo(Zo,l)||(Zo=l,l=Pc(Df,"onSelect"),0<l.length&&(r=new ga("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=ba)))}function ws(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var wa={animationend:ws("Animation","AnimationEnd"),animationiteration:ws("Animation","AnimationIteration"),animationstart:ws("Animation","AnimationStart"),transitionrun:ws("Transition","TransitionRun"),transitionstart:ws("Transition","TransitionStart"),transitioncancel:ws("Transition","TransitionCancel"),transitionend:ws("Transition","TransitionEnd")},Of={},Mg={};Bn&&(Mg=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function Rs(t){if(Of[t])return Of[t];if(!wa[t])return t;var r=wa[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Mg)return Of[t]=r[a];return t}var xg=Rs("animationend"),Vg=Rs("animationiteration"),Pg=Rs("animationstart"),aS=Rs("transitionrun"),oS=Rs("transitionstart"),lS=Rs("transitioncancel"),Lg=Rs("transitionend"),kg=new Map,Mf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mf.push("scrollEnd");function jn(t,r){kg.set(t,r),zn(r,[t])}var Ug=new WeakMap;function Dn(t,r){if(typeof t=="object"&&t!==null){var a=Ug.get(t);return a!==void 0?a:(r={value:t,source:r,stack:da(r)},Ug.set(t,r),r)}return{value:t,source:r,stack:da(r)}}var Nn=[],Ra=0,xf=0;function Ju(){for(var t=Ra,r=xf=Ra=0;r<t;){var a=Nn[r];Nn[r++]=null;var l=Nn[r];Nn[r++]=null;var f=Nn[r];Nn[r++]=null;var d=Nn[r];if(Nn[r++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}d!==0&&zg(a,f,d)}}function Wu(t,r,a,l){Nn[Ra++]=t,Nn[Ra++]=r,Nn[Ra++]=a,Nn[Ra++]=l,xf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Vf(t,r,a,l){return Wu(t,r,a,l),Zu(t)}function Ca(t,r){return Wu(t,null,null,r),Zu(t)}function zg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&r!==null&&(f=31-Yt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function Zu(t){if(50<bl)throw bl=0,Bd=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Ia={};function uS(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,r,a,l){return new uS(t,r,a,l)}function Pf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Bi(t,r){var a=t.alternate;return a===null?(a=yn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Bg(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function ec(t,r,a,l,f,d){var E=0;if(l=t,typeof t=="function")Pf(t)&&(E=1);else if(typeof t=="string")E=h2(t,a,pe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=yn(31,a,r,f),t.elementType=R,t.lanes=d,t;case D:return Cs(a.children,f,d,r);case j:E=8,f|=24;break;case V:return t=yn(12,a,r,f|2),t.elementType=V,t.lanes=d,t;case ue:return t=yn(13,a,r,f),t.elementType=ue,t.lanes=d,t;case Te:return t=yn(19,a,r,f),t.elementType=Te,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Y:case Z:E=10;break e;case re:E=9;break e;case ce:E=11;break e;case O:E=14;break e;case w:E=16,l=null;break e}E=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=yn(E,a,r,f),r.elementType=t,r.type=l,r.lanes=d,r}function Cs(t,r,a,l){return t=yn(7,t,l,r),t.lanes=a,t}function Lf(t,r,a){return t=yn(6,t,null,r),t.lanes=a,t}function kf(t,r,a){return r=yn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Da=[],Na=0,tc=null,nc=0,On=[],Mn=0,Is=null,ji=1,qi="";function Ds(t,r){Da[Na++]=nc,Da[Na++]=tc,tc=t,nc=r}function jg(t,r,a){On[Mn++]=ji,On[Mn++]=qi,On[Mn++]=Is,Is=t;var l=ji;t=qi;var f=32-Yt(l)-1;l&=~(1<<f),a+=1;var d=32-Yt(r)+f;if(30<d){var E=f-f%5;d=(l&(1<<E)-1).toString(32),l>>=E,f-=E,ji=1<<32-Yt(r)+f|a<<f|l,qi=d+t}else ji=1<<d|a<<f|l,qi=t}function Uf(t){t.return!==null&&(Ds(t,1),jg(t,1,0))}function zf(t){for(;t===tc;)tc=Da[--Na],Da[Na]=null,nc=Da[--Na],Da[Na]=null;for(;t===Is;)Is=On[--Mn],On[Mn]=null,qi=On[--Mn],On[Mn]=null,ji=On[--Mn],On[Mn]=null}var an=null,ft=null,He=!1,Ns=null,li=!1,Bf=Error(s(519));function Os(t){var r=Error(s(418,""));throw nl(Dn(r,t)),Bf}function qg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[Rt]=t,r[vt]=l,a){case"dialog":xe("cancel",r),xe("close",r);break;case"iframe":case"object":case"embed":xe("load",r);break;case"video":case"audio":for(a=0;a<Rl.length;a++)xe(Rl[a],r);break;case"source":xe("error",r);break;case"img":case"image":case"link":xe("error",r),xe("load",r);break;case"details":xe("toggle",r);break;case"input":xe("invalid",r),ps(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ma(r);break;case"select":xe("invalid",r);break;case"textarea":xe("invalid",r),gs(r,l.value,l.defaultValue,l.children),ma(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||s0(r.textContent,a)?(l.popover!=null&&(xe("beforetoggle",r),xe("toggle",r)),l.onScroll!=null&&xe("scroll",r),l.onScrollEnd!=null&&xe("scrollend",r),l.onClick!=null&&(r.onclick=Lc),r=!0):r=!1,r||Os(t)}function Hg(t){for(an=t.return;an;)switch(an.tag){case 5:case 13:li=!1;return;case 27:case 3:li=!0;return;default:an=an.return}}function el(t){if(t!==an)return!1;if(!He)return Hg(t),He=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||nm(t.type,t.memoizedProps)),a=!a),a&&ft&&Os(t),Hg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){ft=Hn(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}ft=null}}else r===27?(r=ft,xr(t.type)?(t=am,am=null,ft=t):ft=r):ft=an?Hn(t.stateNode.nextSibling):null;return!0}function tl(){ft=an=null,He=!1}function Fg(){var t=Ns;return t!==null&&(un===null?un=t:un.push.apply(un,t),Ns=null),t}function nl(t){Ns===null?Ns=[t]:Ns.push(t)}var jf=te(null),Ms=null,Hi=null;function _r(t,r,a){se(jf,r._currentValue),r._currentValue=a}function Fi(t){t._currentValue=jf.current,oe(jf)}function qf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Hf(t,r,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var E=f.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=f;for(var C=0;C<r.length;C++)if(T.context===r[C]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),qf(d.return,a,t),l||(E=null);break e}d=T.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),qf(E,a,t),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===t){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function il(t,r,a,l){t=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var T=f.type;gn(f.pendingProps.value,E.value)||(t!==null?t.push(T):t=[T])}}else if(f===xt.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Ml):t=[Ml])}f=f.return}t!==null&&Hf(r,t,a,l),r.flags|=262144}function ic(t){for(t=t.firstContext;t!==null;){if(!gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function xs(t){Ms=t,Hi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $t(t){return Gg(Ms,t)}function rc(t,r){return Ms===null&&xs(t),Gg(t,r)}function Gg(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Hi===null){if(t===null)throw Error(s(308));Hi=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Hi=Hi.next=r;return a}var cS=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},hS=i.unstable_scheduleCallback,fS=i.unstable_NormalPriority,Dt={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ff(){return{controller:new cS,data:new Map,refCount:0}}function rl(t){t.refCount--,t.refCount===0&&hS(fS,function(){t.controller.abort()})}var sl=null,Gf=0,Oa=0,Ma=null;function dS(t,r){if(sl===null){var a=sl=[];Gf=0,Oa=Qd(),Ma={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Gf++,r.then(Kg,Kg),r}function Kg(){if(--Gf===0&&sl!==null){Ma!==null&&(Ma.status="fulfilled");var t=sl;sl=null,Oa=0,Ma=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function mS(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Qg=Q.S;Q.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&dS(t,r),Qg!==null&&Qg(t,r)};var Vs=te(null);function Kf(){var t=Vs.current;return t!==null?t:tt.pooledCache}function sc(t,r){r===null?se(Vs,Vs.current):se(Vs,r.pool)}function Yg(){var t=Kf();return t===null?null:{parent:Dt._currentValue,pool:t}}var al=Error(s(460)),$g=Error(s(474)),ac=Error(s(542)),Qf={then:function(){}};function Xg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function oc(){}function Jg(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(oc,oc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Zg(t),t;default:if(typeof r.status=="string")r.then(oc,oc);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Zg(t),t}throw ol=r,al}}var ol=null;function Wg(){if(ol===null)throw Error(s(459));var t=ol;return ol=null,t}function Zg(t){if(t===al||t===ac)throw Error(s(483))}var vr=!1;function Yf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $f(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Er(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Tr(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qe&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=Zu(t),zg(t,null,a),r}return Wu(t,l,r,a),Zu(t)}function ll(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Lo(t,a)}}function Xf(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Jf=!1;function ul(){if(Jf){var t=Ma;if(t!==null)throw t}}function cl(t,r,a,l){Jf=!1;var f=t.updateQueue;vr=!1;var d=f.firstBaseUpdate,E=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var C=T,q=C.next;C.next=null,E===null?d=q:E.next=q,E=C;var J=t.alternate;J!==null&&(J=J.updateQueue,T=J.lastBaseUpdate,T!==E&&(T===null?J.firstBaseUpdate=q:T.next=q,J.lastBaseUpdate=C))}if(d!==null){var ne=f.baseState;E=0,J=q=C=null,T=d;do{var H=T.lane&-536870913,F=H!==T.lane;if(F?(Be&H)===H:(l&H)===H){H!==0&&H===Oa&&(Jf=!0),J!==null&&(J=J.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Ae=t,_e=T;H=r;var We=a;switch(_e.tag){case 1:if(Ae=_e.payload,typeof Ae=="function"){ne=Ae.call(We,ne,H);break e}ne=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=_e.payload,H=typeof Ae=="function"?Ae.call(We,ne,H):Ae,H==null)break e;ne=v({},ne,H);break e;case 2:vr=!0}}H=T.callback,H!==null&&(t.flags|=64,F&&(t.flags|=8192),F=f.callbacks,F===null?f.callbacks=[H]:F.push(H))}else F={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},J===null?(q=J=F,C=ne):J=J.next=F,E|=H;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;F=T,T=F.next,F.next=null,f.lastBaseUpdate=F,f.shared.pending=null}}while(!0);J===null&&(C=ne),f.baseState=C,f.firstBaseUpdate=q,f.lastBaseUpdate=J,d===null&&(f.shared.lanes=0),Dr|=E,t.lanes=E,t.memoizedState=ne}}function ey(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function ty(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ey(a[t],r)}var xa=te(null),lc=te(0);function ny(t,r){t=Ji,se(lc,t),se(xa,r),Ji=t|r.baseLanes}function Wf(){se(lc,Ji),se(xa,xa.current)}function Zf(){Ji=lc.current,oe(xa),oe(lc)}var Ar=0,Ne=null,Xe=null,Tt=null,uc=!1,Va=!1,Ps=!1,cc=0,hl=0,Pa=null,pS=0;function pt(){throw Error(s(321))}function ed(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!gn(t[a],r[a]))return!1;return!0}function td(t,r,a,l,f,d){return Ar=d,Ne=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=t===null||t.memoizedState===null?zy:By,Ps=!1,d=a(l,f),Ps=!1,Va&&(d=ry(r,a,l,f)),iy(t),d}function iy(t){Q.H=gc;var r=Xe!==null&&Xe.next!==null;if(Ar=0,Tt=Xe=Ne=null,uc=!1,hl=0,Pa=null,r)throw Error(s(300));t===null||Lt||(t=t.dependencies,t!==null&&ic(t)&&(Lt=!0))}function ry(t,r,a,l){Ne=t;var f=0;do{if(Va&&(Pa=null),hl=0,Va=!1,25<=f)throw Error(s(301));if(f+=1,Tt=Xe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=AS,d=r(a,l)}while(Va);return d}function gS(){var t=Q.H,r=t.useState()[0];return r=typeof r.then=="function"?fl(r):r,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(Ne.flags|=1024),r}function nd(){var t=cc!==0;return cc=0,t}function id(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function rd(t){if(uc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}uc=!1}Ar=0,Tt=Xe=Ne=null,Va=!1,hl=cc=0,Pa=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?Ne.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function At(){if(Xe===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var r=Tt===null?Ne.memoizedState:Tt.next;if(r!==null)Tt=r,Xe=t;else{if(t===null)throw Ne.alternate===null?Error(s(467)):Error(s(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},Tt===null?Ne.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function sd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(t){var r=hl;return hl+=1,Pa===null&&(Pa=[]),t=Jg(Pa,t,r),r=Ne,(Tt===null?r.memoizedState:Tt.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?zy:By),t}function hc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fl(t);if(t.$$typeof===Z)return $t(t)}throw Error(s(438,String(t)))}function ad(t){var r=null,a=Ne.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=sd(),Ne.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=x;return r.index++,a}function Gi(t,r){return typeof r=="function"?r(t):r}function fc(t){var r=At();return od(r,Xe,t)}function od(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var E=f.next;f.next=d.next,d.next=E}r.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{r=f.next;var T=E=null,C=null,q=r,J=!1;do{var ne=q.lane&-536870913;if(ne!==q.lane?(Be&ne)===ne:(Ar&ne)===ne){var H=q.revertLane;if(H===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ne===Oa&&(J=!0);else if((Ar&H)===H){q=q.next,H===Oa&&(J=!0);continue}else ne={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(T=C=ne,E=d):C=C.next=ne,Ne.lanes|=H,Dr|=H;ne=q.action,Ps&&a(d,ne),d=q.hasEagerState?q.eagerState:a(d,ne)}else H={lane:ne,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(T=C=H,E=d):C=C.next=H,Ne.lanes|=ne,Dr|=ne;q=q.next}while(q!==null&&q!==r);if(C===null?E=d:C.next=T,!gn(d,t.memoizedState)&&(Lt=!0,J&&(a=Ma,a!==null)))throw a;t.memoizedState=d,t.baseState=E,t.baseQueue=C,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ld(t){var r=At(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do d=t(d,E.action),E=E.next;while(E!==f);gn(d,r.memoizedState)||(Lt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function sy(t,r,a){var l=Ne,f=At(),d=He;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var E=!gn((Xe||f).memoizedState,a);E&&(f.memoizedState=a,Lt=!0),f=f.queue;var T=ly.bind(null,l,f,t);if(dl(2048,8,T,[t]),f.getSnapshot!==r||E||Tt!==null&&Tt.memoizedState.tag&1){if(l.flags|=2048,La(9,dc(),oy.bind(null,l,f,a,r),null),tt===null)throw Error(s(349));d||(Ar&124)!==0||ay(l,r,a)}return a}function ay(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ne.updateQueue,r===null?(r=sd(),Ne.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function oy(t,r,a,l){r.value=a,r.getSnapshot=l,uy(r)&&cy(t)}function ly(t,r,a){return a(function(){uy(r)&&cy(t)})}function uy(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!gn(t,a)}catch{return!0}}function cy(t){var r=Ca(t,2);r!==null&&An(r,t,2)}function ud(t){var r=on();if(typeof t=="function"){var a=t;if(t=a(),Ps){mn(!0);try{a()}finally{mn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:t},r}function hy(t,r,a,l){return t.baseState=a,od(t,Xe,typeof l=="function"?l:Gi)}function yS(t,r,a,l,f){if(pc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,fy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function fy(t,r){var a=r.action,l=r.payload,f=t.state;if(r.isTransition){var d=Q.T,E={};Q.T=E;try{var T=a(f,l),C=Q.S;C!==null&&C(E,T),dy(t,r,T)}catch(q){cd(t,r,q)}finally{Q.T=d}}else try{d=a(f,l),dy(t,r,d)}catch(q){cd(t,r,q)}}function dy(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){my(t,r,l)},function(l){return cd(t,r,l)}):my(t,r,a)}function my(t,r,a){r.status="fulfilled",r.value=a,py(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,fy(t,a)))}function cd(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,py(r),r=r.next;while(r!==l)}t.action=null}function py(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function gy(t,r){return r}function yy(t,r){if(He){var a=tt.formState;if(a!==null){e:{var l=Ne;if(He){if(ft){t:{for(var f=ft,d=li;f.nodeType!==8;){if(!d){f=null;break t}if(f=Hn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ft=Hn(f.nextSibling),l=f.data==="F!";break e}}Os(l)}l=!1}l&&(r=a[0])}}return a=on(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gy,lastRenderedState:r},a.queue=l,a=Ly.bind(null,Ne,l),l.dispatch=a,l=ud(!1),d=pd.bind(null,Ne,!1,l.queue),l=on(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,a=yS.bind(null,Ne,f,d,a),f.dispatch=a,l.memoizedState=t,[r,a,!1]}function _y(t){var r=At();return vy(r,Xe,t)}function vy(t,r,a){if(r=od(t,r,gy)[0],t=fc(Gi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=fl(r)}catch(E){throw E===al?ac:E}else l=r;r=At();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Ne.flags|=2048,La(9,dc(),_S.bind(null,f,a),null)),[l,d,t]}function _S(t,r){t.action=r}function Ey(t){var r=At(),a=Xe;if(a!==null)return vy(r,a,t);At(),r=r.memoizedState,a=At();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function La(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Ne.updateQueue,r===null&&(r=sd(),Ne.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function dc(){return{destroy:void 0,resource:void 0}}function Ty(){return At().memoizedState}function mc(t,r,a,l){var f=on();l=l===void 0?null:l,Ne.flags|=t,f.memoizedState=La(1|r,dc(),a,l)}function dl(t,r,a,l){var f=At();l=l===void 0?null:l;var d=f.memoizedState.inst;Xe!==null&&l!==null&&ed(l,Xe.memoizedState.deps)?f.memoizedState=La(r,d,a,l):(Ne.flags|=t,f.memoizedState=La(1|r,d,a,l))}function Ay(t,r){mc(8390656,8,t,r)}function Sy(t,r){dl(2048,8,t,r)}function by(t,r){return dl(4,2,t,r)}function wy(t,r){return dl(4,4,t,r)}function Ry(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Cy(t,r,a){a=a!=null?a.concat([t]):null,dl(4,4,Ry.bind(null,r,t),a)}function hd(){}function Iy(t,r){var a=At();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&ed(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function Dy(t,r){var a=At();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&ed(r,l[1]))return l[0];if(l=t(),Ps){mn(!0);try{t()}finally{mn(!1)}}return a.memoizedState=[l,r],l}function fd(t,r,a){return a===void 0||(Ar&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=M_(),Ne.lanes|=t,Dr|=t,a)}function Ny(t,r,a,l){return gn(a,r)?a:xa.current!==null?(t=fd(t,a,l),gn(t,r)||(Lt=!0),t):(Ar&42)===0?(Lt=!0,t.memoizedState=a):(t=M_(),Ne.lanes|=t,Dr|=t,r)}function Oy(t,r,a,l,f){var d=le.p;le.p=d!==0&&8>d?d:8;var E=Q.T,T={};Q.T=T,pd(t,!1,r,a);try{var C=f(),q=Q.S;if(q!==null&&q(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var J=mS(C,l);ml(t,r,J,Tn(t))}else ml(t,r,l,Tn(t))}catch(ne){ml(t,r,{then:function(){},status:"rejected",reason:ne},Tn())}finally{le.p=d,Q.T=E}}function vS(){}function dd(t,r,a,l){if(t.tag!==5)throw Error(s(476));var f=My(t).queue;Oy(t,f,r,de,a===null?vS:function(){return xy(t),a(l)})}function My(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:de},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function xy(t){var r=My(t).next.queue;ml(t,r,{},Tn())}function md(){return $t(Ml)}function Vy(){return At().memoizedState}function Py(){return At().memoizedState}function ES(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=Tn();t=Er(a);var l=Tr(r,t,a);l!==null&&(An(l,r,a),ll(l,r,a)),r={cache:Ff()},t.payload=r;return}r=r.return}}function TS(t,r,a){var l=Tn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},pc(t)?ky(r,a):(a=Vf(t,r,a,l),a!==null&&(An(a,t,l),Uy(a,r,l)))}function Ly(t,r,a){var l=Tn();ml(t,r,a,l)}function ml(t,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(pc(t))ky(r,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var E=r.lastRenderedState,T=d(E,a);if(f.hasEagerState=!0,f.eagerState=T,gn(T,E))return Wu(t,r,f,0),tt===null&&Ju(),!1}catch{}finally{}if(a=Vf(t,r,f,l),a!==null)return An(a,t,l),Uy(a,r,l),!0}return!1}function pd(t,r,a,l){if(l={lane:2,revertLane:Qd(),action:l,hasEagerState:!1,eagerState:null,next:null},pc(t)){if(r)throw Error(s(479))}else r=Vf(t,a,l,2),r!==null&&An(r,t,2)}function pc(t){var r=t.alternate;return t===Ne||r!==null&&r===Ne}function ky(t,r){Va=uc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function Uy(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Lo(t,a)}}var gc={readContext:$t,use:hc,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt},zy={readContext:$t,use:hc,useCallback:function(t,r){return on().memoizedState=[t,r===void 0?null:r],t},useContext:$t,useEffect:Ay,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,mc(4194308,4,Ry.bind(null,r,t),a)},useLayoutEffect:function(t,r){return mc(4194308,4,t,r)},useInsertionEffect:function(t,r){mc(4,2,t,r)},useMemo:function(t,r){var a=on();r=r===void 0?null:r;var l=t();if(Ps){mn(!0);try{t()}finally{mn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=on();if(a!==void 0){var f=a(r);if(Ps){mn(!0);try{a(r)}finally{mn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=TS.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var r=on();return t={current:t},r.memoizedState=t},useState:function(t){t=ud(t);var r=t.queue,a=Ly.bind(null,Ne,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:hd,useDeferredValue:function(t,r){var a=on();return fd(a,t,r)},useTransition:function(){var t=ud(!1);return t=Oy.bind(null,Ne,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Ne,f=on();if(He){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),tt===null)throw Error(s(349));(Be&124)!==0||ay(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,Ay(ly.bind(null,l,d,t),[t]),l.flags|=2048,La(9,dc(),oy.bind(null,l,d,a,r),null),a},useId:function(){var t=on(),r=tt.identifierPrefix;if(He){var a=qi,l=ji;a=(l&~(1<<32-Yt(l)-1)).toString(32)+a,r=""+r+"R"+a,a=cc++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=pS++,r=""+r+"r"+a.toString(32)+"";return t.memoizedState=r},useHostTransitionStatus:md,useFormState:yy,useActionState:yy,useOptimistic:function(t){var r=on();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=pd.bind(null,Ne,!0,a),a.dispatch=r,[t,r]},useMemoCache:ad,useCacheRefresh:function(){return on().memoizedState=ES.bind(null,Ne)}},By={readContext:$t,use:hc,useCallback:Iy,useContext:$t,useEffect:Sy,useImperativeHandle:Cy,useInsertionEffect:by,useLayoutEffect:wy,useMemo:Dy,useReducer:fc,useRef:Ty,useState:function(){return fc(Gi)},useDebugValue:hd,useDeferredValue:function(t,r){var a=At();return Ny(a,Xe.memoizedState,t,r)},useTransition:function(){var t=fc(Gi)[0],r=At().memoizedState;return[typeof t=="boolean"?t:fl(t),r]},useSyncExternalStore:sy,useId:Vy,useHostTransitionStatus:md,useFormState:_y,useActionState:_y,useOptimistic:function(t,r){var a=At();return hy(a,Xe,t,r)},useMemoCache:ad,useCacheRefresh:Py},AS={readContext:$t,use:hc,useCallback:Iy,useContext:$t,useEffect:Sy,useImperativeHandle:Cy,useInsertionEffect:by,useLayoutEffect:wy,useMemo:Dy,useReducer:ld,useRef:Ty,useState:function(){return ld(Gi)},useDebugValue:hd,useDeferredValue:function(t,r){var a=At();return Xe===null?fd(a,t,r):Ny(a,Xe.memoizedState,t,r)},useTransition:function(){var t=ld(Gi)[0],r=At().memoizedState;return[typeof t=="boolean"?t:fl(t),r]},useSyncExternalStore:sy,useId:Vy,useHostTransitionStatus:md,useFormState:Ey,useActionState:Ey,useOptimistic:function(t,r){var a=At();return Xe!==null?hy(a,Xe,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ad,useCacheRefresh:Py},ka=null,pl=0;function yc(t){var r=pl;return pl+=1,ka===null&&(ka=[]),Jg(ka,t,r)}function gl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function _c(t,r){throw r.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function jy(t){var r=t._init;return r(t._payload)}function qy(t){function r(k,M){if(t){var B=k.deletions;B===null?(k.deletions=[M],k.flags|=16):B.push(M)}}function a(k,M){if(!t)return null;for(;M!==null;)r(k,M),M=M.sibling;return null}function l(k){for(var M=new Map;k!==null;)k.key!==null?M.set(k.key,k):M.set(k.index,k),k=k.sibling;return M}function f(k,M){return k=Bi(k,M),k.index=0,k.sibling=null,k}function d(k,M,B){return k.index=B,t?(B=k.alternate,B!==null?(B=B.index,B<M?(k.flags|=67108866,M):B):(k.flags|=67108866,M)):(k.flags|=1048576,M)}function E(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function T(k,M,B,W){return M===null||M.tag!==6?(M=Lf(B,k.mode,W),M.return=k,M):(M=f(M,B),M.return=k,M)}function C(k,M,B,W){var me=B.type;return me===D?J(k,M,B.props.children,W,B.key):M!==null&&(M.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===w&&jy(me)===M.type)?(M=f(M,B.props),gl(M,B),M.return=k,M):(M=ec(B.type,B.key,B.props,null,k.mode,W),gl(M,B),M.return=k,M)}function q(k,M,B,W){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=kf(B,k.mode,W),M.return=k,M):(M=f(M,B.children||[]),M.return=k,M)}function J(k,M,B,W,me){return M===null||M.tag!==7?(M=Cs(B,k.mode,W,me),M.return=k,M):(M=f(M,B),M.return=k,M)}function ne(k,M,B){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Lf(""+M,k.mode,B),M.return=k,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case b:return B=ec(M.type,M.key,M.props,null,k.mode,B),gl(B,M),B.return=k,B;case U:return M=kf(M,k.mode,B),M.return=k,M;case w:var W=M._init;return M=W(M._payload),ne(k,M,B)}if(st(M)||L(M))return M=Cs(M,k.mode,B,null),M.return=k,M;if(typeof M.then=="function")return ne(k,yc(M),B);if(M.$$typeof===Z)return ne(k,rc(k,M),B);_c(k,M)}return null}function H(k,M,B,W){var me=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return me!==null?null:T(k,M,""+B,W);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return B.key===me?C(k,M,B,W):null;case U:return B.key===me?q(k,M,B,W):null;case w:return me=B._init,B=me(B._payload),H(k,M,B,W)}if(st(B)||L(B))return me!==null?null:J(k,M,B,W,null);if(typeof B.then=="function")return H(k,M,yc(B),W);if(B.$$typeof===Z)return H(k,M,rc(k,B),W);_c(k,B)}return null}function F(k,M,B,W,me){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return k=k.get(B)||null,T(M,k,""+W,me);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case b:return k=k.get(W.key===null?B:W.key)||null,C(M,k,W,me);case U:return k=k.get(W.key===null?B:W.key)||null,q(M,k,W,me);case w:var Oe=W._init;return W=Oe(W._payload),F(k,M,B,W,me)}if(st(W)||L(W))return k=k.get(B)||null,J(M,k,W,me,null);if(typeof W.then=="function")return F(k,M,B,yc(W),me);if(W.$$typeof===Z)return F(k,M,B,rc(M,W),me);_c(M,W)}return null}function Ae(k,M,B,W){for(var me=null,Oe=null,ge=M,ve=M=0,Ut=null;ge!==null&&ve<B.length;ve++){ge.index>ve?(Ut=ge,ge=null):Ut=ge.sibling;var qe=H(k,ge,B[ve],W);if(qe===null){ge===null&&(ge=Ut);break}t&&ge&&qe.alternate===null&&r(k,ge),M=d(qe,M,ve),Oe===null?me=qe:Oe.sibling=qe,Oe=qe,ge=Ut}if(ve===B.length)return a(k,ge),He&&Ds(k,ve),me;if(ge===null){for(;ve<B.length;ve++)ge=ne(k,B[ve],W),ge!==null&&(M=d(ge,M,ve),Oe===null?me=ge:Oe.sibling=ge,Oe=ge);return He&&Ds(k,ve),me}for(ge=l(ge);ve<B.length;ve++)Ut=F(ge,k,ve,B[ve],W),Ut!==null&&(t&&Ut.alternate!==null&&ge.delete(Ut.key===null?ve:Ut.key),M=d(Ut,M,ve),Oe===null?me=Ut:Oe.sibling=Ut,Oe=Ut);return t&&ge.forEach(function(Ur){return r(k,Ur)}),He&&Ds(k,ve),me}function _e(k,M,B,W){if(B==null)throw Error(s(151));for(var me=null,Oe=null,ge=M,ve=M=0,Ut=null,qe=B.next();ge!==null&&!qe.done;ve++,qe=B.next()){ge.index>ve?(Ut=ge,ge=null):Ut=ge.sibling;var Ur=H(k,ge,qe.value,W);if(Ur===null){ge===null&&(ge=Ut);break}t&&ge&&Ur.alternate===null&&r(k,ge),M=d(Ur,M,ve),Oe===null?me=Ur:Oe.sibling=Ur,Oe=Ur,ge=Ut}if(qe.done)return a(k,ge),He&&Ds(k,ve),me;if(ge===null){for(;!qe.done;ve++,qe=B.next())qe=ne(k,qe.value,W),qe!==null&&(M=d(qe,M,ve),Oe===null?me=qe:Oe.sibling=qe,Oe=qe);return He&&Ds(k,ve),me}for(ge=l(ge);!qe.done;ve++,qe=B.next())qe=F(ge,k,ve,qe.value,W),qe!==null&&(t&&qe.alternate!==null&&ge.delete(qe.key===null?ve:qe.key),M=d(qe,M,ve),Oe===null?me=qe:Oe.sibling=qe,Oe=qe);return t&&ge.forEach(function(S2){return r(k,S2)}),He&&Ds(k,ve),me}function We(k,M,B,W){if(typeof B=="object"&&B!==null&&B.type===D&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case b:e:{for(var me=B.key;M!==null;){if(M.key===me){if(me=B.type,me===D){if(M.tag===7){a(k,M.sibling),W=f(M,B.props.children),W.return=k,k=W;break e}}else if(M.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===w&&jy(me)===M.type){a(k,M.sibling),W=f(M,B.props),gl(W,B),W.return=k,k=W;break e}a(k,M);break}else r(k,M);M=M.sibling}B.type===D?(W=Cs(B.props.children,k.mode,W,B.key),W.return=k,k=W):(W=ec(B.type,B.key,B.props,null,k.mode,W),gl(W,B),W.return=k,k=W)}return E(k);case U:e:{for(me=B.key;M!==null;){if(M.key===me)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){a(k,M.sibling),W=f(M,B.children||[]),W.return=k,k=W;break e}else{a(k,M);break}else r(k,M);M=M.sibling}W=kf(B,k.mode,W),W.return=k,k=W}return E(k);case w:return me=B._init,B=me(B._payload),We(k,M,B,W)}if(st(B))return Ae(k,M,B,W);if(L(B)){if(me=L(B),typeof me!="function")throw Error(s(150));return B=me.call(B),_e(k,M,B,W)}if(typeof B.then=="function")return We(k,M,yc(B),W);if(B.$$typeof===Z)return We(k,M,rc(k,B),W);_c(k,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,M!==null&&M.tag===6?(a(k,M.sibling),W=f(M,B),W.return=k,k=W):(a(k,M),W=Lf(B,k.mode,W),W.return=k,k=W),E(k)):a(k,M)}return function(k,M,B,W){try{pl=0;var me=We(k,M,B,W);return ka=null,me}catch(ge){if(ge===al||ge===ac)throw ge;var Oe=yn(29,ge,null,k.mode);return Oe.lanes=W,Oe.return=k,Oe}finally{}}}var Ua=qy(!0),Hy=qy(!1),xn=te(null),ui=null;function Sr(t){var r=t.alternate;se(Nt,Nt.current&1),se(xn,t),ui===null&&(r===null||xa.current!==null||r.memoizedState!==null)&&(ui=t)}function Fy(t){if(t.tag===22){if(se(Nt,Nt.current),se(xn,t),ui===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(ui=t)}}else br()}function br(){se(Nt,Nt.current),se(xn,xn.current)}function Ki(t){oe(xn),ui===t&&(ui=null),oe(Nt)}var Nt=te(0);function vc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||sm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function gd(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:v({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var yd={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=Tn(),f=Er(l);f.payload=r,a!=null&&(f.callback=a),r=Tr(t,f,l),r!==null&&(An(r,t,l),ll(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=Tn(),f=Er(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Tr(t,f,l),r!==null&&(An(r,t,l),ll(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Tn(),l=Er(a);l.tag=2,r!=null&&(l.callback=r),r=Tr(t,l,a),r!==null&&(An(r,t,a),ll(r,t,a))}};function Gy(t,r,a,l,f,d,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,E):r.prototype&&r.prototype.isPureReactComponent?!Wo(a,l)||!Wo(f,d):!0}function Ky(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&yd.enqueueReplaceState(r,r.state,null)}function Ls(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=v({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}var Ec=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Qy(t){Ec(t)}function Yy(t){console.error(t)}function $y(t){Ec(t)}function Tc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Xy(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function _d(t,r,a){return a=Er(a),a.tag=3,a.payload={element:null},a.callback=function(){Tc(t,r)},a}function Jy(t){return t=Er(t),t.tag=3,t}function Wy(t,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){Xy(r,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){Xy(r,a,l),typeof f!="function"&&(Nr===null?Nr=new Set([this]):Nr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function SS(t,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&il(r,a,f,!0),a=xn.current,a!==null){switch(a.tag){case 13:return ui===null?qd():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Qf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Fd(t,l,f)),!1;case 22:return a.flags|=65536,l===Qf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Fd(t,l,f)),!1}throw Error(s(435,a.tag))}return Fd(t,l,f),qd(),!1}if(He)return r=xn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Bf&&(t=Error(s(422),{cause:l}),nl(Dn(t,a)))):(l!==Bf&&(r=Error(s(423),{cause:l}),nl(Dn(r,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Dn(l,a),f=_d(t.stateNode,l,f),Xf(t,f),dt!==4&&(dt=2)),!1;var d=Error(s(520),{cause:l});if(d=Dn(d,a),Sl===null?Sl=[d]:Sl.push(d),dt!==4&&(dt=2),r===null)return!0;l=Dn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=_d(a.stateNode,l,t),Xf(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Nr===null||!Nr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Jy(f),Wy(f,t,a,l),Xf(a,f),!1}a=a.return}while(a!==null);return!1}var Zy=Error(s(461)),Lt=!1;function qt(t,r,a,l){r.child=t===null?Hy(r,null,a,l):Ua(r,t.child,a,l)}function e_(t,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var E={};for(var T in l)T!=="ref"&&(E[T]=l[T])}else E=l;return xs(r),l=td(t,r,a,E,d,f),T=nd(),t!==null&&!Lt?(id(t,r,f),Qi(t,r,f)):(He&&T&&Uf(r),r.flags|=1,qt(t,r,l,f),r.child)}function t_(t,r,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Pf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,n_(t,r,d,l,f)):(t=ec(a.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!Rd(t,f)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:Wo,a(E,l)&&t.ref===r.ref)return Qi(t,r,f)}return r.flags|=1,t=Bi(d,l),t.ref=r.ref,t.return=r,r.child=t}function n_(t,r,a,l,f){if(t!==null){var d=t.memoizedProps;if(Wo(d,l)&&t.ref===r.ref)if(Lt=!1,r.pendingProps=l=d,Rd(t,f))(t.flags&131072)!==0&&(Lt=!0);else return r.lanes=t.lanes,Qi(t,r,f)}return vd(t,r,a,l,f)}function i_(t,r,a){var l=r.pendingProps,f=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(f=r.child=t.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return r_(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&sc(r,d!==null?d.cachePool:null),d!==null?ny(r,d):Wf(),Fy(r);else return r.lanes=r.childLanes=536870912,r_(t,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(sc(r,d.cachePool),ny(r,d),br(),r.memoizedState=null):(t!==null&&sc(r,null),Wf(),br());return qt(t,r,f,a),r.child}function r_(t,r,a,l){var f=Kf();return f=f===null?null:{parent:Dt._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},t!==null&&sc(r,null),Wf(),Fy(r),t!==null&&il(t,r,l,!0),null}function Ac(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function vd(t,r,a,l,f){return xs(r),a=td(t,r,a,l,void 0,f),l=nd(),t!==null&&!Lt?(id(t,r,f),Qi(t,r,f)):(He&&l&&Uf(r),r.flags|=1,qt(t,r,a,f),r.child)}function s_(t,r,a,l,f,d){return xs(r),r.updateQueue=null,a=ry(r,l,a,f),iy(t),l=nd(),t!==null&&!Lt?(id(t,r,d),Qi(t,r,d)):(He&&l&&Uf(r),r.flags|=1,qt(t,r,a,d),r.child)}function a_(t,r,a,l,f){if(xs(r),r.stateNode===null){var d=Ia,E=a.contextType;typeof E=="object"&&E!==null&&(d=$t(E)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=yd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Yf(r),E=a.contextType,d.context=typeof E=="object"&&E!==null?$t(E):Ia,d.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(gd(r,a,E,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&yd.enqueueReplaceState(d,d.state,null),cl(r,l,d,f),ul(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var T=r.memoizedProps,C=Ls(a,T);d.props=C;var q=d.context,J=a.contextType;E=Ia,typeof J=="object"&&J!==null&&(E=$t(J));var ne=a.getDerivedStateFromProps;J=typeof ne=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,J||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||q!==E)&&Ky(r,d,l,E),vr=!1;var H=r.memoizedState;d.state=H,cl(r,l,d,f),ul(),q=r.memoizedState,T||H!==q||vr?(typeof ne=="function"&&(gd(r,a,ne,l),q=r.memoizedState),(C=vr||Gy(r,a,C,l,H,q,E))?(J||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=q),d.props=l,d.state=q,d.context=E,l=C):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,$f(t,r),E=r.memoizedProps,J=Ls(a,E),d.props=J,ne=r.pendingProps,H=d.context,q=a.contextType,C=Ia,typeof q=="object"&&q!==null&&(C=$t(q)),T=a.getDerivedStateFromProps,(q=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==ne||H!==C)&&Ky(r,d,l,C),vr=!1,H=r.memoizedState,d.state=H,cl(r,l,d,f),ul();var F=r.memoizedState;E!==ne||H!==F||vr||t!==null&&t.dependencies!==null&&ic(t.dependencies)?(typeof T=="function"&&(gd(r,a,T,l),F=r.memoizedState),(J=vr||Gy(r,a,J,l,H,F,C)||t!==null&&t.dependencies!==null&&ic(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,C)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=F),d.props=l,d.state=F,d.context=C,l=J):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,Ac(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Ua(r,t.child,null,f),r.child=Ua(r,null,a,f)):qt(t,r,a,f),r.memoizedState=d.state,t=r.child):t=Qi(t,r,f),t}function o_(t,r,a,l){return tl(),r.flags|=256,qt(t,r,a,l),r.child}var Ed={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Td(t){return{baseLanes:t,cachePool:Yg()}}function Ad(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Vn),t}function l_(t,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,E;if((E=d)||(E=t!==null&&t.memoizedState===null?!1:(Nt.current&2)!==0),E&&(f=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,t===null){if(He){if(f?Sr(r):br(),He){var T=ft,C;if(C=T){e:{for(C=T,T=li;C.nodeType!==8;){if(!T){T=null;break e}if(C=Hn(C.nextSibling),C===null){T=null;break e}}T=C}T!==null?(r.memoizedState={dehydrated:T,treeContext:Is!==null?{id:ji,overflow:qi}:null,retryLane:536870912,hydrationErrors:null},C=yn(18,null,null,0),C.stateNode=T,C.return=r,r.child=C,an=r,ft=null,C=!0):C=!1}C||Os(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return sm(T)?r.lanes=32:r.lanes=536870912,null;Ki(r)}return T=l.children,l=l.fallback,f?(br(),f=r.mode,T=Sc({mode:"hidden",children:T},f),l=Cs(l,f,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,f=r.child,f.memoizedState=Td(a),f.childLanes=Ad(t,E,a),r.memoizedState=Ed,l):(Sr(r),Sd(r,T))}if(C=t.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(d)r.flags&256?(Sr(r),r.flags&=-257,r=bd(t,r,a)):r.memoizedState!==null?(br(),r.child=t.child,r.flags|=128,r=null):(br(),f=l.fallback,T=r.mode,l=Sc({mode:"visible",children:l.children},T),f=Cs(f,T,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,Ua(r,t.child,null,a),l=r.child,l.memoizedState=Td(a),l.childLanes=Ad(t,E,a),r.memoizedState=Ed,r=f);else if(Sr(r),sm(T)){if(E=T.nextSibling&&T.nextSibling.dataset,E)var q=E.dgst;E=q,l=Error(s(419)),l.stack="",l.digest=E,nl({value:l,source:null,stack:null}),r=bd(t,r,a)}else if(Lt||il(t,r,a,!1),E=(a&t.childLanes)!==0,Lt||E){if(E=tt,E!==null&&(l=a&-a,l=(l&42)!==0?1:hr(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,Ca(t,l),An(E,t,l),Zy;T.data==="$?"||qd(),r=bd(t,r,a)}else T.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=C.treeContext,ft=Hn(T.nextSibling),an=r,He=!0,Ns=null,li=!1,t!==null&&(On[Mn++]=ji,On[Mn++]=qi,On[Mn++]=Is,ji=t.id,qi=t.overflow,Is=r),r=Sd(r,l.children),r.flags|=4096);return r}return f?(br(),f=l.fallback,T=r.mode,C=t.child,q=C.sibling,l=Bi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,q!==null?f=Bi(q,f):(f=Cs(f,T,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,T=t.child.memoizedState,T===null?T=Td(a):(C=T.cachePool,C!==null?(q=Dt._currentValue,C=C.parent!==q?{parent:q,pool:q}:C):C=Yg(),T={baseLanes:T.baseLanes|a,cachePool:C}),f.memoizedState=T,f.childLanes=Ad(t,E,a),r.memoizedState=Ed,l):(Sr(r),a=t.child,t=a.sibling,a=Bi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(E=r.deletions,E===null?(r.deletions=[t],r.flags|=16):E.push(t)),r.child=a,r.memoizedState=null,a)}function Sd(t,r){return r=Sc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Sc(t,r){return t=yn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function bd(t,r,a){return Ua(r,t.child,null,a),t=Sd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function u_(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),qf(t.return,r,a)}function wd(t,r,a,l,f){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=f)}function c_(t,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;if(qt(t,r,l.children,a),l=Nt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&u_(t,a,r);else if(t.tag===19)u_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(se(Nt,l),f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&vc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),wd(r,!1,f,a,d);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&vc(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}wd(r,!0,a,null,d);break;case"together":wd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Qi(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Dr|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(il(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Bi(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Bi(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Rd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&ic(t)))}function bS(t,r,a){switch(r.tag){case 3:et(r,r.stateNode.containerInfo),_r(r,Dt,t.memoizedState.cache),tl();break;case 27:case 5:cr(r);break;case 4:et(r,r.stateNode.containerInfo);break;case 10:_r(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Sr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?l_(t,r,a):(Sr(r),t=Qi(t,r,a),t!==null?t.sibling:null);Sr(r);break;case 19:var f=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(il(t,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return c_(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),se(Nt,Nt.current),l)break;return null;case 22:case 23:return r.lanes=0,i_(t,r,a);case 24:_r(r,Dt,t.memoizedState.cache)}return Qi(t,r,a)}function h_(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Lt=!0;else{if(!Rd(t,a)&&(r.flags&128)===0)return Lt=!1,bS(t,r,a);Lt=(t.flags&131072)!==0}else Lt=!1,He&&(r.flags&1048576)!==0&&jg(r,nc,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")Pf(l)?(t=Ls(l,t),r.tag=1,r=a_(null,r,l,t,a)):(r.tag=0,r=vd(null,r,l,t,a));else{if(l!=null){if(f=l.$$typeof,f===ce){r.tag=11,r=e_(null,r,l,t,a);break e}else if(f===O){r.tag=14,r=t_(null,r,l,t,a);break e}}throw r=rt(l)||l,Error(s(306,r,""))}}return r;case 0:return vd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=Ls(l,r.pendingProps),a_(t,r,l,f,a);case 3:e:{if(et(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,$f(t,r),cl(r,l,null,a);var E=r.memoizedState;if(l=E.cache,_r(r,Dt,l),l!==d.cache&&Hf(r,[Dt],a,!0),ul(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=o_(t,r,l,a);break e}else if(l!==f){f=Dn(Error(s(424)),r),nl(f),r=o_(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ft=Hn(t.firstChild),an=r,He=!0,Ns=null,li=!0,a=Hy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(tl(),l===f){r=Qi(t,r,a);break e}qt(t,r,l,a)}r=r.child}return r;case 26:return Ac(t,r),t===null?(a=p0(r.type,null,r.pendingProps,null))?r.memoizedState=a:He||(a=r.type,t=r.pendingProps,l=kc(be.current).createElement(a),l[Rt]=r,l[vt]=t,Ft(l,a,t),mt(l),r.stateNode=l):r.memoizedState=p0(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return cr(r),t===null&&He&&(l=r.stateNode=f0(r.type,r.pendingProps,be.current),an=r,li=!0,f=ft,xr(r.type)?(am=f,ft=Hn(l.firstChild)):ft=f),qt(t,r,r.pendingProps.children,a),Ac(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&He&&((f=l=ft)&&(l=WS(l,r.type,r.pendingProps,li),l!==null?(r.stateNode=l,an=r,ft=Hn(l.firstChild),li=!1,f=!0):f=!1),f||Os(r)),cr(r),f=r.type,d=r.pendingProps,E=t!==null?t.memoizedProps:null,l=d.children,nm(f,d)?l=null:E!==null&&nm(f,E)&&(r.flags|=32),r.memoizedState!==null&&(f=td(t,r,gS,null,null,a),Ml._currentValue=f),Ac(t,r),qt(t,r,l,a),r.child;case 6:return t===null&&He&&((t=a=ft)&&(a=ZS(a,r.pendingProps,li),a!==null?(r.stateNode=a,an=r,ft=null,t=!0):t=!1),t||Os(r)),null;case 13:return l_(t,r,a);case 4:return et(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Ua(r,null,l,a):qt(t,r,l,a),r.child;case 11:return e_(t,r,r.type,r.pendingProps,a);case 7:return qt(t,r,r.pendingProps,a),r.child;case 8:return qt(t,r,r.pendingProps.children,a),r.child;case 12:return qt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,_r(r,r.type,l.value),qt(t,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,xs(r),f=$t(f),l=l(f),r.flags|=1,qt(t,r,l,a),r.child;case 14:return t_(t,r,r.type,r.pendingProps,a);case 15:return n_(t,r,r.type,r.pendingProps,a);case 19:return c_(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=Sc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Bi(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return i_(t,r,a);case 24:return xs(r),l=$t(Dt),t===null?(f=Kf(),f===null&&(f=tt,d=Ff(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},Yf(r),_r(r,Dt,f)):((t.lanes&a)!==0&&($f(t,r),cl(r,null,null,a),ul()),f=t.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),_r(r,Dt,l)):(l=d.cache,_r(r,Dt,l),l!==f.cache&&Hf(r,[Dt],a,!0))),qt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Yi(t){t.flags|=4}function f_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!E0(r)){if(r=xn.current,r!==null&&((Be&4194048)===Be?ui!==null:(Be&62914560)!==Be&&(Be&536870912)===0||r!==ui))throw ol=Qf,$g;t.flags|=8192}}function bc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Vo():536870912,t.lanes|=r,qa|=r)}function yl(t,r){if(!He)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function lt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function wS(t,r,a){var l=r.pendingProps;switch(zf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(r),null;case 1:return lt(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Fi(Dt),Xn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(el(r)?Yi(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Fg())),lt(r),null;case 26:return a=r.memoizedState,t===null?(Yi(r),a!==null?(lt(r),f_(r,a)):(lt(r),r.flags&=-16777217)):a?a!==t.memoizedState?(Yi(r),lt(r),f_(r,a)):(lt(r),r.flags&=-16777217):(t.memoizedProps!==l&&Yi(r),lt(r),r.flags&=-16777217),null;case 27:Ci(r),a=be.current;var f=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Yi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return lt(r),null}t=pe.current,el(r)?qg(r):(t=f0(f,l,a),r.stateNode=t,Yi(r))}return lt(r),null;case 5:if(Ci(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Yi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return lt(r),null}if(t=pe.current,el(r))qg(r);else{switch(f=kc(be.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}t[Rt]=r,t[vt]=l;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=t;e:switch(Ft(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Yi(r)}}return lt(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Yi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=be.current,el(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,f=an,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[Rt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||s0(t.nodeValue,a)),t||Os(r)}else t=kc(t).createTextNode(l),t[Rt]=r,r.stateNode=t}return lt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=el(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Rt]=r}else tl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;lt(r),f=!1}else f=Fg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Ki(r),r):(Ki(r),null)}if(Ki(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),bc(r,r.updateQueue),lt(r),null;case 4:return Xn(),t===null&&Jd(r.stateNode.containerInfo),lt(r),null;case 10:return Fi(r.type),lt(r),null;case 19:if(oe(Nt),f=r.memoizedState,f===null)return lt(r),null;if(l=(r.flags&128)!==0,d=f.rendering,d===null)if(l)yl(f,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=vc(t),d!==null){for(r.flags|=128,yl(f,!1),t=d.updateQueue,r.updateQueue=t,bc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Bg(a,t),a=a.sibling;return se(Nt,Nt.current&1|2),r.child}t=t.sibling}f.tail!==null&&Sn()>Cc&&(r.flags|=128,l=!0,yl(f,!1),r.lanes=4194304)}else{if(!l)if(t=vc(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,bc(r,t),yl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!He)return lt(r),null}else 2*Sn()-f.renderingStartTime>Cc&&a!==536870912&&(r.flags|=128,l=!0,yl(f,!1),r.lanes=4194304);f.isBackwards?(d.sibling=r.child,r.child=d):(t=f.last,t!==null?t.sibling=d:r.child=d,f.last=d)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Sn(),r.sibling=null,t=Nt.current,se(Nt,l?t&1|2:t&1),r):(lt(r),null);case 22:case 23:return Ki(r),Zf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(lt(r),r.subtreeFlags&6&&(r.flags|=8192)):lt(r),a=r.updateQueue,a!==null&&bc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&oe(Vs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Fi(Dt),lt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function RS(t,r){switch(zf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Fi(Dt),Xn(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Ci(r),null;case 13:if(Ki(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));tl()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return oe(Nt),null;case 4:return Xn(),null;case 10:return Fi(r.type),null;case 22:case 23:return Ki(r),Zf(),t!==null&&oe(Vs),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Fi(Dt),null;case 25:return null;default:return null}}function d_(t,r){switch(zf(r),r.tag){case 3:Fi(Dt),Xn();break;case 26:case 27:case 5:Ci(r);break;case 4:Xn();break;case 13:Ki(r);break;case 19:oe(Nt);break;case 10:Fi(r.type);break;case 22:case 23:Ki(r),Zf(),t!==null&&oe(Vs);break;case 24:Fi(Dt)}}function _l(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==f)}}catch(T){Ze(r,r.return,T)}}function wr(t,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var E=l.inst,T=E.destroy;if(T!==void 0){E.destroy=void 0,f=r;var C=a,q=T;try{q()}catch(J){Ze(f,C,J)}}}l=l.next}while(l!==d)}}catch(J){Ze(r,r.return,J)}}function m_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{ty(r,a)}catch(l){Ze(t,t.return,l)}}}function p_(t,r,a){a.props=Ls(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(t,r,l)}}function vl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Ze(t,r,f)}}function ci(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Ze(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Ze(t,r,f)}else a.current=null}function g_(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Ze(t,t.return,f)}}function Cd(t,r,a){try{var l=t.stateNode;QS(l,t.type,a,r),l[vt]=r}catch(f){Ze(t,t.return,f)}}function y_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&xr(t.type)||t.tag===4}function Id(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||y_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&xr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Dd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Lc));else if(l!==4&&(l===27&&xr(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Dd(t,r,a),t=t.sibling;t!==null;)Dd(t,r,a),t=t.sibling}function wc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&xr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(wc(t,r,a),t=t.sibling;t!==null;)wc(t,r,a),t=t.sibling}function __(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Ft(r,l,a),r[Rt]=t,r[vt]=a}catch(d){Ze(t,t.return,d)}}var $i=!1,gt=!1,Nd=!1,v_=typeof WeakSet=="function"?WeakSet:Set,kt=null;function CS(t,r){if(t=t.containerInfo,em=Hc,t=Ng(t),If(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,T=-1,C=-1,q=0,J=0,ne=t,H=null;t:for(;;){for(var F;ne!==a||f!==0&&ne.nodeType!==3||(T=E+f),ne!==d||l!==0&&ne.nodeType!==3||(C=E+l),ne.nodeType===3&&(E+=ne.nodeValue.length),(F=ne.firstChild)!==null;)H=ne,ne=F;for(;;){if(ne===t)break t;if(H===a&&++q===f&&(T=E),H===d&&++J===l&&(C=E),(F=ne.nextSibling)!==null)break;ne=H,H=ne.parentNode}ne=F}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(tm={focusedElem:t,selectionRange:a},Hc=!1,kt=r;kt!==null;)if(r=kt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,kt=t;else for(;kt!==null;){switch(r=kt,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Ae=Ls(a.type,f,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Ae,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Ze(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)rm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":rm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,kt=t;break}kt=r.return}}function E_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Rr(t,a),l&4&&_l(5,a);break;case 1:if(Rr(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(E){Ze(a,a.return,E)}else{var f=Ls(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Ze(a,a.return,E)}}l&64&&m_(a),l&512&&vl(a,a.return);break;case 3:if(Rr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{ty(t,r)}catch(E){Ze(a,a.return,E)}}break;case 27:r===null&&l&4&&__(a);case 26:case 5:Rr(t,a),r===null&&l&4&&g_(a),l&512&&vl(a,a.return);break;case 12:Rr(t,a);break;case 13:Rr(t,a),l&4&&S_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=LS.bind(null,a),e2(t,a))));break;case 22:if(l=a.memoizedState!==null||$i,!l){r=r!==null&&r.memoizedState!==null||gt,f=$i;var d=gt;$i=l,(gt=r)&&!d?Cr(t,a,(a.subtreeFlags&8772)!==0):Rr(t,a),$i=f,gt=d}break;case 30:break;default:Rr(t,a)}}function T_(t){var r=t.alternate;r!==null&&(t.alternate=null,T_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&mr(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,ln=!1;function Xi(t,r,a){for(a=a.child;a!==null;)A_(t,r,a),a=a.sibling}function A_(t,r,a){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(ht,a)}catch{}switch(a.tag){case 26:gt||ci(a,r),Xi(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:gt||ci(a,r);var l=ot,f=ln;xr(a.type)&&(ot=a.stateNode,ln=!1),Xi(t,r,a),Il(a.stateNode),ot=l,ln=f;break;case 5:gt||ci(a,r);case 6:if(l=ot,f=ln,ot=null,Xi(t,r,a),ot=l,ln=f,ot!==null)if(ln)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(d){Ze(a,r,d)}else try{ot.removeChild(a.stateNode)}catch(d){Ze(a,r,d)}break;case 18:ot!==null&&(ln?(t=ot,c0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ll(t)):c0(ot,a.stateNode));break;case 4:l=ot,f=ln,ot=a.stateNode.containerInfo,ln=!0,Xi(t,r,a),ot=l,ln=f;break;case 0:case 11:case 14:case 15:gt||wr(2,a,r),gt||wr(4,a,r),Xi(t,r,a);break;case 1:gt||(ci(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&p_(a,r,l)),Xi(t,r,a);break;case 21:Xi(t,r,a);break;case 22:gt=(l=gt)||a.memoizedState!==null,Xi(t,r,a),gt=l;break;default:Xi(t,r,a)}}function S_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ll(t)}catch(a){Ze(r,r.return,a)}}function IS(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new v_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new v_),r;default:throw Error(s(435,t.tag))}}function Od(t,r){var a=IS(t);r.forEach(function(l){var f=kS.bind(null,t,l);a.has(l)||(a.add(l),l.then(f,f))})}function _n(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,E=r,T=E;e:for(;T!==null;){switch(T.tag){case 27:if(xr(T.type)){ot=T.stateNode,ln=!1;break e}break;case 5:ot=T.stateNode,ln=!1;break e;case 3:case 4:ot=T.stateNode.containerInfo,ln=!0;break e}T=T.return}if(ot===null)throw Error(s(160));A_(d,E,f),ot=null,ln=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)b_(r,t),r=r.sibling}var qn=null;function b_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:_n(r,t),vn(t),l&4&&(wr(3,t,t.return),_l(3,t),wr(5,t,t.return));break;case 1:_n(r,t),vn(t),l&512&&(gt||a===null||ci(a,a.return)),l&64&&$i&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=qn;if(_n(r,t),vn(t),l&512&&(gt||a===null||ci(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[hs]||d[Rt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Ft(d,l,a),d[Rt]=t,mt(d),l=d;break e;case"link":var E=_0("link","href",f).get(l+(a.href||""));if(E){for(var T=0;T<E.length;T++)if(d=E[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(T,1);break t}}d=f.createElement(l),Ft(d,l,a),f.head.appendChild(d);break;case"meta":if(E=_0("meta","content",f).get(l+(a.content||""))){for(T=0;T<E.length;T++)if(d=E[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(T,1);break t}}d=f.createElement(l),Ft(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[Rt]=t,mt(d),l=d}t.stateNode=l}else v0(f,t.type,t.stateNode);else t.stateNode=y0(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?v0(f,t.type,t.stateNode):y0(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Cd(t,t.memoizedProps,a.memoizedProps)}break;case 27:_n(r,t),vn(t),l&512&&(gt||a===null||ci(a,a.return)),a!==null&&l&4&&Cd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(_n(r,t),vn(t),l&512&&(gt||a===null||ci(a,a.return)),t.flags&32){f=t.stateNode;try{wn(f,"")}catch(F){Ze(t,t.return,F)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Cd(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Nd=!0);break;case 6:if(_n(r,t),vn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(F){Ze(t,t.return,F)}}break;case 3:if(Bc=null,f=qn,qn=Uc(r.containerInfo),_n(r,t),qn=f,vn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ll(r.containerInfo)}catch(F){Ze(t,t.return,F)}Nd&&(Nd=!1,w_(t));break;case 4:l=qn,qn=Uc(t.stateNode.containerInfo),_n(r,t),vn(t),qn=l;break;case 12:_n(r,t),vn(t);break;case 13:_n(r,t),vn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(kd=Sn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Od(t,l)));break;case 22:f=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,q=$i,J=gt;if($i=q||f,gt=J||C,_n(r,t),gt=J,$i=q,vn(t),l&8192)e:for(r=t.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||C||$i||gt||ks(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){C=a=r;try{if(d=C.stateNode,f)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{T=C.stateNode;var ne=C.memoizedProps.style,H=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(F){Ze(C,C.return,F)}}}else if(r.tag===6){if(a===null){C=r;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch(F){Ze(C,C.return,F)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Od(t,a))));break;case 19:_n(r,t),vn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Od(t,l)));break;case 30:break;case 21:break;default:_n(r,t),vn(t)}}function vn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(y_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Id(t);wc(t,d,f);break;case 5:var E=a.stateNode;a.flags&32&&(wn(E,""),a.flags&=-33);var T=Id(t);wc(t,T,E);break;case 3:case 4:var C=a.stateNode.containerInfo,q=Id(t);Dd(t,q,C);break;default:throw Error(s(161))}}catch(J){Ze(t,t.return,J)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function w_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;w_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Rr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)E_(t,r.alternate,r),r=r.sibling}function ks(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:wr(4,r,r.return),ks(r);break;case 1:ci(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&p_(r,r.return,a),ks(r);break;case 27:Il(r.stateNode);case 26:case 5:ci(r,r.return),ks(r);break;case 22:r.memoizedState===null&&ks(r);break;case 30:ks(r);break;default:ks(r)}t=t.sibling}}function Cr(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=t,d=r,E=d.flags;switch(d.tag){case 0:case 11:case 15:Cr(f,d,a),_l(4,d);break;case 1:if(Cr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){Ze(l,l.return,q)}if(l=d,f=l.updateQueue,f!==null){var T=l.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)ey(C[f],T)}catch(q){Ze(l,l.return,q)}}a&&E&64&&m_(d),vl(d,d.return);break;case 27:__(d);case 26:case 5:Cr(f,d,a),a&&l===null&&E&4&&g_(d),vl(d,d.return);break;case 12:Cr(f,d,a);break;case 13:Cr(f,d,a),a&&E&4&&S_(f,d);break;case 22:d.memoizedState===null&&Cr(f,d,a),vl(d,d.return);break;case 30:break;default:Cr(f,d,a)}r=r.sibling}}function Md(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&rl(a))}function xd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&rl(t))}function hi(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)R_(t,r,a,l),r=r.sibling}function R_(t,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:hi(t,r,a,l),f&2048&&_l(9,r);break;case 1:hi(t,r,a,l);break;case 3:hi(t,r,a,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&rl(t)));break;case 12:if(f&2048){hi(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,E=d.id,T=d.onPostCommit;typeof T=="function"&&T(E,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Ze(r,r.return,C)}}else hi(t,r,a,l);break;case 13:hi(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,E=r.alternate,r.memoizedState!==null?d._visibility&2?hi(t,r,a,l):El(t,r):d._visibility&2?hi(t,r,a,l):(d._visibility|=2,za(t,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&Md(E,r);break;case 24:hi(t,r,a,l),f&2048&&xd(r.alternate,r);break;default:hi(t,r,a,l)}}function za(t,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,E=r,T=a,C=l,q=E.flags;switch(E.tag){case 0:case 11:case 15:za(d,E,T,C,f),_l(8,E);break;case 23:break;case 22:var J=E.stateNode;E.memoizedState!==null?J._visibility&2?za(d,E,T,C,f):El(d,E):(J._visibility|=2,za(d,E,T,C,f)),f&&q&2048&&Md(E.alternate,E);break;case 24:za(d,E,T,C,f),f&&q&2048&&xd(E.alternate,E);break;default:za(d,E,T,C,f)}r=r.sibling}}function El(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,f=l.flags;switch(l.tag){case 22:El(a,l),f&2048&&Md(l.alternate,l);break;case 24:El(a,l),f&2048&&xd(l.alternate,l);break;default:El(a,l)}r=r.sibling}}var Tl=8192;function Ba(t){if(t.subtreeFlags&Tl)for(t=t.child;t!==null;)C_(t),t=t.sibling}function C_(t){switch(t.tag){case 26:Ba(t),t.flags&Tl&&t.memoizedState!==null&&d2(qn,t.memoizedState,t.memoizedProps);break;case 5:Ba(t);break;case 3:case 4:var r=qn;qn=Uc(t.stateNode.containerInfo),Ba(t),qn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Tl,Tl=16777216,Ba(t),Tl=r):Ba(t));break;default:Ba(t)}}function I_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Al(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];kt=l,N_(l,t)}I_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)D_(t),t=t.sibling}function D_(t){switch(t.tag){case 0:case 11:case 15:Al(t),t.flags&2048&&wr(9,t,t.return);break;case 3:Al(t);break;case 12:Al(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Rc(t)):Al(t);break;default:Al(t)}}function Rc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];kt=l,N_(l,t)}I_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:wr(8,r,r.return),Rc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Rc(r));break;default:Rc(r)}t=t.sibling}}function N_(t,r){for(;kt!==null;){var a=kt;switch(a.tag){case 0:case 11:case 15:wr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:rl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,kt=l;else e:for(a=t;kt!==null;){l=kt;var f=l.sibling,d=l.return;if(T_(l),l===a){kt=null;break e}if(f!==null){f.return=d,kt=f;break e}kt=d}}}var DS={getCacheForType:function(t){var r=$t(Dt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},NS=typeof WeakMap=="function"?WeakMap:Map,Qe=0,tt=null,Me=null,Be=0,Ye=0,En=null,Ir=!1,ja=!1,Vd=!1,Ji=0,dt=0,Dr=0,Us=0,Pd=0,Vn=0,qa=0,Sl=null,un=null,Ld=!1,kd=0,Cc=1/0,Ic=null,Nr=null,Ht=0,Or=null,Ha=null,Fa=0,Ud=0,zd=null,O_=null,bl=0,Bd=null;function Tn(){if((Qe&2)!==0&&Be!==0)return Be&-Be;if(Q.T!==null){var t=Oa;return t!==0?t:Qd()}return fr()}function M_(){Vn===0&&(Vn=(Be&536870912)===0||He?xo():536870912);var t=xn.current;return t!==null&&(t.flags|=32),Vn}function An(t,r,a){(t===tt&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(Ga(t,0),Mr(t,Be,Vn,!1)),Di(t,a),((Qe&2)===0||t!==tt)&&(t===tt&&((Qe&2)===0&&(Us|=a),dt===4&&Mr(t,Be,Vn,!1)),fi(t))}function x_(t,r,a){if((Qe&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||cs(t,r),f=l?xS(t,r):Hd(t,r,!0),d=l;do{if(f===0){ja&&!l&&Mr(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!OS(a)){f=Hd(t,r,!1),d=!1;continue}if(f===2){if(d=r,t.errorRecoveryDisabledLanes&d)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var T=t;f=Sl;var C=T.current.memoizedState.isDehydrated;if(C&&(Ga(T,E).flags|=256),E=Hd(T,E,!1),E!==2){if(Vd&&!C){T.errorRecoveryDisabledLanes|=d,Us|=d,f=4;break e}d=un,un=f,d!==null&&(un===null?un=d:un.push.apply(un,d))}f=E}if(d=!1,f!==2)continue}}if(f===1){Ga(t,0),Mr(t,r,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Mr(l,r,Vn,!Ir);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=kd+300-Sn(),10<f)){if(Mr(l,r,Vn,!Ir),la(l,0,!0)!==0)break e;l.timeoutHandle=l0(V_.bind(null,l,a,un,Ic,Ld,r,Vn,Us,qa,Ir,d,2,-0,0),f);break e}V_(l,a,un,Ic,Ld,r,Vn,Us,qa,Ir,d,0,-0,0)}}break}while(!0);fi(t)}function V_(t,r,a,l,f,d,E,T,C,q,J,ne,H,F){if(t.timeoutHandle=-1,ne=r.subtreeFlags,(ne&8192||(ne&16785408)===16785408)&&(Ol={stylesheets:null,count:0,unsuspend:f2},C_(r),ne=m2(),ne!==null)){t.cancelPendingCommit=ne(j_.bind(null,t,r,d,a,l,f,E,T,C,J,1,H,F)),Mr(t,d,E,!q);return}j_(t,r,d,a,l,f,E,T,C)}function OS(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!gn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Mr(t,r,a,l){r&=~Pd,r&=~Us,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var d=31-Yt(f),E=1<<d;l[d]=-1,f&=~E}a!==0&&Jn(t,a,r)}function Dc(){return(Qe&6)===0?(wl(0),!1):!0}function jd(){if(Me!==null){if(Ye===0)var t=Me.return;else t=Me,Hi=Ms=null,rd(t),ka=null,pl=0,t=Me;for(;t!==null;)d_(t.alternate,t),t=t.return;Me=null}}function Ga(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,$S(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),jd(),tt=t,Me=a=Bi(t.current,null),Be=r,Ye=0,En=null,Ir=!1,ja=cs(t,r),Vd=!1,qa=Vn=Pd=Us=Dr=dt=0,un=Sl=null,Ld=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-Yt(l),d=1<<f;r|=t[f],l&=~d}return Ji=r,Ju(),a}function P_(t,r){Ne=null,Q.H=gc,r===al||r===ac?(r=Wg(),Ye=3):r===$g?(r=Wg(),Ye=4):Ye=r===Zy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,En=r,Me===null&&(dt=1,Tc(t,Dn(r,t.current)))}function L_(){var t=Q.H;return Q.H=gc,t===null?gc:t}function k_(){var t=Q.A;return Q.A=DS,t}function qd(){dt=4,Ir||(Be&4194048)!==Be&&xn.current!==null||(ja=!0),(Dr&134217727)===0&&(Us&134217727)===0||tt===null||Mr(tt,Be,Vn,!1)}function Hd(t,r,a){var l=Qe;Qe|=2;var f=L_(),d=k_();(tt!==t||Be!==r)&&(Ic=null,Ga(t,r)),r=!1;var E=dt;e:do try{if(Ye!==0&&Me!==null){var T=Me,C=En;switch(Ye){case 8:jd(),E=6;break e;case 3:case 2:case 9:case 6:xn.current===null&&(r=!0);var q=Ye;if(Ye=0,En=null,Ka(t,T,C,q),a&&ja){E=0;break e}break;default:q=Ye,Ye=0,En=null,Ka(t,T,C,q)}}MS(),E=dt;break}catch(J){P_(t,J)}while(!0);return r&&t.shellSuspendCounter++,Hi=Ms=null,Qe=l,Q.H=f,Q.A=d,Me===null&&(tt=null,Be=0,Ju()),E}function MS(){for(;Me!==null;)U_(Me)}function xS(t,r){var a=Qe;Qe|=2;var l=L_(),f=k_();tt!==t||Be!==r?(Ic=null,Cc=Sn()+500,Ga(t,r)):ja=cs(t,r);e:do try{if(Ye!==0&&Me!==null){r=Me;var d=En;t:switch(Ye){case 1:Ye=0,En=null,Ka(t,r,d,1);break;case 2:case 9:if(Xg(d)){Ye=0,En=null,z_(r);break}r=function(){Ye!==2&&Ye!==9||tt!==t||(Ye=7),fi(t)},d.then(r,r);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Xg(d)?(Ye=0,En=null,z_(r)):(Ye=0,En=null,Ka(t,r,d,7));break;case 5:var E=null;switch(Me.tag){case 26:E=Me.memoizedState;case 5:case 27:var T=Me;if(!E||E0(E)){Ye=0,En=null;var C=T.sibling;if(C!==null)Me=C;else{var q=T.return;q!==null?(Me=q,Nc(q)):Me=null}break t}}Ye=0,En=null,Ka(t,r,d,5);break;case 6:Ye=0,En=null,Ka(t,r,d,6);break;case 8:jd(),dt=6;break e;default:throw Error(s(462))}}VS();break}catch(J){P_(t,J)}while(!0);return Hi=Ms=null,Q.H=l,Q.A=f,Qe=a,Me!==null?0:(tt=null,Be=0,Ju(),dt)}function VS(){for(;Me!==null&&!Do();)U_(Me)}function U_(t){var r=h_(t.alternate,t,Ji);t.memoizedProps=t.pendingProps,r===null?Nc(t):Me=r}function z_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=s_(a,r,r.pendingProps,r.type,void 0,Be);break;case 11:r=s_(a,r,r.pendingProps,r.type.render,r.ref,Be);break;case 5:rd(r);default:d_(a,r),r=Me=Bg(r,Ji),r=h_(a,r,Ji)}t.memoizedProps=t.pendingProps,r===null?Nc(t):Me=r}function Ka(t,r,a,l){Hi=Ms=null,rd(r),ka=null,pl=0;var f=r.return;try{if(SS(t,f,r,a,Be)){dt=1,Tc(t,Dn(a,t.current)),Me=null;return}}catch(d){if(f!==null)throw Me=f,d;dt=1,Tc(t,Dn(a,t.current)),Me=null;return}r.flags&32768?(He||l===1?t=!0:ja||(Be&536870912)!==0?t=!1:(Ir=t=!0,(l===2||l===9||l===3||l===6)&&(l=xn.current,l!==null&&l.tag===13&&(l.flags|=16384))),B_(r,t)):Nc(r)}function Nc(t){var r=t;do{if((r.flags&32768)!==0){B_(r,Ir);return}t=r.return;var a=wS(r.alternate,r,Ji);if(a!==null){Me=a;return}if(r=r.sibling,r!==null){Me=r;return}Me=r=t}while(r!==null);dt===0&&(dt=5)}function B_(t,r){do{var a=RS(t.alternate,t);if(a!==null){a.flags&=32767,Me=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Me=t;return}Me=t=a}while(t!==null);dt=6,Me=null}function j_(t,r,a,l,f,d,E,T,C){t.cancelPendingCommit=null;do Oc();while(Ht!==0);if((Qe&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=xf,Po(t,a,d,E,T,C),t===tt&&(Me=tt=null,Be=0),Ha=r,Or=t,Fa=a,Ud=d,zd=f,O_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,US(as,function(){return K_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,f=le.p,le.p=2,E=Qe,Qe|=4;try{CS(t,r,a)}finally{Qe=E,le.p=f,Q.T=l}}Ht=1,q_(),H_(),F_()}}function q_(){if(Ht===1){Ht=0;var t=Or,r=Ha,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=le.p;le.p=2;var f=Qe;Qe|=4;try{b_(r,t);var d=tm,E=Ng(t.containerInfo),T=d.focusedElem,C=d.selectionRange;if(E!==T&&T&&T.ownerDocument&&Dg(T.ownerDocument.documentElement,T)){if(C!==null&&If(T)){var q=C.start,J=C.end;if(J===void 0&&(J=q),"selectionStart"in T)T.selectionStart=q,T.selectionEnd=Math.min(J,T.value.length);else{var ne=T.ownerDocument||document,H=ne&&ne.defaultView||window;if(H.getSelection){var F=H.getSelection(),Ae=T.textContent.length,_e=Math.min(C.start,Ae),We=C.end===void 0?_e:Math.min(C.end,Ae);!F.extend&&_e>We&&(E=We,We=_e,_e=E);var k=Ig(T,_e),M=Ig(T,We);if(k&&M&&(F.rangeCount!==1||F.anchorNode!==k.node||F.anchorOffset!==k.offset||F.focusNode!==M.node||F.focusOffset!==M.offset)){var B=ne.createRange();B.setStart(k.node,k.offset),F.removeAllRanges(),_e>We?(F.addRange(B),F.extend(M.node,M.offset)):(B.setEnd(M.node,M.offset),F.addRange(B))}}}}for(ne=[],F=T;F=F.parentNode;)F.nodeType===1&&ne.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ne.length;T++){var W=ne[T];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Hc=!!em,tm=em=null}finally{Qe=f,le.p=l,Q.T=a}}t.current=r,Ht=2}}function H_(){if(Ht===2){Ht=0;var t=Or,r=Ha,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=le.p;le.p=2;var f=Qe;Qe|=4;try{E_(t,r.alternate,r)}finally{Qe=f,le.p=l,Q.T=a}}Ht=3}}function F_(){if(Ht===4||Ht===3){Ht=0,Ru();var t=Or,r=Ha,a=Fa,l=O_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ht=5:(Ht=0,Ha=Or=null,G_(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Nr=null),ua(a),r=r.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(ht,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Q.T,f=le.p,le.p=2,Q.T=null;try{for(var d=t.onRecoverableError,E=0;E<l.length;E++){var T=l[E];d(T.value,{componentStack:T.stack})}}finally{Q.T=r,le.p=f}}(Fa&3)!==0&&Oc(),fi(t),f=t.pendingLanes,(a&4194090)!==0&&(f&42)!==0?t===Bd?bl++:(bl=0,Bd=t):bl=0,wl(0)}}function G_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,rl(r)))}function Oc(t){return q_(),H_(),F_(),K_()}function K_(){if(Ht!==5)return!1;var t=Or,r=Ud;Ud=0;var a=ua(Fa),l=Q.T,f=le.p;try{le.p=32>a?32:a,Q.T=null,a=zd,zd=null;var d=Or,E=Fa;if(Ht=0,Ha=Or=null,Fa=0,(Qe&6)!==0)throw Error(s(331));var T=Qe;if(Qe|=4,D_(d.current),R_(d,d.current,E,a),Qe=T,wl(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(ht,d)}catch{}return!0}finally{le.p=f,Q.T=l,G_(t,r)}}function Q_(t,r,a){r=Dn(a,r),r=_d(t.stateNode,r,2),t=Tr(t,r,2),t!==null&&(Di(t,2),fi(t))}function Ze(t,r,a){if(t.tag===3)Q_(t,t,a);else for(;r!==null;){if(r.tag===3){Q_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Nr===null||!Nr.has(l))){t=Dn(a,t),a=Jy(2),l=Tr(r,a,2),l!==null&&(Wy(a,l,r,t),Di(l,2),fi(l));break}}r=r.return}}function Fd(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new NS;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Vd=!0,f.add(a),t=PS.bind(null,t,r,a),r.then(t,t))}function PS(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,tt===t&&(Be&a)===a&&(dt===4||dt===3&&(Be&62914560)===Be&&300>Sn()-kd?(Qe&2)===0&&Ga(t,0):Pd|=a,qa===Be&&(qa=0)),fi(t)}function Y_(t,r){r===0&&(r=Vo()),t=Ca(t,r),t!==null&&(Di(t,r),fi(t))}function LS(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),Y_(t,a)}function kS(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Y_(t,a)}function US(t,r){return rs(t,r)}var Mc=null,Qa=null,Gd=!1,xc=!1,Kd=!1,zs=0;function fi(t){t!==Qa&&t.next===null&&(Qa===null?Mc=Qa=t:Qa=Qa.next=t),xc=!0,Gd||(Gd=!0,BS())}function wl(t,r){if(!Kd&&xc){Kd=!0;do for(var a=!1,l=Mc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var E=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Yt(42|t)+1)-1,d&=f&~(E&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,W_(l,d))}else d=Be,d=la(l,l===tt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||cs(l,d)||(a=!0,W_(l,d));l=l.next}while(a);Kd=!1}}function zS(){$_()}function $_(){xc=Gd=!1;var t=0;zs!==0&&(YS()&&(t=zs),zs=0);for(var r=Sn(),a=null,l=Mc;l!==null;){var f=l.next,d=X_(l,r);d===0?(l.next=null,a===null?Mc=f:a.next=f,f===null&&(Qa=a)):(a=l,(t!==0||(d&3)!==0)&&(xc=!0)),l=f}wl(t)}function X_(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var E=31-Yt(d),T=1<<E,C=f[E];C===-1?((T&a)===0||(T&l)!==0)&&(f[E]=Mo(T,r)):C<=r&&(t.expiredLanes|=T),d&=~T}if(r=tt,a=Be,a=la(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ss(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||cs(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&ss(l),ua(a)){case 2:case 8:a=aa;break;case 32:a=as;break;case 268435456:a=oa;break;default:a=as}return l=J_.bind(null,t),a=rs(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&ss(l),t.callbackPriority=2,t.callbackNode=null,2}function J_(t,r){if(Ht!==0&&Ht!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Oc()&&t.callbackNode!==a)return null;var l=Be;return l=la(t,t===tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(x_(t,l,r),X_(t,Sn()),t.callbackNode!=null&&t.callbackNode===a?J_.bind(null,t):null)}function W_(t,r){if(Oc())return null;x_(t,r,!0)}function BS(){XS(function(){(Qe&6)!==0?rs(No,zS):$_()})}function Qd(){return zs===0&&(zs=xo()),zs}function Z_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:pa(""+t)}function e0(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function jS(t,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=Z_((f[vt]||null).action),E=l.submitter;E&&(r=(r=E[vt]||null)?Z_(r.formAction):E.getAttribute("formAction"),r!==null&&(d=r,E=null));var T=new ga("action","action",null,l,f);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(zs!==0){var C=E?e0(f,E):new FormData(f);dd(a,{pending:!0,data:C,method:f.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=E?e0(f,E):new FormData(f),dd(a,{pending:!0,data:C,method:f.method,action:d},d,C))},currentTarget:f}]})}}for(var Yd=0;Yd<Mf.length;Yd++){var $d=Mf[Yd],qS=$d.toLowerCase(),HS=$d[0].toUpperCase()+$d.slice(1);jn(qS,"on"+HS)}jn(xg,"onAnimationEnd"),jn(Vg,"onAnimationIteration"),jn(Pg,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(aS,"onTransitionRun"),jn(oS,"onTransitionStart"),jn(lS,"onTransitionCancel"),jn(Lg,"onTransitionEnd"),Oi("onMouseEnter",["mouseout","mouseover"]),Oi("onMouseLeave",["mouseout","mouseover"]),Oi("onPointerEnter",["pointerout","pointerover"]),Oi("onPointerLeave",["pointerout","pointerover"]),zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function t0(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var E=l.length-1;0<=E;E--){var T=l[E],C=T.instance,q=T.currentTarget;if(T=T.listener,C!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=q;try{d(f)}catch(J){Ec(J)}f.currentTarget=null,d=C}else for(E=0;E<l.length;E++){if(T=l[E],C=T.instance,q=T.currentTarget,T=T.listener,C!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=q;try{d(f)}catch(J){Ec(J)}f.currentTarget=null,d=C}}}}function xe(t,r){var a=r[ko];a===void 0&&(a=r[ko]=new Set);var l=t+"__bubble";a.has(l)||(n0(r,t,2,!1),a.add(l))}function Xd(t,r,a){var l=0;r&&(l|=4),n0(a,t,l,r)}var Vc="_reactListening"+Math.random().toString(36).slice(2);function Jd(t){if(!t[Vc]){t[Vc]=!0,Uo.forEach(function(a){a!=="selectionchange"&&(FS.has(a)||Xd(a,!1,t),Xd(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Vc]||(r[Vc]=!0,Xd("selectionchange",!1,r))}}function n0(t,r,a,l){switch(R0(r)){case 2:var f=y2;break;case 8:f=_2;break;default:f=hm}a=f.bind(null,r,a,t),f=void 0,!Cn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function Wd(t,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var T=l.stateNode.containerInfo;if(T===f)break;if(E===4)for(E=l.return;E!==null;){var C=E.tag;if((C===3||C===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;T!==null;){if(E=Ni(T),E===null)return;if(C=E.tag,C===5||C===6||C===26||C===27){l=d=E;continue e}T=T.parentNode}}l=l.return}Lu(function(){var q=d,J=Rn(a),ne=[];e:{var H=kg.get(t);if(H!==void 0){var F=ga,Ae=t;switch(t){case"keypress":if(ii(a)===0)break e;case"keydown":case"keyup":F=Aa;break;case"focusin":Ae="focus",F=va;break;case"focusout":Ae="blur",F=va;break;case"beforeblur":case"afterblur":F=va;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=In;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=bf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Fu;break;case xg:case Vg:case Pg:F=Ea;break;case Lg:F=Ku;break;case"scroll":case"scrollend":F=ku;break;case"wheel":F=Sa;break;case"copy":case"cut":case"paste":F=Ta;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Xo;break;case"toggle":case"beforetoggle":F=Yu}var _e=(r&4)!==0,We=!_e&&(t==="scroll"||t==="scrollend"),k=_e?H!==null?H+"Capture":null:H;_e=[];for(var M=q,B;M!==null;){var W=M;if(B=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||B===null||k===null||(W=_s(M,k),W!=null&&_e.push(Cl(M,W,B))),We)break;M=M.return}0<_e.length&&(H=new F(H,Ae,null,a,J),ne.push({event:H,listeners:_e}))}}if((r&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",H&&a!==Vi&&(Ae=a.relatedTarget||a.fromElement)&&(Ni(Ae)||Ae[bn]))break e;if((F||H)&&(H=J.window===J?J:(H=J.ownerDocument)?H.defaultView||H.parentWindow:window,F?(Ae=a.relatedTarget||a.toElement,F=q,Ae=Ae?Ni(Ae):null,Ae!==null&&(We=u(Ae),_e=Ae.tag,Ae!==We||_e!==5&&_e!==27&&_e!==6)&&(Ae=null)):(F=null,Ae=q),F!==Ae)){if(_e=In,W="onMouseLeave",k="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Xo,W="onPointerLeave",k="onPointerEnter",M="pointer"),We=F==null?H:Zn(F),B=Ae==null?H:Zn(Ae),H=new _e(W,M+"leave",F,a,J),H.target=We,H.relatedTarget=B,W=null,Ni(J)===q&&(_e=new _e(k,M+"enter",Ae,a,J),_e.target=B,_e.relatedTarget=We,W=_e),We=W,F&&Ae)t:{for(_e=F,k=Ae,M=0,B=_e;B;B=Ya(B))M++;for(B=0,W=k;W;W=Ya(W))B++;for(;0<M-B;)_e=Ya(_e),M--;for(;0<B-M;)k=Ya(k),B--;for(;M--;){if(_e===k||k!==null&&_e===k.alternate)break t;_e=Ya(_e),k=Ya(k)}_e=null}else _e=null;F!==null&&i0(ne,H,F,_e,!1),Ae!==null&&We!==null&&i0(ne,We,Ae,_e,!0)}}e:{if(H=q?Zn(q):window,F=H.nodeName&&H.nodeName.toLowerCase(),F==="select"||F==="input"&&H.type==="file")var me=Ag;else if(It(H))if(Sg)me=iS;else{me=tS;var Oe=eS}else F=H.nodeName,!F||F.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&Ho(q.elementType)&&(me=Ag):me=nS;if(me&&(me=me(t,q))){zi(ne,me,a,J);break e}Oe&&Oe(t,H,q),t==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&gr(H,"number",H.value)}switch(Oe=q?Zn(q):window,t){case"focusin":(It(Oe)||Oe.contentEditable==="true")&&(ba=Oe,Df=q,Zo=null);break;case"focusout":Zo=Df=ba=null;break;case"mousedown":Nf=!0;break;case"contextmenu":case"mouseup":case"dragend":Nf=!1,Og(ne,a,J);break;case"selectionchange":if(sS)break;case"keydown":case"keyup":Og(ne,a,J)}var ge;if(ai)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Ue?K(t,a)&&(ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(_&&a.locale!=="ko"&&(Ue||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Ue&&(ge=Go()):(ni=J,yr="value"in ni?ni.value:ni.textContent,Ue=!0)),Oe=Pc(q,ve),0<Oe.length&&(ve=new Yo(ve,t,null,a,J),ne.push({event:ve,listeners:Oe}),ge?ve.data=ge:(ge=ae(a),ge!==null&&(ve.data=ge)))),(ge=y?Ct(t,a):ze(t,a))&&(ve=Pc(q,"onBeforeInput"),0<ve.length&&(Oe=new Yo("onBeforeInput","beforeinput",null,a,J),ne.push({event:Oe,listeners:ve}),Oe.data=ge)),jS(ne,t,q,a,J)}t0(ne,r)})}function Cl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Pc(t,r){for(var a=r+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=_s(t,a),f!=null&&l.unshift(Cl(t,f,d)),f=_s(t,r),f!=null&&l.push(Cl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function Ya(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function i0(t,r,a,l,f){for(var d=r._reactName,E=[];a!==null&&a!==l;){var T=a,C=T.alternate,q=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||q===null||(C=q,f?(q=_s(a,d),q!=null&&E.unshift(Cl(a,q,C))):f||(q=_s(a,d),q!=null&&E.push(Cl(a,q,C)))),a=a.return}E.length!==0&&t.push({event:r,listeners:E})}var GS=/\r\n?/g,KS=/\u0000|\uFFFD/g;function r0(t){return(typeof t=="string"?t:""+t).replace(GS,`
`).replace(KS,"")}function s0(t,r){return r=r0(r),r0(t)===r}function Lc(){}function Je(t,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||wn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&wn(t,""+l);break;case"className":ei(t,"class",l);break;case"tabIndex":ei(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ei(t,a,l);break;case"style":qo(t,l,d);break;case"data":if(r!=="object"){ei(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=pa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Je(t,r,"name",f.name,f,null),Je(t,r,"formEncType",f.formEncType,f,null),Je(t,r,"formMethod",f.formMethod,f,null),Je(t,r,"formTarget",f.formTarget,f,null)):(Je(t,r,"encType",f.encType,f,null),Je(t,r,"method",f.method,f,null),Je(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=pa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Lc);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=pa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":xe("beforetoggle",t),xe("toggle",t),pr(t,"popover",l);break;case"xlinkActuate":Bt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Bt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Bt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Bt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Bt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Bt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":pr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Af.get(a)||a,pr(t,a,l))}}function Zd(t,r,a,l,f,d){switch(a){case"style":qo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?wn(t,l):(typeof l=="number"||typeof l=="bigint")&&wn(t,""+l);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Lc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ca.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=t[vt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):pr(t,a,l)}}}function Ft(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",t),xe("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Je(t,r,d,E,a,null)}}f&&Je(t,r,"srcSet",a.srcSet,a,null),l&&Je(t,r,"src",a.src,a,null);return;case"input":xe("invalid",t);var T=d=E=f=null,C=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var J=a[l];if(J!=null)switch(l){case"name":f=J;break;case"type":E=J;break;case"checked":C=J;break;case"defaultChecked":q=J;break;case"value":d=J;break;case"defaultValue":T=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,r));break;default:Je(t,r,l,J,a,null)}}ps(t,d,T,C,q,E,f,!1),ma(t);return;case"select":xe("invalid",t),l=E=d=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":d=T;break;case"defaultValue":E=T;break;case"multiple":l=T;default:Je(t,r,f,T,a,null)}r=d,a=E,t.multiple=!!l,r!=null?xi(t,!!l,r,!1):a!=null&&xi(t,!!l,a,!0);return;case"textarea":xe("invalid",t),d=f=l=null;for(E in a)if(a.hasOwnProperty(E)&&(T=a[E],T!=null))switch(E){case"value":l=T;break;case"defaultValue":f=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Je(t,r,E,T,a,null)}gs(t,l,f,d),ma(t);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(t,r,C,l,a,null)}return;case"dialog":xe("beforetoggle",t),xe("toggle",t),xe("cancel",t),xe("close",t);break;case"iframe":case"object":xe("load",t);break;case"video":case"audio":for(l=0;l<Rl.length;l++)xe(Rl[l],t);break;case"image":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"embed":case"source":case"link":xe("error",t),xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Je(t,r,q,l,a,null)}return;default:if(Ho(r)){for(J in a)a.hasOwnProperty(J)&&(l=a[J],l!==void 0&&Zd(t,r,J,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Je(t,r,T,l,a,null))}function QS(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,E=null,T=null,C=null,q=null,J=null;for(F in a){var ne=a[F];if(a.hasOwnProperty(F)&&ne!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":C=ne;default:l.hasOwnProperty(F)||Je(t,r,F,null,l,ne)}}for(var H in l){var F=l[H];if(ne=a[H],l.hasOwnProperty(H)&&(F!=null||ne!=null))switch(H){case"type":d=F;break;case"name":f=F;break;case"checked":q=F;break;case"defaultChecked":J=F;break;case"value":E=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:F!==ne&&Je(t,r,H,F,l,ne)}}pn(t,E,T,C,q,J,d,f);return;case"select":F=E=T=H=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":F=C;default:l.hasOwnProperty(d)||Je(t,r,d,null,l,C)}for(f in l)if(d=l[f],C=a[f],l.hasOwnProperty(f)&&(d!=null||C!=null))switch(f){case"value":H=d;break;case"defaultValue":T=d;break;case"multiple":E=d;default:d!==C&&Je(t,r,f,d,l,C)}r=T,a=E,l=F,H!=null?xi(t,!!a,H,!1):!!l!=!!a&&(r!=null?xi(t,!!a,r,!0):xi(t,!!a,a?[]:"",!1));return;case"textarea":F=H=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Je(t,r,T,null,l,f)}for(E in l)if(f=l[E],d=a[E],l.hasOwnProperty(E)&&(f!=null||d!=null))switch(E){case"value":H=f;break;case"defaultValue":F=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Je(t,r,E,f,l,d)}$e(t,H,F);return;case"option":for(var Ae in a)if(H=a[Ae],a.hasOwnProperty(Ae)&&H!=null&&!l.hasOwnProperty(Ae))switch(Ae){case"selected":t.selected=!1;break;default:Je(t,r,Ae,null,l,H)}for(C in l)if(H=l[C],F=a[C],l.hasOwnProperty(C)&&H!==F&&(H!=null||F!=null))switch(C){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Je(t,r,C,H,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)H=a[_e],a.hasOwnProperty(_e)&&H!=null&&!l.hasOwnProperty(_e)&&Je(t,r,_e,null,l,H);for(q in l)if(H=l[q],F=a[q],l.hasOwnProperty(q)&&H!==F&&(H!=null||F!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:Je(t,r,q,H,l,F)}return;default:if(Ho(r)){for(var We in a)H=a[We],a.hasOwnProperty(We)&&H!==void 0&&!l.hasOwnProperty(We)&&Zd(t,r,We,void 0,l,H);for(J in l)H=l[J],F=a[J],!l.hasOwnProperty(J)||H===F||H===void 0&&F===void 0||Zd(t,r,J,H,l,F);return}}for(var k in a)H=a[k],a.hasOwnProperty(k)&&H!=null&&!l.hasOwnProperty(k)&&Je(t,r,k,null,l,H);for(ne in l)H=l[ne],F=a[ne],!l.hasOwnProperty(ne)||H===F||H==null&&F==null||Je(t,r,ne,H,l,F)}var em=null,tm=null;function kc(t){return t.nodeType===9?t:t.ownerDocument}function a0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function o0(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function nm(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var im=null;function YS(){var t=window.event;return t&&t.type==="popstate"?t===im?!1:(im=t,!0):(im=null,!1)}var l0=typeof setTimeout=="function"?setTimeout:void 0,$S=typeof clearTimeout=="function"?clearTimeout:void 0,u0=typeof Promise=="function"?Promise:void 0,XS=typeof queueMicrotask=="function"?queueMicrotask:typeof u0<"u"?function(t){return u0.resolve(null).then(t).catch(JS)}:l0;function JS(t){setTimeout(function(){throw t})}function xr(t){return t==="head"}function c0(t,r){var a=r,l=0,f=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var E=t.ownerDocument;if(a&1&&Il(E.documentElement),a&2&&Il(E.body),a&4)for(a=E.head,Il(a),E=a.firstChild;E;){var T=E.nextSibling,C=E.nodeName;E[hs]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=T}}if(f===0){t.removeChild(d),Ll(r);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Ll(r)}function rm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":rm(a),mr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function WS(t,r,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[hs])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Hn(t.nextSibling),t===null)break}return null}function ZS(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Hn(t.nextSibling),t===null))return null;return t}function sm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function e2(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Hn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var am=null;function h0(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function f0(t,r,a){switch(r=kc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Il(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);mr(t)}var Pn=new Map,d0=new Set;function Uc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Wi=le.d;le.d={f:t2,r:n2,D:i2,C:r2,L:s2,m:a2,X:l2,S:o2,M:u2};function t2(){var t=Wi.f(),r=Dc();return t||r}function n2(t){var r=Wn(t);r!==null&&r.tag===5&&r.type==="form"?xy(r):Wi.r(t)}var $a=typeof document>"u"?null:document;function m0(t,r,a){var l=$a;if(l&&typeof r=="string"&&r){var f=Et(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),d0.has(f)||(d0.add(f),t={rel:t,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Ft(r,"link",t),mt(r),l.head.appendChild(r)))}}function i2(t){Wi.D(t),m0("dns-prefetch",t,null)}function r2(t,r){Wi.C(t,r),m0("preconnect",t,r)}function s2(t,r,a){Wi.L(t,r,a);var l=$a;if(l&&t&&r){var f='link[rel="preload"][as="'+Et(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Et(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Et(a.imageSizes)+'"]')):f+='[href="'+Et(t)+'"]';var d=f;switch(r){case"style":d=Xa(t);break;case"script":d=Ja(t)}Pn.has(d)||(t=v({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Pn.set(d,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(Dl(d))||r==="script"&&l.querySelector(Nl(d))||(r=l.createElement("link"),Ft(r,"link",t),mt(r),l.head.appendChild(r)))}}function a2(t,r){Wi.m(t,r);var a=$a;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Et(l)+'"][href="'+Et(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ja(t)}if(!Pn.has(d)&&(t=v({rel:"modulepreload",href:t},r),Pn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Nl(d)))return}l=a.createElement("link"),Ft(l,"link",t),mt(l),a.head.appendChild(l)}}}function o2(t,r,a){Wi.S(t,r,a);var l=$a;if(l&&t){var f=nn(l).hoistableStyles,d=Xa(t);r=r||"default";var E=f.get(d);if(!E){var T={loading:0,preload:null};if(E=l.querySelector(Dl(d)))T.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Pn.get(d))&&om(t,a);var C=E=l.createElement("link");mt(C),Ft(C,"link",t),C._p=new Promise(function(q,J){C.onload=q,C.onerror=J}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,zc(E,r,l)}E={type:"stylesheet",instance:E,count:1,state:T},f.set(d,E)}}}function l2(t,r){Wi.X(t,r);var a=$a;if(a&&t){var l=nn(a).hoistableScripts,f=Ja(t),d=l.get(f);d||(d=a.querySelector(Nl(f)),d||(t=v({src:t,async:!0},r),(r=Pn.get(f))&&lm(t,r),d=a.createElement("script"),mt(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function u2(t,r){Wi.M(t,r);var a=$a;if(a&&t){var l=nn(a).hoistableScripts,f=Ja(t),d=l.get(f);d||(d=a.querySelector(Nl(f)),d||(t=v({src:t,async:!0,type:"module"},r),(r=Pn.get(f))&&lm(t,r),d=a.createElement("script"),mt(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function p0(t,r,a,l){var f=(f=be.current)?Uc(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Xa(a.href),a=nn(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Xa(a.href);var d=nn(f).hoistableStyles,E=d.get(t);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,E),(d=f.querySelector(Dl(t)))&&!d._p&&(E.instance=d,E.state.loading=5),Pn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pn.set(t,a),d||c2(f,t,a,E.state))),r&&l===null)throw Error(s(528,""));return E}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ja(a),a=nn(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Xa(t){return'href="'+Et(t)+'"'}function Dl(t){return'link[rel="stylesheet"]['+t+"]"}function g0(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function c2(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Ft(r,"link",a),mt(r),t.head.appendChild(r))}function Ja(t){return'[src="'+Et(t)+'"]'}function Nl(t){return"script[async]"+t}function y0(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+Et(a.href)+'"]');if(l)return r.instance=l,mt(l),l;var f=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),mt(l),Ft(l,"style",f),zc(l,a.precedence,t),r.instance=l;case"stylesheet":f=Xa(a.href);var d=t.querySelector(Dl(f));if(d)return r.state.loading|=4,r.instance=d,mt(d),d;l=g0(a),(f=Pn.get(f))&&om(l,f),d=(t.ownerDocument||t).createElement("link"),mt(d);var E=d;return E._p=new Promise(function(T,C){E.onload=T,E.onerror=C}),Ft(d,"link",l),r.state.loading|=4,zc(d,a.precedence,t),r.instance=d;case"script":return d=Ja(a.src),(f=t.querySelector(Nl(d)))?(r.instance=f,mt(f),f):(l=a,(f=Pn.get(d))&&(l=v({},a),lm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),mt(f),Ft(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,zc(l,a.precedence,t));return r.instance}function zc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,E=0;E<l.length;E++){var T=l[E];if(T.dataset.precedence===r)d=T;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function om(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function lm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Bc=null;function _0(t,r,a){if(Bc===null){var l=new Map,f=Bc=new Map;f.set(a,l)}else f=Bc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[hs]||d[Rt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(r)||"";E=t+E;var T=l.get(E);T?T.push(d):l.set(E,[d])}}return l}function v0(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function h2(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function E0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ol=null;function f2(){}function d2(t,r,a){if(Ol===null)throw Error(s(475));var l=Ol;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=Xa(a.href),d=t.querySelector(Dl(f));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=jc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,mt(d);return}d=t.ownerDocument||t,a=g0(a),(f=Pn.get(f))&&om(a,f),d=d.createElement("link"),mt(d);var E=d;E._p=new Promise(function(T,C){E.onload=T,E.onerror=C}),Ft(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=jc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function m2(){if(Ol===null)throw Error(s(475));var t=Ol;return t.stylesheets&&t.count===0&&um(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&um(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function jc(){if(this.count--,this.count===0){if(this.stylesheets)um(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var qc=null;function um(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,qc=new Map,r.forEach(p2,t),qc=null,jc.call(t))}function p2(t,r){if(!(r.state.loading&4)){var a=qc.get(t);if(a)var l=a.get(null);else{a=new Map,qc.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var E=f[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}f=r.instance,E=f.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,f),a.set(E,f),this.count++,l=jc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var Ml={$$typeof:Z,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function g2(t,r,a,l,f,d,E,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ii(0),this.hiddenUpdates=Ii(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function T0(t,r,a,l,f,d,E,T,C,q,J,ne){return t=new g2(t,r,a,E,T,C,q,ne),r=1,d===!0&&(r|=24),d=yn(3,null,null,r),t.current=d,d.stateNode=t,r=Ff(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Yf(d),t}function A0(t){return t?(t=Ia,t):Ia}function S0(t,r,a,l,f,d){f=A0(f),l.context===null?l.context=f:l.pendingContext=f,l=Er(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Tr(t,l,r),a!==null&&(An(a,t,r),ll(a,t,r))}function b0(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function cm(t,r){b0(t,r),(t=t.alternate)&&b0(t,r)}function w0(t){if(t.tag===13){var r=Ca(t,67108864);r!==null&&An(r,t,67108864),cm(t,67108864)}}var Hc=!0;function y2(t,r,a,l){var f=Q.T;Q.T=null;var d=le.p;try{le.p=2,hm(t,r,a,l)}finally{le.p=d,Q.T=f}}function _2(t,r,a,l){var f=Q.T;Q.T=null;var d=le.p;try{le.p=8,hm(t,r,a,l)}finally{le.p=d,Q.T=f}}function hm(t,r,a,l){if(Hc){var f=fm(l);if(f===null)Wd(t,r,l,Fc,a),C0(t,l);else if(E2(f,t,r,a,l))l.stopPropagation();else if(C0(t,l),r&4&&-1<v2.indexOf(t)){for(;f!==null;){var d=Wn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Un(d.pendingLanes);if(E!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;E;){var C=1<<31-Yt(E);T.entanglements[1]|=C,E&=~C}fi(d),(Qe&6)===0&&(Cc=Sn()+500,wl(0))}}break;case 13:T=Ca(d,2),T!==null&&An(T,d,2),Dc(),cm(d,2)}if(d=fm(l),d===null&&Wd(t,r,l,Fc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Wd(t,r,l,null,a)}}function fm(t){return t=Rn(t),dm(t)}var Fc=null;function dm(t){if(Fc=null,t=Ni(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=h(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Fc=t,null}function R0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gf()){case No:return 2;case aa:return 8;case as:case yf:return 32;case oa:return 268435456;default:return 32}default:return 32}}var mm=!1,Vr=null,Pr=null,Lr=null,xl=new Map,Vl=new Map,kr=[],v2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function C0(t,r){switch(t){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":Pr=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":xl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(r.pointerId)}}function Pl(t,r,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=Wn(r),r!==null&&w0(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function E2(t,r,a,l,f){switch(r){case"focusin":return Vr=Pl(Vr,t,r,a,l,f),!0;case"dragenter":return Pr=Pl(Pr,t,r,a,l,f),!0;case"mouseover":return Lr=Pl(Lr,t,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return xl.set(d,Pl(xl.get(d)||null,t,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Vl.set(d,Pl(Vl.get(d)||null,t,r,a,l,f)),!0}return!1}function I0(t){var r=Ni(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){t.blockedOn=r,Du(t.priority,function(){if(a.tag===13){var l=Tn();l=hr(l);var f=Ca(a,l);f!==null&&An(f,a,l),cm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=fm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Vi=l,a.target.dispatchEvent(l),Vi=null}else return r=Wn(a),r!==null&&w0(r),t.blockedOn=a,!1;r.shift()}return!0}function D0(t,r,a){Gc(t)&&a.delete(r)}function T2(){mm=!1,Vr!==null&&Gc(Vr)&&(Vr=null),Pr!==null&&Gc(Pr)&&(Pr=null),Lr!==null&&Gc(Lr)&&(Lr=null),xl.forEach(D0),Vl.forEach(D0)}function Kc(t,r){t.blockedOn===r&&(t.blockedOn=null,mm||(mm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,T2)))}var Qc=null;function N0(t){Qc!==t&&(Qc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Qc===t&&(Qc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if(dm(l||a)===null)continue;break}var d=Wn(a);d!==null&&(t.splice(r,3),r-=3,dd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Ll(t){function r(C){return Kc(C,t)}Vr!==null&&Kc(Vr,t),Pr!==null&&Kc(Pr,t),Lr!==null&&Kc(Lr,t),xl.forEach(r),Vl.forEach(r);for(var a=0;a<kr.length;a++){var l=kr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<kr.length&&(a=kr[0],a.blockedOn===null);)I0(a),a.blockedOn===null&&kr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],E=f[vt]||null;if(typeof d=="function")E||N0(a);else if(E){var T=null;if(d&&d.hasAttribute("formAction")){if(f=d,E=d[vt]||null)T=E.formAction;else if(dm(f)!==null)continue}else T=E.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),N0(a)}}}function pm(t){this._internalRoot=t}Yc.prototype.render=pm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Tn();S0(a,l,t,r,null,null)},Yc.prototype.unmount=pm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;S0(t.current,2,null,t,null,null),Dc(),r[bn]=null}};function Yc(t){this._internalRoot=t}Yc.prototype.unstable_scheduleHydration=function(t){if(t){var r=fr();t={blockedOn:null,target:t,priority:r};for(var a=0;a<kr.length&&r!==0&&r<kr[a].priority;a++);kr.splice(a,0,t),a===0&&I0(t)}};var O0=e.version;if(O0!=="19.1.1")throw Error(s(527,O0,"19.1.1"));le.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(r),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var A2={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$c.isDisabled&&$c.supportsFiber)try{ht=$c.inject(A2),Ke=$c}catch{}}return Ul.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",f=Qy,d=Yy,E=$y,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=T0(t,1,!1,null,null,a,l,f,d,E,T,null),t[bn]=r.current,Jd(t),new pm(r)},Ul.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=Qy,E=Yy,T=$y,C=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),r=T0(t,1,!0,r,a??null,l,f,d,E,T,C,q),r.context=A0(null),a=r.current,l=Tn(),l=hr(l),f=Er(l),f.callback=null,Tr(a,f,l),a=l,r.current.lanes=a,Di(r,a),fi(r),t[bn]=r.current,Jd(t),new Yc(r)},Ul.version="19.1.1",Ul}var j0;function x2(){if(j0)return _m.exports;j0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),_m.exports=M2(),_m.exports}var V2=x2();/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var q0="popstate";function P2(i={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return zm("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Wl(o)}return k2(e,n,null,i)}function ut(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Ti(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function L2(){return Math.random().toString(36).substring(2,10)}function H0(i,e){return{usr:i.state,key:i.key,idx:e}}function zm(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?yo(e):e,state:n,key:e&&e.key||s||L2()}}function Wl({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function yo(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function k2(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",g=null,p=v();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function v(){return(h.state||{idx:null}).idx}function A(){m="POP";let V=v(),Y=V==null?null:V-p;p=V,g&&g({action:m,location:j.location,delta:Y})}function b(V,Y){m="PUSH";let re=zm(j.location,V,Y);p=v()+1;let Z=H0(re,p),ce=j.createHref(re);try{h.pushState(Z,"",ce)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(ce)}u&&g&&g({action:m,location:j.location,delta:1})}function U(V,Y){m="REPLACE";let re=zm(j.location,V,Y);p=v();let Z=H0(re,p),ce=j.createHref(re);h.replaceState(Z,"",ce),u&&g&&g({action:m,location:j.location,delta:0})}function D(V){return U2(V)}let j={get action(){return m},get location(){return i(o,h)},listen(V){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(q0,A),g=V,()=>{o.removeEventListener(q0,A),g=null}},createHref(V){return e(o,V)},createURL:D,encodeLocation(V){let Y=D(V);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:b,replace:U,go(V){return h.go(V)}};return j}function U2(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Wl(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function UE(i,e,n="/"){return z2(i,e,n,!1)}function z2(i,e,n,s){let o=typeof e=="string"?yo(e):e,u=rr(o.pathname||"/",n);if(u==null)return null;let h=zE(i);B2(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let p=J2(u);m=$2(h[g],p,s)}return m}function zE(i,e=[],n=[],s="",o=!1){let u=(h,m,g=o,p)=>{let v={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&g)return;ut(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let A=nr([s,v.relativePath]),b=n.concat(v);h.children&&h.children.length>0&&(ut(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${A}".`),zE(h.children,e,b,A,g)),!(h.path==null&&!h.index)&&e.push({path:A,score:Q2(A,h.index),routesMeta:b})};return i.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let g of BE(h.path))u(h,m,!0,g)}),e}function BE(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=BE(s.join("/")),m=[];return m.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...h),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function B2(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:Y2(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var j2=/^:[\w-]+$/,q2=3,H2=2,F2=1,G2=10,K2=-2,F0=i=>i==="*";function Q2(i,e){let n=i.split("/"),s=n.length;return n.some(F0)&&(s+=K2),e&&(s+=H2),n.filter(o=>!F0(o)).reduce((o,u)=>o+(j2.test(u)?q2:u===""?F2:G2),s)}function Y2(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function $2(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let g=s[m],p=m===s.length-1,v=u==="/"?e:e.slice(u.length)||"/",A=Eh({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},v),b=g.route;if(!A&&p&&n&&!s[s.length-1].route.index&&(A=Eh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},v)),!A)return null;Object.assign(o,A.params),h.push({params:o,pathname:nr([u,A.pathname]),pathnameBase:tb(nr([u,A.pathnameBase])),route:b}),A.pathnameBase!=="/"&&(u=nr([u,A.pathnameBase]))}return h}function Eh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=X2(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((p,{paramName:v,isOptional:A},b)=>{if(v==="*"){let D=m[b]||"";h=u.slice(0,u.length-D.length).replace(/(.)\/+$/,"$1")}const U=m[b];return A&&!U?p[v]=void 0:p[v]=(U||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:h,pattern:i}}function X2(i,e=!1,n=!0){Ti(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function J2(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ti(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function rr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function W2(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?yo(i):i;return{pathname:n?n.startsWith("/")?n:Z2(n,e):e,search:nb(s),hash:ib(o)}}function Z2(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Am(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function eb(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function jE(i){let e=eb(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function qE(i,e,n,s=!1){let o;typeof i=="string"?o=yo(i):(o={...i},ut(!o.pathname||!o.pathname.includes("?"),Am("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),Am("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),Am("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let A=e.length-1;if(!s&&h.startsWith("..")){let b=h.split("/");for(;b[0]==="..";)b.shift(),A-=1;o.pathname=b.join("/")}m=A>=0?e[A]:"/"}let g=W2(o,m),p=h&&h!=="/"&&h.endsWith("/"),v=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||v)&&(g.pathname+="/"),g}var nr=i=>i.join("/").replace(/\/\/+/g,"/"),tb=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),nb=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,ib=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function rb(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var HE=["POST","PUT","PATCH","DELETE"];new Set(HE);var sb=["GET",...HE];new Set(sb);var _o=$.createContext(null);_o.displayName="DataRouter";var Hh=$.createContext(null);Hh.displayName="DataRouterState";$.createContext(!1);var FE=$.createContext({isTransitioning:!1});FE.displayName="ViewTransition";var ab=$.createContext(new Map);ab.displayName="Fetchers";var ob=$.createContext(null);ob.displayName="Await";var bi=$.createContext(null);bi.displayName="Navigation";var lu=$.createContext(null);lu.displayName="Location";var wi=$.createContext({outlet:null,matches:[],isDataRoute:!1});wi.displayName="Route";var _p=$.createContext(null);_p.displayName="RouteError";function lb(i,{relative:e}={}){ut(uu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=$.useContext(bi),{hash:o,pathname:u,search:h}=cu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:nr([n,u])),s.createHref({pathname:m,search:h,hash:o})}function uu(){return $.useContext(lu)!=null}function ns(){return ut(uu(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(lu).location}var GE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function KE(i){$.useContext(bi).static||$.useLayoutEffect(i)}function vp(){let{isDataRoute:i}=$.useContext(wi);return i?Ab():ub()}function ub(){ut(uu(),"useNavigate() may be used only in the context of a <Router> component.");let i=$.useContext(_o),{basename:e,navigator:n}=$.useContext(bi),{matches:s}=$.useContext(wi),{pathname:o}=ns(),u=JSON.stringify(jE(s)),h=$.useRef(!1);return KE(()=>{h.current=!0}),$.useCallback((g,p={})=>{if(Ti(h.current,GE),!h.current)return;if(typeof g=="number"){n.go(g);return}let v=qE(g,JSON.parse(u),o,p.relative==="path");i==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:nr([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,u,o,i])}$.createContext(null);function cb(){let{matches:i}=$.useContext(wi),e=i[i.length-1];return e?e.params:{}}function cu(i,{relative:e}={}){let{matches:n}=$.useContext(wi),{pathname:s}=ns(),o=JSON.stringify(jE(n));return $.useMemo(()=>qE(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function hb(i,e){return QE(i,e)}function QE(i,e,n,s){ut(uu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=$.useContext(bi),{matches:u}=$.useContext(wi),h=u[u.length-1],m=h?h.params:{},g=h?h.pathname:"/",p=h?h.pathnameBase:"/",v=h&&h.route;{let Y=v&&v.path||"";YE(g,!v||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let A=ns(),b;if(e){let Y=typeof e=="string"?yo(e):e;ut(p==="/"||Y.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),b=Y}else b=A;let U=b.pathname||"/",D=U;if(p!=="/"){let Y=p.replace(/^\//,"").split("/");D="/"+U.replace(/^\//,"").split("/").slice(Y.length).join("/")}let j=UE(i,{pathname:D});Ti(v||j!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Ti(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=gb(j&&j.map(Y=>Object.assign({},Y,{params:Object.assign({},m,Y.params),pathname:nr([p,o.encodeLocation?o.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?p:nr([p,o.encodeLocation?o.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),u,n,s);return e&&V?$.createElement(lu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},V):V}function fb(){let i=Tb(),e=rb(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=$.createElement($.Fragment,null,$.createElement("p",null," Hey developer "),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:u},"ErrorBoundary")," or"," ",$.createElement("code",{style:u},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),n?$.createElement("pre",{style:o},n):null,h)}var db=$.createElement(fb,null),mb=class extends $.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?$.createElement(wi.Provider,{value:this.props.routeContext},$.createElement(_p.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function pb({routeContext:i,match:e,children:n}){let s=$.useContext(_o);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(wi.Provider,{value:i},n)}function gb(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n?.errors;if(u!=null){let g=o.findIndex(p=>p.route.id&&u?.[p.route.id]!==void 0);ut(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let h=!1,m=-1;if(n)for(let g=0;g<o.length;g++){let p=o[g];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(m=g),p.route.id){let{loaderData:v,errors:A}=n,b=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!A||A[p.route.id]===void 0);if(p.route.lazy||b){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,p,v)=>{let A,b=!1,U=null,D=null;n&&(A=u&&p.route.id?u[p.route.id]:void 0,U=p.route.errorElement||db,h&&(m<0&&v===0?(YE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,D=null):m===v&&(b=!0,D=p.route.hydrateFallbackElement||null)));let j=e.concat(o.slice(0,v+1)),V=()=>{let Y;return A?Y=U:b?Y=D:p.route.Component?Y=$.createElement(p.route.Component,null):p.route.element?Y=p.route.element:Y=g,$.createElement(pb,{match:p,routeContext:{outlet:g,matches:j,isDataRoute:n!=null},children:Y})};return n&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?$.createElement(mb,{location:n.location,revalidation:n.revalidation,component:U,error:A,children:V(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):V()},null)}function Ep(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yb(i){let e=$.useContext(_o);return ut(e,Ep(i)),e}function _b(i){let e=$.useContext(Hh);return ut(e,Ep(i)),e}function vb(i){let e=$.useContext(wi);return ut(e,Ep(i)),e}function Tp(i){let e=vb(i),n=e.matches[e.matches.length-1];return ut(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function Eb(){return Tp("useRouteId")}function Tb(){let i=$.useContext(_p),e=_b("useRouteError"),n=Tp("useRouteError");return i!==void 0?i:e.errors?.[n]}function Ab(){let{router:i}=yb("useNavigate"),e=Tp("useNavigate"),n=$.useRef(!1);return KE(()=>{n.current=!0}),$.useCallback(async(o,u={})=>{Ti(n.current,GE),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var G0={};function YE(i,e,n){!e&&!G0[i]&&(G0[i]=!0,Ti(!1,n))}$.memo(Sb);function Sb({routes:i,future:e,state:n}){return QE(i,void 0,n,e)}function rh(i){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bb({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ut(!uu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=$.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=yo(n));let{pathname:g="/",search:p="",hash:v="",state:A=null,key:b="default"}=n,U=$.useMemo(()=>{let D=rr(g,h);return D==null?null:{location:{pathname:D,search:p,hash:v,state:A,key:b},navigationType:s}},[h,g,p,v,A,b,s]);return Ti(U!=null,`<Router basename="${h}"> is not able to match the URL "${g}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),U==null?null:$.createElement(bi.Provider,{value:m},$.createElement(lu.Provider,{children:e,value:U}))}function wb({children:i,location:e}){return hb(Bm(i),e)}function Bm(i,e=[]){let n=[];return $.Children.forEach(i,(s,o)=>{if(!$.isValidElement(s))return;let u=[...e,o];if(s.type===$.Fragment){n.push.apply(n,Bm(s.props.children,u));return}ut(s.type===rh,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Bm(s.props.children,u)),n.push(h)}),n}var sh="get",ah="application/x-www-form-urlencoded";function Fh(i){return i!=null&&typeof i.tagName=="string"}function Rb(i){return Fh(i)&&i.tagName.toLowerCase()==="button"}function Cb(i){return Fh(i)&&i.tagName.toLowerCase()==="form"}function Ib(i){return Fh(i)&&i.tagName.toLowerCase()==="input"}function Db(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Nb(i,e){return i.button===0&&(!e||e==="_self")&&!Db(i)}var Xc=null;function Ob(){if(Xc===null)try{new FormData(document.createElement("form"),0),Xc=!1}catch{Xc=!0}return Xc}var Mb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sm(i){return i!=null&&!Mb.has(i)?(Ti(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ah}"`),null):i}function xb(i,e){let n,s,o,u,h;if(Cb(i)){let m=i.getAttribute("action");s=m?rr(m,e):null,n=i.getAttribute("method")||sh,o=Sm(i.getAttribute("enctype"))||ah,u=new FormData(i)}else if(Rb(i)||Ib(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(s=g?rr(g,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||sh,o=Sm(i.getAttribute("formenctype"))||Sm(m.getAttribute("enctype"))||ah,u=new FormData(m,i),!Ob()){let{name:p,type:v,value:A}=i;if(v==="image"){let b=p?`${p}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else p&&u.append(p,A)}}else{if(Fh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=sh,s=null,o=ah,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ap(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Vb(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&rr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function Pb(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Lb(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function kb(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await Pb(u,n);return h.links?h.links():[]}return[]}));return jb(s.flat(1).filter(Lb).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function K0(i,e,n,s,o,u){let h=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,m=(g,p)=>n[p].pathname!==g.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,p)=>h(g,p)||m(g,p)):u==="data"?e.filter((g,p)=>{let v=s.routes[g.route.id];if(!v||!v.hasLoader)return!1;if(h(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let A=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function Ub(i,e,{includeHydrateFallback:n}={}){return zb(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function zb(i){return[...new Set(i)]}function Bb(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function jb(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(Bb(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function $E(){let i=$.useContext(_o);return Ap(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function qb(){let i=$.useContext(Hh);return Ap(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Sp=$.createContext(void 0);Sp.displayName="FrameworkContext";function XE(){let i=$.useContext(Sp);return Ap(i,"You must render this element inside a <HydratedRouter> element"),i}function Hb(i,e){let n=$.useContext(Sp),[s,o]=$.useState(!1),[u,h]=$.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:v,onTouchStart:A}=e,b=$.useRef(null);$.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let j=Y=>{Y.forEach(re=>{h(re.isIntersecting)})},V=new IntersectionObserver(j,{threshold:.5});return b.current&&V.observe(b.current),()=>{V.disconnect()}}},[i]),$.useEffect(()=>{if(s){let j=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(j)}}},[s]);let U=()=>{o(!0)},D=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,b,{}]:[u,b,{onFocus:zl(m,U),onBlur:zl(g,D),onMouseEnter:zl(p,U),onMouseLeave:zl(v,D),onTouchStart:zl(A,U)}]:[!1,b,{}]}function zl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function Fb({page:i,...e}){let{router:n}=$E(),s=$.useMemo(()=>UE(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?$.createElement(Kb,{page:i,matches:s,...e}):null}function Gb(i){let{manifest:e,routeModules:n}=XE(),[s,o]=$.useState([]);return $.useEffect(()=>{let u=!1;return kb(i,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,n]),s}function Kb({page:i,matches:e,...n}){let s=ns(),{manifest:o,routeModules:u}=XE(),{basename:h}=$E(),{loaderData:m,matches:g}=qb(),p=$.useMemo(()=>K0(i,e,g,o,s,"data"),[i,e,g,o,s]),v=$.useMemo(()=>K0(i,e,g,o,s,"assets"),[i,e,g,o,s]),A=$.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let D=new Set,j=!1;if(e.forEach(Y=>{let re=o.routes[Y.route.id];!re||!re.hasLoader||(!p.some(Z=>Z.route.id===Y.route.id)&&Y.route.id in m&&u[Y.route.id]?.shouldRevalidate||re.hasClientLoader?j=!0:D.add(Y.route.id))}),D.size===0)return[];let V=Vb(i,h,"data");return j&&D.size>0&&V.searchParams.set("_routes",e.filter(Y=>D.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[V.pathname+V.search]},[h,m,s,o,p,e,i,u]),b=$.useMemo(()=>Ub(v,o),[v,o]),U=Gb(v);return $.createElement($.Fragment,null,A.map(D=>$.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),b.map(D=>$.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),U.map(({key:D,link:j})=>$.createElement("link",{key:D,nonce:n.nonce,...j})))}function Qb(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var JE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{JE&&(window.__reactRouterVersion="7.8.1")}catch{}function Yb({basename:i,children:e,window:n}){let s=$.useRef();s.current==null&&(s.current=P2({window:n,v5Compat:!0}));let o=s.current,[u,h]=$.useState({action:o.action,location:o.location}),m=$.useCallback(g=>{$.startTransition(()=>h(g))},[h]);return $.useLayoutEffect(()=>o.listen(m),[o,m]),$.createElement(bb,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var WE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qs=$.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:g,to:p,preventScrollReset:v,viewTransition:A,...b},U){let{basename:D}=$.useContext(bi),j=typeof p=="string"&&WE.test(p),V,Y=!1;if(typeof p=="string"&&j&&(V=p,JE))try{let R=new URL(window.location.href),x=p.startsWith("//")?new URL(R.protocol+p):new URL(p),P=rr(x.pathname,D);x.origin===R.origin&&P!=null?p=P+x.search+x.hash:Y=!0}catch{Ti(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let re=lb(p,{relative:o}),[Z,ce,ue]=Hb(s,b),Te=Wb(p,{replace:h,state:m,target:g,preventScrollReset:v,relative:o,viewTransition:A});function O(R){e&&e(R),R.defaultPrevented||Te(R)}let w=$.createElement("a",{...b,...ue,href:V||re,onClick:Y||u?e:O,ref:Qb(U,ce),target:g,"data-discover":!j&&n==="render"?"true":void 0});return Z&&!j?$.createElement($.Fragment,null,w,$.createElement(Fb,{page:re})):w});Qs.displayName="Link";var $b=$.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:g,...p},v){let A=cu(h,{relative:p.relative}),b=ns(),U=$.useContext(Hh),{navigator:D,basename:j}=$.useContext(bi),V=U!=null&&iw(A)&&m===!0,Y=D.encodeLocation?D.encodeLocation(A).pathname:A.pathname,re=b.pathname,Z=U&&U.navigation&&U.navigation.location?U.navigation.location.pathname:null;n||(re=re.toLowerCase(),Z=Z?Z.toLowerCase():null,Y=Y.toLowerCase()),Z&&j&&(Z=rr(Z,j)||Z);const ce=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let ue=re===Y||!o&&re.startsWith(Y)&&re.charAt(ce)==="/",Te=Z!=null&&(Z===Y||!o&&Z.startsWith(Y)&&Z.charAt(Y.length)==="/"),O={isActive:ue,isPending:Te,isTransitioning:V},w=ue?e:void 0,R;typeof s=="function"?R=s(O):R=[s,ue?"active":null,Te?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let x=typeof u=="function"?u(O):u;return $.createElement(Qs,{...p,"aria-current":w,className:R,ref:v,style:x,to:h,viewTransition:m},typeof g=="function"?g(O):g)});$b.displayName="NavLink";var Xb=$.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=sh,action:m,onSubmit:g,relative:p,preventScrollReset:v,viewTransition:A,...b},U)=>{let D=tw(),j=nw(m,{relative:p}),V=h.toLowerCase()==="get"?"get":"post",Y=typeof m=="string"&&WE.test(m),re=Z=>{if(g&&g(Z),Z.defaultPrevented)return;Z.preventDefault();let ce=Z.nativeEvent.submitter,ue=ce?.getAttribute("formmethod")||h;D(ce||Z.currentTarget,{fetcherKey:e,method:ue,navigate:n,replace:o,state:u,relative:p,preventScrollReset:v,viewTransition:A})};return $.createElement("form",{ref:U,method:V,action:j,onSubmit:s?g:re,...b,"data-discover":!Y&&i==="render"?"true":void 0})});Xb.displayName="Form";function Jb(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZE(i){let e=$.useContext(_o);return ut(e,Jb(i)),e}function Wb(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=vp(),g=ns(),p=cu(i,{relative:u});return $.useCallback(v=>{if(Nb(v,e)){v.preventDefault();let A=n!==void 0?n:Wl(g)===Wl(p);m(i,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[g,m,p,n,s,e,i,o,u,h])}var Zb=0,ew=()=>`__${String(++Zb)}__`;function tw(){let{router:i}=ZE("useSubmit"),{basename:e}=$.useContext(bi),n=Eb();return $.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:g,body:p}=xb(s,e);if(o.navigate===!1){let v=o.fetcherKey||ew();await i.fetch(v,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function nw(i,{relative:e}={}){let{basename:n}=$.useContext(bi),s=$.useContext(wi);ut(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...cu(i||".",{relative:e})},h=ns();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(v=>v==="")){m.delete("index"),g.filter(A=>A).forEach(A=>m.append("index",A));let v=m.toString();u.search=v?`?${v}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:nr([n,u.pathname])),Wl(u)}function iw(i,{relative:e}={}){let n=$.useContext(FE);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=ZE("useViewTransitionState"),o=cu(i,{relative:e});if(!n.isTransitioning)return!1;let u=rr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=rr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Eh(o.pathname,h)!=null||Eh(o.pathname,u)!=null}const rw=()=>{};var Q0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},sw=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],m=i[n++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},tT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,g=o+2<i.length,p=g?i[o+2]:0,v=u>>2,A=(u&3)<<4|m>>4;let b=(m&15)<<2|p>>6,U=p&63;g||(U=64,h||(b=64)),s.push(n[v],n[A],n[b],n[U])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(eT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):sw(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const p=o<i.length?n[i.charAt(o)]:64;++o;const A=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||p==null||A==null)throw new aw;const b=u<<2|m>>4;if(s.push(b),p!==64){const U=m<<4&240|p>>2;if(s.push(U),A!==64){const D=p<<6&192|A;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class aw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ow=function(i){const e=eT(i);return tT.encodeByteArray(e,!0)},Th=function(i){return ow(i).replace(/\./g,"")},nT=function(i){try{return tT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw=()=>lw().__FIREBASE_DEFAULTS__,cw=()=>{if(typeof process>"u"||typeof Q0>"u")return;const i=Q0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},hw=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&nT(i[1]);return e&&JSON.parse(e)},Gh=()=>{try{return rw()||uw()||cw()||hw()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},iT=i=>Gh()?.emulatorHosts?.[i],fw=i=>{const e=iT(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},rT=()=>Gh()?.config,sT=i=>Gh()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function aT(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Th(JSON.stringify(n)),Th(JSON.stringify(h)),""].join(".")}const Kl={};function pw(){const i={prod:[],emulator:[]};for(const e of Object.keys(Kl))Kl[e]?i.emulator.push(e):i.prod.push(e);return i}function gw(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let Y0=!1;function oT(i,e){if(typeof window>"u"||typeof document>"u"||!vo(window.location.host)||Kl[i]===e||Kl[i]||Y0)return;Kl[i]=e;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",u=pw().prod.length>0;function h(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function g(b,U){b.setAttribute("width","24"),b.setAttribute("id",U),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Y0=!0,h()},b}function v(b,U){b.setAttribute("id",U),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function A(){const b=gw(s),U=n("text"),D=document.getElementById(U)||document.createElement("span"),j=n("learnmore"),V=document.getElementById(j)||document.createElement("a"),Y=n("preprendIcon"),re=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const Z=b.element;m(Z),v(V,j);const ce=p();g(re,Y),Z.append(re,D,V,ce),document.body.appendChild(Z)}u?(D.innerText="Preview backend disconnected.",re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function _w(){const i=Gh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ew(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function Tw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Aw(){const i=tn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function Sw(){return!_w()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bw(){try{return typeof indexedDB=="object"}catch{return!1}}function ww(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw="FirebaseError";class ur extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Rw,Object.setPrototypeOf(this,ur.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hu.prototype.create)}}class hu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?Cw(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new ur(o,m,s)}}function Cw(i,e){return i.replace(Iw,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Iw=/\{\$([^}]+)}/g;function Dw(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Ys(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],h=e[o];if($0(u)&&$0(h)){if(!Ys(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function $0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Nw(i,e){const n=new Ow(i,e);return n.subscribe.bind(n)}class Ow{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Mw(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=bm),o.error===void 0&&(o.error=bm),o.complete===void 0&&(o.complete=bm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Mw(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function bm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(i){return i&&i._delegate?i._delegate:i}class $s{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new dw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Pw(e))try{this.getOrInitializeService({instanceIdentifier:Bs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Bs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bs){return this.instances.has(e)}getOptions(e=Bs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Vw(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Bs){return this.component?this.component.multipleInstances?e:Bs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Vw(i){return i===Bs?void 0:i}function Pw(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new xw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ve||(Ve={}));const kw={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},Uw=Ve.INFO,zw={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},Bw=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=zw[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bp{constructor(e){this.name=e,this._logLevel=Uw,this._logHandler=Bw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const jw=(i,e)=>e.some(n=>i instanceof n);let X0,J0;function qw(){return X0||(X0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Hw(){return J0||(J0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lT=new WeakMap,jm=new WeakMap,uT=new WeakMap,wm=new WeakMap,wp=new WeakMap;function Fw(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(Gr(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&lT.set(n,i)}).catch(()=>{}),wp.set(e,i),e}function Gw(i){if(jm.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});jm.set(i,e)}let qm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return jm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||uT.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function Kw(i){qm=i(qm)}function Qw(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Rm(this),e,...n);return uT.set(s,e.sort?e.sort():[e]),Gr(s)}:Hw().includes(i)?function(...e){return i.apply(Rm(this),e),Gr(lT.get(this))}:function(...e){return Gr(i.apply(Rm(this),e))}}function Yw(i){return typeof i=="function"?Qw(i):(i instanceof IDBTransaction&&Gw(i),jw(i,qw())?new Proxy(i,qm):i)}function Gr(i){if(i instanceof IDBRequest)return Fw(i);if(wm.has(i))return wm.get(i);const e=Yw(i);return e!==i&&(wm.set(i,e),wp.set(e,i)),e}const Rm=i=>wp.get(i);function $w(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=Gr(h);return s&&h.addEventListener("upgradeneeded",g=>{s(Gr(h.result),g.oldVersion,g.newVersion,Gr(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const Xw=["get","getKey","getAll","getAllKeys","count"],Jw=["put","add","delete","clear"],Cm=new Map;function W0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Cm.get(e))return Cm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=Jw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Xw.includes(n)))return;const u=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let p=g.store;return s&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return Cm.set(e,u),u}Kw(i=>({...i,get:(e,n,s)=>W0(e,n)||i.get(e,n,s),has:(e,n)=>!!W0(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Zw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Zw(i){return i.getComponent()?.type==="VERSION"}const Hm="@firebase/app",Z0="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr=new bp("@firebase/app"),eR="@firebase/app-compat",tR="@firebase/analytics-compat",nR="@firebase/analytics",iR="@firebase/app-check-compat",rR="@firebase/app-check",sR="@firebase/auth",aR="@firebase/auth-compat",oR="@firebase/database",lR="@firebase/data-connect",uR="@firebase/database-compat",cR="@firebase/functions",hR="@firebase/functions-compat",fR="@firebase/installations",dR="@firebase/installations-compat",mR="@firebase/messaging",pR="@firebase/messaging-compat",gR="@firebase/performance",yR="@firebase/performance-compat",_R="@firebase/remote-config",vR="@firebase/remote-config-compat",ER="@firebase/storage",TR="@firebase/storage-compat",AR="@firebase/firestore",SR="@firebase/ai",bR="@firebase/firestore-compat",wR="firebase",RR="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm="[DEFAULT]",CR={[Hm]:"fire-core",[eR]:"fire-core-compat",[nR]:"fire-analytics",[tR]:"fire-analytics-compat",[rR]:"fire-app-check",[iR]:"fire-app-check-compat",[sR]:"fire-auth",[aR]:"fire-auth-compat",[oR]:"fire-rtdb",[lR]:"fire-data-connect",[uR]:"fire-rtdb-compat",[cR]:"fire-fn",[hR]:"fire-fn-compat",[fR]:"fire-iid",[dR]:"fire-iid-compat",[mR]:"fire-fcm",[pR]:"fire-fcm-compat",[gR]:"fire-perf",[yR]:"fire-perf-compat",[_R]:"fire-rc",[vR]:"fire-rc-compat",[ER]:"fire-gcs",[TR]:"fire-gcs-compat",[AR]:"fire-fst",[bR]:"fire-fst-compat",[SR]:"fire-vertex","fire-js":"fire-js",[wR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new Map,IR=new Map,Gm=new Map;function ev(i,e){try{i.container.addComponent(e)}catch(n){sr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function oo(i){const e=i.name;if(Gm.has(e))return sr.debug(`There were multiple attempts to register component ${e}.`),!1;Gm.set(e,i);for(const n of Ah.values())ev(n,i);for(const n of IR.values())ev(n,i);return!0}function Rp(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Fn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kr=new hu("app","Firebase",DR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new $s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=RR;function cT(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:Fm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Kr.create("bad-app-name",{appName:String(o)});if(n||(n=rT()),!n)throw Kr.create("no-options");const u=Ah.get(o);if(u){if(Ys(n,u.options)&&Ys(s,u.config))return u;throw Kr.create("duplicate-app",{appName:o})}const h=new Lw(o);for(const g of Gm.values())h.addComponent(g);const m=new NR(n,s,h);return Ah.set(o,m),m}function hT(i=Fm){const e=Ah.get(i);if(!e&&i===Fm&&rT())return cT();if(!e)throw Kr.create("no-app",{appName:i});return e}function Qr(i,e,n){let s=CR[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),sr.warn(h.join(" "));return}oo(new $s(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR="firebase-heartbeat-database",MR=1,Zl="firebase-heartbeat-store";let Im=null;function fT(){return Im||(Im=$w(OR,MR,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Zl)}catch(n){console.warn(n)}}}}).catch(i=>{throw Kr.create("idb-open",{originalErrorMessage:i.message})})),Im}async function xR(i){try{const n=(await fT()).transaction(Zl),s=await n.objectStore(Zl).get(dT(i));return await n.done,s}catch(e){if(e instanceof ur)sr.warn(e.message);else{const n=Kr.create("idb-get",{originalErrorMessage:e?.message});sr.warn(n.message)}}}async function tv(i,e){try{const s=(await fT()).transaction(Zl,"readwrite");await s.objectStore(Zl).put(e,dT(i)),await s.done}catch(n){if(n instanceof ur)sr.warn(n.message);else{const s=Kr.create("idb-set",{originalErrorMessage:n?.message});sr.warn(s.message)}}}function dT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=1024,PR=30;class LR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new UR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=nv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>PR){const o=zR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){sr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=nv(),{heartbeatsToSend:n,unsentEntries:s}=kR(this._heartbeatsCache.heartbeats),o=Th(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return sr.warn(e),""}}}function nv(){return new Date().toISOString().substring(0,10)}function kR(i,e=VR){const n=[];let s=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),iv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),iv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class UR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bw()?ww().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await xR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return tv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return tv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function iv(i){return Th(JSON.stringify({version:2,heartbeats:i})).length}function zR(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(i){oo(new $s("platform-logger",e=>new Ww(e),"PRIVATE")),oo(new $s("heartbeat",e=>new LR(e),"PRIVATE")),Qr(Hm,Z0,i),Qr(Hm,Z0,"esm2020"),Qr("fire-js","")}BR("");function mT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jR=mT,pT=new hu("auth","Firebase",mT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=new bp("@firebase/auth");function qR(i,...e){Sh.logLevel<=Ve.WARN&&Sh.warn(`Auth (${Eo}): ${i}`,...e)}function oh(i,...e){Sh.logLevel<=Ve.ERROR&&Sh.error(`Auth (${Eo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(i,...e){throw Ip(i,...e)}function Qn(i,...e){return Ip(i,...e)}function Cp(i,e,n){const s={...jR(),[e]:n};return new hu("auth","Firebase",s).create(e,{appName:i.name})}function Fs(i){return Cp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function HR(i,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Ai(i,"argument-error"),Cp(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ip(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return pT.create(i,...e)}function Se(i,e,...n){if(!i)throw Ip(e,...n)}function er(i){const e="INTERNAL ASSERTION FAILED: "+i;throw oh(e),new Error(e)}function ar(i,e){i||er(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(){return typeof self<"u"&&self.location?.href||""}function FR(){return rv()==="http:"||rv()==="https:"}function rv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FR()||Ew()||"connection"in navigator)?navigator.onLine:!0}function KR(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n){this.shortDelay=e,this.longDelay=n,ar(n>e,"Short delay should be less than long delay!"),this.isMobile=yw()||Tw()}get(){return GR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(i,e){ar(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$R=new du(3e4,6e4);function Np(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function To(i,e,n,s,o={}){return yT(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=fu({key:i.config.apiKey,...h}).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const p={method:e,headers:g,...u};return vw()||(p.referrerPolicy="no-referrer"),i.emulatorConfig&&vo(i.emulatorConfig.host)&&(p.credentials="include"),gT.fetch()(await _T(i,i.config.apiHost,n,m),p)})}async function yT(i,e,n){i._canInitEmulator=!1;const s={...QR,...e};try{const o=new JR(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Jc(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jc(i,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw Jc(i,"email-already-in-use",h);if(g==="USER_DISABLED")throw Jc(i,"user-disabled",h);const v=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Cp(i,v,p);Ai(i,v)}}catch(o){if(o instanceof ur)throw o;Ai(i,"network-request-failed",{message:String(o)})}}async function XR(i,e,n,s,o={}){const u=await To(i,e,n,s,o);return"mfaPendingCredential"in u&&Ai(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function _T(i,e,n,s){const o=`${e}${n}?${s}`,u=i,h=u.config.emulator?Dp(i.config,o):`${i.config.apiScheme}://${o}`;return YR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}class JR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Qn(this.auth,"network-request-failed")),$R.get())})}}function Jc(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Qn(i,e,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WR(i,e){return To(i,"POST","/v1/accounts:delete",e)}async function bh(i,e){return To(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZR(i,e=!1){const n=dn(i),s=await n.getIdToken(e),o=Op(s);Se(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:Ql(Dm(o.auth_time)),issuedAtTime:Ql(Dm(o.iat)),expirationTime:Ql(Dm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Dm(i){return Number(i)*1e3}function Op(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return oh("JWT malformed, contained fewer than 3 sections"),null;try{const o=nT(n);return o?JSON.parse(o):(oh("Failed to decode base64 JWT payload"),null)}catch(o){return oh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function sv(i){const e=Op(i);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eu(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ur&&eC(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function eC({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ql(this.lastLoginAt),this.creationTime=Ql(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wh(i){const e=i.auth,n=await i.getIdToken(),s=await eu(i,bh(e,{idToken:n}));Se(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?vT(o.providerUserInfo):[],h=iC(i.providerData,u),m=i.isAnonymous,g=!(i.email&&o.passwordHash)&&!h?.length,p=m?g:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Qm(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(i,v)}async function nC(i){const e=dn(i);await wh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function iC(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function vT(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rC(i,e){const n=await yT(i,{},async()=>{const s=fu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await _T(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return i.emulatorConfig&&vo(i.emulatorConfig.host)&&(g.credentials="include"),gT.fetch()(h,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function sC(i,e){return To(i,"POST","/v2/accounts:revokeToken",Np(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=sv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await rC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new no;return s&&(Se(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Se(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Se(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new no,this.toJSON())}_performRefresh(){return er("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(i,e){Se(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Gn{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new tC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Qm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await eu(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ZR(this,e)}reload(){return nC(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Gn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await wh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fn(this.auth.app))return Promise.reject(Fs(this.auth));const e=await this.getIdToken();return await eu(this,WR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,p=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:A,emailVerified:b,isAnonymous:U,providerData:D,stsTokenManager:j}=n;Se(A&&j,e,"internal-error");const V=no.fromJSON(this.name,j);Se(typeof A=="string",e,"internal-error"),zr(s,e.name),zr(o,e.name),Se(typeof b=="boolean",e,"internal-error"),Se(typeof U=="boolean",e,"internal-error"),zr(u,e.name),zr(h,e.name),zr(m,e.name),zr(g,e.name),zr(p,e.name),zr(v,e.name);const Y=new Gn({uid:A,auth:e,email:o,emailVerified:b,displayName:s,isAnonymous:U,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:V,createdAt:p,lastLoginAt:v});return D&&Array.isArray(D)&&(Y.providerData=D.map(re=>({...re}))),g&&(Y._redirectEventId=g),Y}static async _fromIdTokenResponse(e,n,s=!1){const o=new no;o.updateFromServerResponse(n);const u=new Gn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await wh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Se(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?vT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new no;m.updateFromIdToken(s);const g=new Gn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Qm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,p),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av=new Map;function tr(i){ar(i instanceof Function,"Expected a class definition");let e=av.get(i);return e?(ar(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,av.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ET.type="NONE";const ov=ET;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(i,e,n){return`firebase:${i}:${e}:${n}`}class io{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=lh(this.userKey,o.apiKey,u),this.fullPersistenceKey=lh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await bh(this.auth,{idToken:e}).catch(()=>{});return n?Gn._fromGetAccountInfoResponse(this.auth,n,e):null}return Gn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new io(tr(ov),e,s);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||tr(ov);const h=lh(s,e.config.apiKey,e.name);let m=null;for(const p of n)try{const v=await p._get(h);if(v){let A;if(typeof v=="string"){const b=await bh(e,{idToken:v}).catch(()=>{});if(!b)break;A=await Gn._fromGetAccountInfoResponse(e,b,v)}else A=Gn._fromJSON(e,v);p!==u&&(m=A),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new io(u,e,s):(u=g[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(h)}catch{}})),new io(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(RT(e))return"Blackberry";if(CT(e))return"Webos";if(AT(e))return"Safari";if((e.includes("chrome/")||ST(e))&&!e.includes("edge/"))return"Chrome";if(wT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function TT(i=tn()){return/firefox\//i.test(i)}function AT(i=tn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ST(i=tn()){return/crios\//i.test(i)}function bT(i=tn()){return/iemobile/i.test(i)}function wT(i=tn()){return/android/i.test(i)}function RT(i=tn()){return/blackberry/i.test(i)}function CT(i=tn()){return/webos/i.test(i)}function Mp(i=tn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function aC(i=tn()){return Mp(i)&&!!window.navigator?.standalone}function oC(){return Aw()&&document.documentMode===10}function IT(i=tn()){return Mp(i)||wT(i)||CT(i)||RT(i)||/windows phone/i.test(i)||bT(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(i,e=[]){let n;switch(i){case"Browser":n=lv(tn());break;case"Worker":n=`${lv(tn())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Eo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const g=e(u);h(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uC(i,e={}){return To(i,"GET","/v2/passwordPolicy",Np(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=6;class hC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??cC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uv(this),this.idTokenSubscription=new uv(this),this.beforeStateQueue=new lC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=tr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await io.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await bh(this,{idToken:e}),s=await Gn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Fn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=KR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fn(this.app))return Promise.reject(Fs(this));const n=e?dn(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fn(this.app)?Promise.reject(Fs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fn(this.app)?Promise.reject(Fs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(tr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uC(this),n=new hC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await sC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&tr(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await io.create(this,[tr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(n);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=DT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&qR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Kh(i){return dn(i)}class uv{constructor(e){this.auth=e,this.observer=null,this.addObserver=Nw(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dC(i){xp=i}function mC(i){return xp.loadJS(i)}function pC(){return xp.gapiScript}function gC(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(i,e){const n=Rp(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ys(u,e??{}))return o;Ai(o,"already-initialized")}return n.initialize({options:e})}function _C(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(tr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function vC(i,e,n){const s=Kh(i);Se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=NT(e),{host:h,port:m}=EC(e),g=m===null?"":`:${m}`,p={url:`${u}//${h}${g}/`},v=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Se(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Se(Ys(p,s.config.emulator)&&Ys(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,vo(h)?(aT(`${u}//${h}${g}`),oT("Auth",!0)):TC()}function NT(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function EC(i){const e=NT(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:cv(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:cv(h)}}}function cv(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function TC(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return er("not implemented")}_getIdTokenResponse(e){return er("not implemented")}_linkToIdToken(e,n){return er("not implemented")}_getReauthenticationResolver(e){return er("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ro(i,e){return XR(i,"POST","/v1/accounts:signInWithIdp",Np(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="http://localhost";class Xs extends OT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Xs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ai("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new Xs(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return ro(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,ro(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ro(e,n)}buildRequest(){const e={requestUri:AC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends Vp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends mu{constructor(){super("facebook.com")}static credential(e){return Xs._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Br.credential(e.oauthAccessToken)}catch{return null}}}Br.FACEBOOK_SIGN_IN_METHOD="facebook.com";Br.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Xs._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Zi.credential(n,s)}catch{return null}}}Zi.GOOGLE_SIGN_IN_METHOD="google.com";Zi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends mu{constructor(){super("github.com")}static credential(e){return Xs._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jr.credential(e.oauthAccessToken)}catch{return null}}}jr.GITHUB_SIGN_IN_METHOD="github.com";jr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends mu{constructor(){super("twitter.com")}static credential(e,n){return Xs._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return qr.credential(n,s)}catch{return null}}}qr.TWITTER_SIGN_IN_METHOD="twitter.com";qr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Gn._fromIdTokenResponse(e,s,o),h=hv(s);return new lo({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=hv(s);return new lo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function hv(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh extends ur{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Rh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Rh(e,n,s,o)}}function MT(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Rh._fromErrorAndOperation(i,u,e,s):u})}async function SC(i,e,n=!1){const s=await eu(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return lo._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bC(i,e,n=!1){const{auth:s}=i;if(Fn(s.app))return Promise.reject(Fs(s));const o="reauthenticate";try{const u=await eu(i,MT(s,o,e,i),n);Se(u.idToken,s,"internal-error");const h=Op(u.idToken);Se(h,s,"internal-error");const{sub:m}=h;return Se(i.uid===m,s,"user-mismatch"),lo._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Ai(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wC(i,e,n=!1){if(Fn(i.app))return Promise.reject(Fs(i));const s="signIn",o=await MT(i,s,e),u=await lo._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}function RC(i,e,n,s){return dn(i).onIdTokenChanged(e,n,s)}function CC(i,e,n){return dn(i).beforeAuthStateChanged(e,n)}function IC(i,e,n,s){return dn(i).onAuthStateChanged(e,n,s)}function DC(i){return dn(i).signOut()}const Ch="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ch,"1"),this.storage.removeItem(Ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=1e3,OC=10;class VT extends xT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=IT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);oC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,OC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},NC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}VT.type="LOCAL";const MC=VT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT extends xT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}PT.type="SESSION";const LT=PT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Qh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async p=>p(n.origin,u)),g=await xC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,g)=>{const p=Pp("",20);o.port1.start();const v=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(A){const b=A;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(v),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(){return window}function PC(i){pi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(){return typeof pi().WorkerGlobalScope<"u"&&typeof pi().importScripts=="function"}async function LC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kC(){return navigator?.serviceWorker?.controller||null}function UC(){return kT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="firebaseLocalStorageDb",zC=1,Ih="firebaseLocalStorage",zT="fbase_key";class pu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yh(i,e){return i.transaction([Ih],e?"readwrite":"readonly").objectStore(Ih)}function BC(){const i=indexedDB.deleteDatabase(UT);return new pu(i).toPromise()}function Ym(){const i=indexedDB.open(UT,zC);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Ih,{keyPath:zT})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Ih)?e(s):(s.close(),await BC(),e(await Ym()))})})}async function fv(i,e,n){const s=Yh(i,!0).put({[zT]:e,value:n});return new pu(s).toPromise()}async function jC(i,e){const n=Yh(i,!1).get(e),s=await new pu(n).toPromise();return s===void 0?null:s.value}function dv(i,e){const n=Yh(i,!0).delete(e);return new pu(n).toPromise()}const qC=800,HC=3;class BT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ym(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>HC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qh._getInstance(UC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await LC(),!this.activeServiceWorker)return;this.sender=new VC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||kC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ym();return await fv(e,Ch,"1"),await dv(e,Ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>fv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>jC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>dv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Yh(o,!1).getAll();return new pu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BT.type="LOCAL";const FC=BT;new du(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(i,e){return e?tr(e):(Se(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp extends OT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ro(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ro(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ro(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function GC(i){return wC(i.auth,new Lp(i),i.bypassAuthState)}function KC(i){const{auth:e,user:n}=i;return Se(n,e,"internal-error"),bC(n,new Lp(i),i.bypassAuthState)}async function QC(i){const{auth:e,user:n}=i;return Se(n,e,"internal-error"),SC(n,new Lp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GC;case"linkViaPopup":case"linkViaRedirect":return QC;case"reauthViaPopup":case"reauthViaRedirect":return KC;default:Ai(this.auth,"internal-error")}}resolve(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=new du(2e3,1e4);async function $C(i,e,n){if(Fn(i.app))return Promise.reject(Qn(i,"operation-not-supported-in-this-environment"));const s=Kh(i);HR(i,e,Vp);const o=jT(s,n);return new js(s,"signInViaPopup",e,o).executeNotNull()}class js extends qT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,js.currentPopupAction&&js.currentPopupAction.cancel(),js.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){ar(this.filter.length===1,"Popup operations only handle one event");const e=Pp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,js.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,YC.get())};e()}}js.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC="pendingRedirect",uh=new Map;class JC extends qT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=uh.get(this.auth._key());if(!e){try{const s=await WC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}uh.set(this.auth._key(),e)}return this.bypassAuthState||uh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function WC(i,e){const n=tI(e),s=eI(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function ZC(i,e){uh.set(i._key(),e)}function eI(i){return tr(i._redirectPersistence)}function tI(i){return lh(XC,i.config.apiKey,i.name)}async function nI(i,e,n=!1){if(Fn(i.app))return Promise.reject(Fs(i));const s=Kh(i),o=jT(s,e),h=await new JC(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=600*1e3;class rI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!HT(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Qn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iI&&this.cachedEventUids.clear(),this.cachedEventUids.has(mv(e))}saveEventToCache(e){this.cachedEventUids.add(mv(e)),this.lastProcessedEventTime=Date.now()}}function mv(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function HT({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function sI(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HT(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aI(i,e={}){return To(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lI=/^https?/;async function uI(i){if(i.config.emulator)return;const{authorizedDomains:e}=await aI(i);for(const n of e)try{if(cI(n))return}catch{}Ai(i,"unauthorized-domain")}function cI(i){const e=Km(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!lI.test(n))return!1;if(oI.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=new du(3e4,6e4);function pv(){const i=pi().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function fI(i){return new Promise((e,n)=>{function s(){pv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pv(),n(Qn(i,"network-request-failed"))},timeout:hI.get()})}if(pi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(pi().gapi?.load)s();else{const o=gC("iframefcb");return pi()[o]=()=>{gapi.load?s():n(Qn(i,"network-request-failed"))},mC(`${pC()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw ch=null,e})}let ch=null;function dI(i){return ch=ch||fI(i),ch}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=new du(5e3,15e3),pI="__/auth/iframe",gI="emulator/auth/iframe",yI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_I=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vI(i){const e=i.config;Se(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Dp(e,gI):`https://${i.config.authDomain}/${pI}`,s={apiKey:e.apiKey,appName:i.name,v:Eo},o=_I.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${fu(s).slice(1)}`}async function EI(i){const e=await dI(i),n=pi().gapi;return Se(n,i,"internal-error"),e.open({where:document.body,url:vI(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Qn(i,"network-request-failed"),m=pi().setTimeout(()=>{u(h)},mI.get());function g(){pi().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AI=500,SI=600,bI="_blank",wI="http://localhost";class gv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RI(i,e,n,s=AI,o=SI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...TI,width:s.toString(),height:o.toString(),top:u,left:h},p=tn().toLowerCase();n&&(m=ST(p)?bI:n),TT(p)&&(e=e||wI,g.scrollbars="yes");const v=Object.entries(g).reduce((b,[U,D])=>`${b}${U}=${D},`,"");if(aC(p)&&m!=="_self")return CI(e||"",m),new gv(null);const A=window.open(e||"",m,v);Se(A,i,"popup-blocked");try{A.focus()}catch{}return new gv(A)}function CI(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II="__/auth/handler",DI="emulator/auth/handler",NI=encodeURIComponent("fac");async function yv(i,e,n,s,o,u){Se(i.config.authDomain,i,"auth-domain-config-required"),Se(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Eo,eventId:o};if(e instanceof Vp){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",Dw(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,A]of Object.entries({}))h[v]=A}if(e instanceof mu){const v=e.getScopes().filter(A=>A!=="");v.length>0&&(h.scopes=v.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const g=await i._getAppCheckToken(),p=g?`#${NI}=${encodeURIComponent(g)}`:"";return`${OI(i)}?${fu(m).slice(1)}${p}`}function OI({config:i}){return i.emulator?Dp(i,DI):`https://${i.authDomain}/${II}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="webStorageSupport";class MI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LT,this._completeRedirectFn=nI,this._overrideRedirectResult=ZC}async _openPopup(e,n,s,o){ar(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await yv(e,n,s,Km(),o);return RI(e,u,Pp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await yv(e,n,s,Km(),o);return PC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ar(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await EI(e),s=new rI(e);return n.register("authEvent",o=>(Se(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Nm,{type:Nm},o=>{const u=o?.[0]?.[Nm];u!==void 0&&n(!!u),Ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=uI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return IT()||AT()||Mp()}}const xI=MI;var _v="@firebase/auth",vv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LI(i){oo(new $s("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Se(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DT(i)},p=new fC(s,o,u,g);return _C(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),oo(new $s("auth-internal",e=>{const n=Kh(e.getProvider("auth").getImmediate());return(s=>new VI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qr(_v,vv,PI(i)),Qr(_v,vv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=300,UI=sT("authIdTokenMaxAge")||kI;let Ev=null;const zI=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>UI)return;const o=n?.token;Ev!==o&&(Ev=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function BI(i=hT()){const e=Rp(i,"auth");if(e.isInitialized())return e.getImmediate();const n=yC(i,{popupRedirectResolver:xI,persistence:[FC,MC,LT]}),s=sT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=zI(u.toString());CC(n,h,()=>h(n.currentUser)),RC(n,m=>h(m))}}const o=iT("auth");return o&&vC(n,`http://${o}`),n}function jI(){return document.getElementsByTagName("head")?.[0]??document}dC({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Qn("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",jI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LI("Browser");var qI="firebase",HI="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qr(qI,HI,"app");var Tv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yr,FT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,w){function R(){}R.prototype=w.prototype,O.D=w.prototype,O.prototype=new R,O.prototype.constructor=O,O.C=function(x,P,L){for(var I=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)I[rt-2]=arguments[rt];return w.prototype[P].apply(x,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,w,R){R||(R=0);var x=Array(16);if(typeof w=="string")for(var P=0;16>P;++P)x[P]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(P=0;16>P;++P)x[P]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=O.g[0],R=O.g[1],P=O.g[2];var L=O.g[3],I=w+(L^R&(P^L))+x[0]+3614090360&4294967295;w=R+(I<<7&4294967295|I>>>25),I=L+(P^w&(R^P))+x[1]+3905402710&4294967295,L=w+(I<<12&4294967295|I>>>20),I=P+(R^L&(w^R))+x[2]+606105819&4294967295,P=L+(I<<17&4294967295|I>>>15),I=R+(w^P&(L^w))+x[3]+3250441966&4294967295,R=P+(I<<22&4294967295|I>>>10),I=w+(L^R&(P^L))+x[4]+4118548399&4294967295,w=R+(I<<7&4294967295|I>>>25),I=L+(P^w&(R^P))+x[5]+1200080426&4294967295,L=w+(I<<12&4294967295|I>>>20),I=P+(R^L&(w^R))+x[6]+2821735955&4294967295,P=L+(I<<17&4294967295|I>>>15),I=R+(w^P&(L^w))+x[7]+4249261313&4294967295,R=P+(I<<22&4294967295|I>>>10),I=w+(L^R&(P^L))+x[8]+1770035416&4294967295,w=R+(I<<7&4294967295|I>>>25),I=L+(P^w&(R^P))+x[9]+2336552879&4294967295,L=w+(I<<12&4294967295|I>>>20),I=P+(R^L&(w^R))+x[10]+4294925233&4294967295,P=L+(I<<17&4294967295|I>>>15),I=R+(w^P&(L^w))+x[11]+2304563134&4294967295,R=P+(I<<22&4294967295|I>>>10),I=w+(L^R&(P^L))+x[12]+1804603682&4294967295,w=R+(I<<7&4294967295|I>>>25),I=L+(P^w&(R^P))+x[13]+4254626195&4294967295,L=w+(I<<12&4294967295|I>>>20),I=P+(R^L&(w^R))+x[14]+2792965006&4294967295,P=L+(I<<17&4294967295|I>>>15),I=R+(w^P&(L^w))+x[15]+1236535329&4294967295,R=P+(I<<22&4294967295|I>>>10),I=w+(P^L&(R^P))+x[1]+4129170786&4294967295,w=R+(I<<5&4294967295|I>>>27),I=L+(R^P&(w^R))+x[6]+3225465664&4294967295,L=w+(I<<9&4294967295|I>>>23),I=P+(w^R&(L^w))+x[11]+643717713&4294967295,P=L+(I<<14&4294967295|I>>>18),I=R+(L^w&(P^L))+x[0]+3921069994&4294967295,R=P+(I<<20&4294967295|I>>>12),I=w+(P^L&(R^P))+x[5]+3593408605&4294967295,w=R+(I<<5&4294967295|I>>>27),I=L+(R^P&(w^R))+x[10]+38016083&4294967295,L=w+(I<<9&4294967295|I>>>23),I=P+(w^R&(L^w))+x[15]+3634488961&4294967295,P=L+(I<<14&4294967295|I>>>18),I=R+(L^w&(P^L))+x[4]+3889429448&4294967295,R=P+(I<<20&4294967295|I>>>12),I=w+(P^L&(R^P))+x[9]+568446438&4294967295,w=R+(I<<5&4294967295|I>>>27),I=L+(R^P&(w^R))+x[14]+3275163606&4294967295,L=w+(I<<9&4294967295|I>>>23),I=P+(w^R&(L^w))+x[3]+4107603335&4294967295,P=L+(I<<14&4294967295|I>>>18),I=R+(L^w&(P^L))+x[8]+1163531501&4294967295,R=P+(I<<20&4294967295|I>>>12),I=w+(P^L&(R^P))+x[13]+2850285829&4294967295,w=R+(I<<5&4294967295|I>>>27),I=L+(R^P&(w^R))+x[2]+4243563512&4294967295,L=w+(I<<9&4294967295|I>>>23),I=P+(w^R&(L^w))+x[7]+1735328473&4294967295,P=L+(I<<14&4294967295|I>>>18),I=R+(L^w&(P^L))+x[12]+2368359562&4294967295,R=P+(I<<20&4294967295|I>>>12),I=w+(R^P^L)+x[5]+4294588738&4294967295,w=R+(I<<4&4294967295|I>>>28),I=L+(w^R^P)+x[8]+2272392833&4294967295,L=w+(I<<11&4294967295|I>>>21),I=P+(L^w^R)+x[11]+1839030562&4294967295,P=L+(I<<16&4294967295|I>>>16),I=R+(P^L^w)+x[14]+4259657740&4294967295,R=P+(I<<23&4294967295|I>>>9),I=w+(R^P^L)+x[1]+2763975236&4294967295,w=R+(I<<4&4294967295|I>>>28),I=L+(w^R^P)+x[4]+1272893353&4294967295,L=w+(I<<11&4294967295|I>>>21),I=P+(L^w^R)+x[7]+4139469664&4294967295,P=L+(I<<16&4294967295|I>>>16),I=R+(P^L^w)+x[10]+3200236656&4294967295,R=P+(I<<23&4294967295|I>>>9),I=w+(R^P^L)+x[13]+681279174&4294967295,w=R+(I<<4&4294967295|I>>>28),I=L+(w^R^P)+x[0]+3936430074&4294967295,L=w+(I<<11&4294967295|I>>>21),I=P+(L^w^R)+x[3]+3572445317&4294967295,P=L+(I<<16&4294967295|I>>>16),I=R+(P^L^w)+x[6]+76029189&4294967295,R=P+(I<<23&4294967295|I>>>9),I=w+(R^P^L)+x[9]+3654602809&4294967295,w=R+(I<<4&4294967295|I>>>28),I=L+(w^R^P)+x[12]+3873151461&4294967295,L=w+(I<<11&4294967295|I>>>21),I=P+(L^w^R)+x[15]+530742520&4294967295,P=L+(I<<16&4294967295|I>>>16),I=R+(P^L^w)+x[2]+3299628645&4294967295,R=P+(I<<23&4294967295|I>>>9),I=w+(P^(R|~L))+x[0]+4096336452&4294967295,w=R+(I<<6&4294967295|I>>>26),I=L+(R^(w|~P))+x[7]+1126891415&4294967295,L=w+(I<<10&4294967295|I>>>22),I=P+(w^(L|~R))+x[14]+2878612391&4294967295,P=L+(I<<15&4294967295|I>>>17),I=R+(L^(P|~w))+x[5]+4237533241&4294967295,R=P+(I<<21&4294967295|I>>>11),I=w+(P^(R|~L))+x[12]+1700485571&4294967295,w=R+(I<<6&4294967295|I>>>26),I=L+(R^(w|~P))+x[3]+2399980690&4294967295,L=w+(I<<10&4294967295|I>>>22),I=P+(w^(L|~R))+x[10]+4293915773&4294967295,P=L+(I<<15&4294967295|I>>>17),I=R+(L^(P|~w))+x[1]+2240044497&4294967295,R=P+(I<<21&4294967295|I>>>11),I=w+(P^(R|~L))+x[8]+1873313359&4294967295,w=R+(I<<6&4294967295|I>>>26),I=L+(R^(w|~P))+x[15]+4264355552&4294967295,L=w+(I<<10&4294967295|I>>>22),I=P+(w^(L|~R))+x[6]+2734768916&4294967295,P=L+(I<<15&4294967295|I>>>17),I=R+(L^(P|~w))+x[13]+1309151649&4294967295,R=P+(I<<21&4294967295|I>>>11),I=w+(P^(R|~L))+x[4]+4149444226&4294967295,w=R+(I<<6&4294967295|I>>>26),I=L+(R^(w|~P))+x[11]+3174756917&4294967295,L=w+(I<<10&4294967295|I>>>22),I=P+(w^(L|~R))+x[2]+718787259&4294967295,P=L+(I<<15&4294967295|I>>>17),I=R+(L^(P|~w))+x[9]+3951481745&4294967295,O.g[0]=O.g[0]+w&4294967295,O.g[1]=O.g[1]+(P+(I<<21&4294967295|I>>>11))&4294967295,O.g[2]=O.g[2]+P&4294967295,O.g[3]=O.g[3]+L&4294967295}s.prototype.u=function(O,w){w===void 0&&(w=O.length);for(var R=w-this.blockSize,x=this.B,P=this.h,L=0;L<w;){if(P==0)for(;L<=R;)o(this,O,L),L+=this.blockSize;if(typeof O=="string"){for(;L<w;)if(x[P++]=O.charCodeAt(L++),P==this.blockSize){o(this,x),P=0;break}}else for(;L<w;)if(x[P++]=O[L++],P==this.blockSize){o(this,x),P=0;break}}this.h=P,this.o+=w},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var w=1;w<O.length-8;++w)O[w]=0;var R=8*this.o;for(w=O.length-8;w<O.length;++w)O[w]=R&255,R/=256;for(this.u(O),O=Array(16),w=R=0;4>w;++w)for(var x=0;32>x;x+=8)O[R++]=this.g[w]>>>x&255;return O};function u(O,w){var R=m;return Object.prototype.hasOwnProperty.call(R,O)?R[O]:R[O]=w(O)}function h(O,w){this.h=w;for(var R=[],x=!0,P=O.length-1;0<=P;P--){var L=O[P]|0;x&&L==w||(R[P]=L,x=!1)}this.g=R}var m={};function g(O){return-128<=O&&128>O?u(O,function(w){return new h([w|0],0>w?-1:0)}):new h([O|0],0>O?-1:0)}function p(O){if(isNaN(O)||!isFinite(O))return A;if(0>O)return V(p(-O));for(var w=[],R=1,x=0;O>=R;x++)w[x]=O/R|0,R*=4294967296;return new h(w,0)}function v(O,w){if(O.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(O.charAt(0)=="-")return V(v(O.substring(1),w));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=p(Math.pow(w,8)),x=A,P=0;P<O.length;P+=8){var L=Math.min(8,O.length-P),I=parseInt(O.substring(P,P+L),w);8>L?(L=p(Math.pow(w,L)),x=x.j(L).add(p(I))):(x=x.j(R),x=x.add(p(I)))}return x}var A=g(0),b=g(1),U=g(16777216);i=h.prototype,i.m=function(){if(j(this))return-V(this).m();for(var O=0,w=1,R=0;R<this.g.length;R++){var x=this.i(R);O+=(0<=x?x:4294967296+x)*w,w*=4294967296}return O},i.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(D(this))return"0";if(j(this))return"-"+V(this).toString(O);for(var w=p(Math.pow(O,6)),R=this,x="";;){var P=ce(R,w).g;R=Y(R,P.j(w));var L=((0<R.g.length?R.g[0]:R.h)>>>0).toString(O);if(R=P,D(R))return L+x;for(;6>L.length;)L="0"+L;x=L+x}},i.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function D(O){if(O.h!=0)return!1;for(var w=0;w<O.g.length;w++)if(O.g[w]!=0)return!1;return!0}function j(O){return O.h==-1}i.l=function(O){return O=Y(this,O),j(O)?-1:D(O)?0:1};function V(O){for(var w=O.g.length,R=[],x=0;x<w;x++)R[x]=~O.g[x];return new h(R,~O.h).add(b)}i.abs=function(){return j(this)?V(this):this},i.add=function(O){for(var w=Math.max(this.g.length,O.g.length),R=[],x=0,P=0;P<=w;P++){var L=x+(this.i(P)&65535)+(O.i(P)&65535),I=(L>>>16)+(this.i(P)>>>16)+(O.i(P)>>>16);x=I>>>16,L&=65535,I&=65535,R[P]=I<<16|L}return new h(R,R[R.length-1]&-2147483648?-1:0)};function Y(O,w){return O.add(V(w))}i.j=function(O){if(D(this)||D(O))return A;if(j(this))return j(O)?V(this).j(V(O)):V(V(this).j(O));if(j(O))return V(this.j(V(O)));if(0>this.l(U)&&0>O.l(U))return p(this.m()*O.m());for(var w=this.g.length+O.g.length,R=[],x=0;x<2*w;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(var P=0;P<O.g.length;P++){var L=this.i(x)>>>16,I=this.i(x)&65535,rt=O.i(P)>>>16,st=O.i(P)&65535;R[2*x+2*P]+=I*st,re(R,2*x+2*P),R[2*x+2*P+1]+=L*st,re(R,2*x+2*P+1),R[2*x+2*P+1]+=I*rt,re(R,2*x+2*P+1),R[2*x+2*P+2]+=L*rt,re(R,2*x+2*P+2)}for(x=0;x<w;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=w;x<2*w;x++)R[x]=0;return new h(R,0)};function re(O,w){for(;(O[w]&65535)!=O[w];)O[w+1]+=O[w]>>>16,O[w]&=65535,w++}function Z(O,w){this.g=O,this.h=w}function ce(O,w){if(D(w))throw Error("division by zero");if(D(O))return new Z(A,A);if(j(O))return w=ce(V(O),w),new Z(V(w.g),V(w.h));if(j(w))return w=ce(O,V(w)),new Z(V(w.g),w.h);if(30<O.g.length){if(j(O)||j(w))throw Error("slowDivide_ only works with positive integers.");for(var R=b,x=w;0>=x.l(O);)R=ue(R),x=ue(x);var P=Te(R,1),L=Te(x,1);for(x=Te(x,2),R=Te(R,2);!D(x);){var I=L.add(x);0>=I.l(O)&&(P=P.add(R),L=I),x=Te(x,1),R=Te(R,1)}return w=Y(O,P.j(w)),new Z(P,w)}for(P=A;0<=O.l(w);){for(R=Math.max(1,Math.floor(O.m()/w.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),L=p(R),I=L.j(w);j(I)||0<I.l(O);)R-=x,L=p(R),I=L.j(w);D(L)&&(L=b),P=P.add(L),O=Y(O,I)}return new Z(P,O)}i.A=function(O){return ce(this,O).h},i.and=function(O){for(var w=Math.max(this.g.length,O.g.length),R=[],x=0;x<w;x++)R[x]=this.i(x)&O.i(x);return new h(R,this.h&O.h)},i.or=function(O){for(var w=Math.max(this.g.length,O.g.length),R=[],x=0;x<w;x++)R[x]=this.i(x)|O.i(x);return new h(R,this.h|O.h)},i.xor=function(O){for(var w=Math.max(this.g.length,O.g.length),R=[],x=0;x<w;x++)R[x]=this.i(x)^O.i(x);return new h(R,this.h^O.h)};function ue(O){for(var w=O.g.length+1,R=[],x=0;x<w;x++)R[x]=O.i(x)<<1|O.i(x-1)>>>31;return new h(R,O.h)}function Te(O,w){var R=w>>5;w%=32;for(var x=O.g.length-R,P=[],L=0;L<x;L++)P[L]=0<w?O.i(L+R)>>>w|O.i(L+R+1)<<32-w:O.i(L+R);return new h(P,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,FT=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=p,h.fromString=v,Yr=h}).apply(typeof Tv<"u"?Tv:typeof self<"u"?self:typeof window<"u"?window:{});var Wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var GT,ql,KT,hh,$m,QT,YT,$T;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wc=="object"&&Wc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var z=c[S];if(!(z in _))break e;_=_[z]}c=c[c.length-1],S=_[c],y=y(S),y!=S&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,S=!1,z={next:function(){if(!S&&_<c.length){var K=_++;return{value:y(K,c[K]),done:!1}}return S=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function g(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function A(c,y,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,S),c.apply(y,z)}}return function(){return c.apply(y,arguments)}}function b(c,y,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:A,b.apply(null,arguments)}function U(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function D(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,z,K){for(var ae=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)ae[Ue-2]=arguments[Ue];return y.prototype[z].apply(S,ae)}}function j(c){const y=c.length;if(0<y){const _=Array(y);for(let S=0;S<y;S++)_[S]=c[S];return _}return[]}function V(c,y){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(g(S)){const z=c.length||0,K=S.length||0;c.length=z+K;for(let ae=0;ae<K;ae++)c[z+ae]=S[ae]}else c.push(S)}}class Y{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function re(c){return/^[\s\xa0]*$/.test(c)}function Z(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ce(c){return ce[" "](c),c}ce[" "]=function(){};var ue=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function Te(c,y,_){for(const S in c)y.call(_,c[S],S,c)}function O(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function w(c){const y={};for(const _ in c)y[_]=c[_];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(c,y){let _,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(_ in S)c[_]=S[_];for(let K=0;K<R.length;K++)_=R[K],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function P(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function L(c){m.setTimeout(()=>{throw c},0)}function I(){var c=ke;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class rt{constructor(){this.h=this.g=null}add(y,_){const S=st.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var st=new Y(()=>new Q,c=>c.reset());class Q{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let le,de=!1,ke=new rt,N=()=>{const c=m.Promise.resolve(void 0);le=()=>{c.then(te)}};var te=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(_){L(_)}var y=st;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}de=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var pe=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c})();function Ie(c,y){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ue){e:{try{ce(y.nodeName);var z=!0;break e}catch{}z=!1}z||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:be[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ie.aa.h.call(this)}}D(Ie,se);var be={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var xt="closure_listenable_"+(1e6*Math.random()|0),et=0;function Xn(c,y,_,S,z){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=z,this.key=++et,this.da=this.fa=!1}function cr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ci(c){this.src=c,this.g={},this.h=0}Ci.prototype.add=function(c,y,_,S,z){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var ae=rs(c,y,S,z);return-1<ae?(y=c[ae],_||(y.fa=!1)):(y=new Xn(y,this.src,K,!!S,z),y.fa=_,c.push(y)),y};function is(c,y){var _=y.type;if(_ in c.g){var S=c.g[_],z=Array.prototype.indexOf.call(S,y,void 0),K;(K=0<=z)&&Array.prototype.splice.call(S,z,1),K&&(cr(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function rs(c,y,_,S){for(var z=0;z<c.length;++z){var K=c[z];if(!K.da&&K.listener==y&&K.capture==!!_&&K.ha==S)return z}return-1}var ss="closure_lm_"+(1e6*Math.random()|0),Do={};function Ru(c,y,_,S,z){if(Array.isArray(y)){for(var K=0;K<y.length;K++)Ru(c,y[K],_,S,z);return null}return _=Cu(_),c&&c[xt]?c.K(y,_,p(S)?!!S.capture:!1,z):Sn(c,y,_,!1,S,z)}function Sn(c,y,_,S,z,K){if(!y)throw Error("Invalid event type");var ae=p(z)?!!z.capture:!!z,Ue=oa(c);if(Ue||(c[ss]=Ue=new Ci(c)),_=Ue.add(y,_,S,ae,K),_.proxy)return _;if(S=gf(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)pe||(z=ae),z===void 0&&(z=!1),c.addEventListener(y.toString(),S,z);else if(c.attachEvent)c.attachEvent(as(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function gf(){function c(_){return y.call(c.src,c.listener,_)}const y=yf;return c}function No(c,y,_,S,z){if(Array.isArray(y))for(var K=0;K<y.length;K++)No(c,y[K],_,S,z);else S=p(S)?!!S.capture:!!S,_=Cu(_),c&&c[xt]?(c=c.i,y=String(y).toString(),y in c.g&&(K=c.g[y],_=rs(K,_,S,z),-1<_&&(cr(K[_]),Array.prototype.splice.call(K,_,1),K.length==0&&(delete c.g[y],c.h--)))):c&&(c=oa(c))&&(y=c.g[y.toString()],c=-1,y&&(c=rs(y,_,S,z)),(_=-1<c?y[c]:null)&&aa(_))}function aa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[xt])is(y.i,c);else{var _=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(_,S,c.capture):y.detachEvent?y.detachEvent(as(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=oa(y))?(is(_,c),_.h==0&&(_.src=null,y[ss]=null)):cr(c)}}}function as(c){return c in Do?Do[c]:Do[c]="on"+c}function yf(c,y){if(c.da)c=!0;else{y=new Ie(y,this);var _=c.listener,S=c.ha||c.src;c.fa&&aa(c),c=_.call(S,y)}return c}function oa(c){return c=c[ss],c instanceof Ci?c:null}var Oo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cu(c){return typeof c=="function"?c:(c[Oo]||(c[Oo]=function(y){return c.handleEvent(y)}),c[Oo])}function ht(){oe.call(this),this.i=new Ci(this),this.M=this,this.F=null}D(ht,oe),ht.prototype[xt]=!0,ht.prototype.removeEventListener=function(c,y,_,S){No(this,c,y,_,S)};function Ke(c,y){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new se(y,c);else if(y instanceof se)y.target=y.target||c;else{var z=y;y=new se(S,c),x(y,z)}if(z=!0,_)for(var K=_.length-1;0<=K;K--){var ae=y.g=_[K];z=mn(ae,S,!0,y)&&z}if(ae=y.g=c,z=mn(ae,S,!0,y)&&z,z=mn(ae,S,!1,y)&&z,_)for(K=0;K<_.length;K++)ae=y.g=_[K],z=mn(ae,S,!1,y)&&z}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],S=0;S<_.length;S++)cr(_[S]);delete c.g[y],c.h--}}this.F=null},ht.prototype.K=function(c,y,_,S){return this.i.add(String(c),y,!1,_,S)},ht.prototype.L=function(c,y,_,S){return this.i.add(String(c),y,!0,_,S)};function mn(c,y,_,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,K=0;K<y.length;++K){var ae=y[K];if(ae&&!ae.da&&ae.capture==_){var Ue=ae.listener,Ct=ae.ha||ae.src;ae.fa&&is(c.i,ae),z=Ue.call(Ct,S)!==!1&&z}}return z&&!S.defaultPrevented}function Yt(c,y,_){if(typeof c=="function")_&&(c=b(c,_));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Iu(c){c.g=Yt(()=>{c.g=null,c.i&&(c.i=!1,Iu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class _f extends oe{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Iu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function os(c){oe.call(this),this.h=c,this.g={}}D(os,oe);var ls=[];function us(c){Te(c.g,function(y,_){this.g.hasOwnProperty(_)&&aa(y)},c),c.g={}}os.prototype.N=function(){os.aa.N.call(this),us(this)},os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Un=m.JSON.stringify,la=m.JSON.parse,cs=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Mo(){}Mo.prototype.h=null;function xo(c){return c.h||(c.h=c.i())}function Vo(){}var Ii={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Di(){se.call(this,"d")}D(Di,se);function Po(){se.call(this,"c")}D(Po,se);var Jn={},Lo=null;function hr(){return Lo=Lo||new ht}Jn.La="serverreachability";function ua(c){se.call(this,Jn.La,c)}D(ua,se);function fr(c){const y=hr();Ke(y,new ua(y))}Jn.STAT_EVENT="statevent";function Du(c,y){se.call(this,Jn.STAT_EVENT,c),this.stat=y}D(Du,se);function at(c){const y=hr();Ke(y,new Du(y,c))}Jn.Ma="timingevent";function Rt(c,y){se.call(this,Jn.Ma,c),this.size=y}D(Rt,se);function vt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function bn(){this.g=!0}bn.prototype.xa=function(){this.g=!1};function ko(c,y,_,S,z,K){c.info(function(){if(c.g)if(K)for(var ae="",Ue=K.split("&"),Ct=0;Ct<Ue.length;Ct++){var ze=Ue[Ct].split("=");if(1<ze.length){var Pt=ze[0];ze=ze[1];var It=Pt.split("_");ae=2<=It.length&&It[1]=="type"?ae+(Pt+"="+ze+"&"):ae+(Pt+"=redacted&")}}else ae=null;else ae=K;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+y+`
`+_+`
`+ae})}function vf(c,y,_,S,z,K,ae){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+y+`
`+_+`
`+K+" "+ae})}function dr(c,y,_,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+hs(c,_)+(S?" "+S:"")})}function Nu(c,y){c.info(function(){return"TIMEOUT: "+y})}bn.prototype.info=function(){};function hs(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var z=S[1];if(Array.isArray(z)&&!(1>z.length)){var K=z[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ae=1;ae<z.length;ae++)z[ae]=""}}}}return Un(_)}catch{return y}}var mr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ni={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wn;function Zn(){}D(Zn,Mo),Zn.prototype.g=function(){return new XMLHttpRequest},Zn.prototype.i=function(){return{}},Wn=new Zn;function nn(c,y,_,S){this.j=c,this.i=y,this.l=_,this.R=S||1,this.U=new os(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mt}function mt(){this.i=null,this.g="",this.h=!1}var Uo={},ca={};function zn(c,y,_){c.L=1,c.v=gs(pn(y)),c.m=_,c.P=!0,Oi(c,null)}function Oi(c,y){c.F=Date.now(),fs(c),c.A=pn(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Fo(_.i,"t",S),c.C=0,_=c.j.J,c.h=new mt,c.g=Ku(c.j,_?y:null,!c.m),0<c.O&&(c.M=new _f(b(c.Y,c,c.g),c.O)),y=c.U,_=c.g,S=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(ls[0]=z.toString()),z=ls);for(var K=0;K<z.length;K++){var ae=Ru(_,z[K],S||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),fr(),ko(c.i,c.u,c.A,c.l,c.R,c.m)}nn.prototype.ca=function(c){c=c.target;const y=this.M;y&&In(c)==3?y.j():this.Y(c)},nn.prototype.Y=function(c){try{if(c==this.g)e:{const It=In(this.g);var y=this.g.Ba();const zi=this.g.Z();if(!(3>It)&&(It!=3||this.g&&(this.h.h||this.g.oa()||Uu(this.g)))){this.J||It!=4||y==7||(y==8||0>=zi?fr(3):fr(2)),pr(this);var _=this.g.Z();this.X=_;t:if(Ou(this)){var S=Uu(this.g);c="";var z=S.length,K=In(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bt(this),ei(this);var ae="";break t}this.h.i=new m.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(K&&y==z-1)});S.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=_==200,vf(this.i,this.u,this.A,this.l,this.R,It,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,Ct=this.g;if((Ue=Ct.g?Ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!re(Ue)){var ze=Ue;break t}}ze=null}if(_=ze)dr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ds(this,_);else{this.o=!1,this.s=3,at(12),Bt(this),ei(this);break e}}if(this.P){_=!0;let jt;for(;!this.J&&this.C<ae.length;)if(jt=Mu(this,ae),jt==ca){It==4&&(this.s=4,at(14),_=!1),dr(this.i,this.l,null,"[Incomplete Response]");break}else if(jt==Uo){this.s=4,at(15),dr(this.i,this.l,ae,"[Invalid Chunk]"),_=!1;break}else dr(this.i,this.l,jt,null),ds(this,jt);if(Ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||ae.length!=0||this.h.h||(this.s=1,at(16),_=!1),this.o=this.o&&_,!_)dr(this.i,this.l,ae,"[Invalid Chunked Response]"),Bt(this),ei(this);else if(0<ae.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),bs(Pt),Pt.M=!0,at(11))}}else dr(this.i,this.l,ae,null),ds(this,ae);It==4&&Bt(this),this.o&&!this.J&&(It==4?Hu(this.j,this):(this.o=!1,fs(this)))}else bf(this.g),_==400&&0<ae.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),Bt(this),ei(this)}}}catch{}finally{}};function Ou(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Mu(c,y){var _=c.C,S=y.indexOf(`
`,_);return S==-1?ca:(_=Number(y.substring(_,S)),isNaN(_)?Uo:(S+=1,S+_>y.length?ca:(y=y.slice(S,S+_),c.C=S+_,y)))}nn.prototype.cancel=function(){this.J=!0,Bt(this)};function fs(c){c.S=Date.now()+c.I,xu(c,c.I)}function xu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=vt(b(c.ba,c),y)}function pr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}nn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Nu(this.i,this.A),this.L!=2&&(fr(),at(17)),Bt(this),this.s=2,ei(this)):xu(this,this.S-c)};function ei(c){c.j.G==0||c.J||Hu(c.j,c)}function Bt(c){pr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,us(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function ds(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||zo(_.h,c))){if(!c.K&&zo(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Aa(_),Ea(_);else break e;$o(_),at(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=vt(b(_.Za,_),6e3));if(1>=fa(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ui(_,11)}else if((c.K||_.g==c)&&Aa(_),!re(y))for(z=_.Da.g.parse(y),y=0;y<z.length;y++){let ze=z[y];if(_.T=ze[0],ze=ze[1],_.G==2)if(ze[0]=="c"){_.K=ze[1],_.ia=ze[2];const Pt=ze[3];Pt!=null&&(_.la=Pt,_.j.info("VER="+_.la));const It=ze[4];It!=null&&(_.Aa=It,_.j.info("SVER="+_.Aa));const zi=ze[5];zi!=null&&typeof zi=="number"&&0<zi&&(S=1.5*zi,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const jt=c.g;if(jt){const oi=jt.g?jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oi){var K=S.h;K.g||oi.indexOf("spdy")==-1&&oi.indexOf("quic")==-1&&oi.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(da(K,K.h),K.h=null))}if(S.D){const Jo=jt.g?jt.g.getResponseHeader("X-HTTP-Session-Id"):null;Jo&&(S.ya=Jo,$e(S.I,S.D,Jo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var ae=c;if(S.qa=Gu(S,S.J?S.ia:null,S.W),ae.K){rn(S.h,ae);var Ue=ae,Ct=S.L;Ct&&(Ue.I=Ct),Ue.B&&(pr(Ue),fs(Ue)),S.g=ae}else ju(S);0<_.i.length&&Ta(_)}else ze[0]!="stop"&&ze[0]!="close"||Ui(_,7);else _.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?Ui(_,7):Qo(_):ze[0]!="noop"&&_.l&&_.l.ta(ze),_.v=0)}}fr(4)}catch{}}var Vu=class{constructor(c,y){this.g=c,this.map=y}};function Mi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ha(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function fa(c){return c.h?1:c.g?c.g.size:0}function zo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function da(c,y){c.g?c.g.add(y):c.h=y}function rn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Mi.prototype.cancel=function(){if(this.i=Bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Bo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return j(c.i)}function Ef(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var y=[],_=c.length,S=0;S<_;S++)y.push(c[S]);return y}y=[],_=0;for(S in c)y[_++]=c[S];return y}function ma(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const S in c)y[_++]=S;return y}}}function jo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=ma(c),S=Ef(c),z=S.length,K=0;K<z;K++)y.call(void 0,S[K],_&&_[K],c)}var ms=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),z=null;if(0<=S){var K=c[_].substring(0,S);z=c[_].substring(S+1)}else K=c[_];y(K,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Et(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Et){this.h=c.h,ps(this,c.j),this.o=c.o,this.g=c.g,gr(this,c.s),this.l=c.l;var y=c.i,_=new Vi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),xi(this,_),this.m=c.m}else c&&(y=String(c).match(ms))?(this.h=!1,ps(this,y[1]||"",!0),this.o=wn(y[2]||""),this.g=wn(y[3]||"",!0),gr(this,y[4]),this.l=wn(y[5]||"",!0),xi(this,y[6]||"",!0),this.m=wn(y[7]||"")):(this.h=!1,this.i=new Vi(null,this.h))}Et.prototype.toString=function(){var c=[],y=this.j;y&&c.push(ys(y,qo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(ys(y,qo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(ys(_,_.charAt(0)=="/"?Af:Ho,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",ys(_,pa)),c.join("")};function pn(c){return new Et(c)}function ps(c,y,_){c.j=_?wn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function gr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function xi(c,y,_){y instanceof Vi?(c.i=y,Lu(c.i,c.h)):(_||(y=ys(y,Sf)),c.i=new Vi(y,c.h))}function $e(c,y,_){c.i.set(y,_)}function gs(c){return $e(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function wn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ys(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Pu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Pu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var qo=/[#\/\?@]/g,Ho=/[#\?:]/g,Af=/[#\?]/g,Sf=/[#\?@]/g,pa=/#/g;function Vi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Rn(c){c.g||(c.g=new Map,c.h=0,c.i&&Tf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=Vi.prototype,i.add=function(c,y){Rn(this),this.i=null,c=ti(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Pi(c,y){Rn(c),y=ti(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Li(c,y){return Rn(c),y=ti(c,y),c.g.has(y)}i.forEach=function(c,y){Rn(this),this.g.forEach(function(_,S){_.forEach(function(z){c.call(y,z,S,this)},this)},this)},i.na=function(){Rn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let S=0;S<y.length;S++){const z=c[S];for(let K=0;K<z.length;K++)_.push(y[S])}return _},i.V=function(c){Rn(this);let y=[];if(typeof c=="string")Li(this,c)&&(y=y.concat(this.g.get(ti(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return Rn(this),this.i=null,c=ti(this,c),Li(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Fo(c,y,_){Pi(c,y),0<_.length&&(c.i=null,c.g.set(ti(c,y),j(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var S=y[_];const K=encodeURIComponent(String(S)),ae=this.V(S);for(S=0;S<ae.length;S++){var z=K;ae[S]!==""&&(z+="="+encodeURIComponent(String(ae[S]))),c.push(z)}}return this.i=c.join("&")};function ti(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Lu(c,y){y&&!c.j&&(Rn(c),c.i=null,c.g.forEach(function(_,S){var z=S.toLowerCase();S!=z&&(Pi(this,S),Fo(this,z,_))},c)),c.j=y}function _s(c,y){const _=new bn;if(m.Image){const S=new Image;S.onload=U(Cn,_,"TestLoadImage: loaded",!0,y,S),S.onerror=U(Cn,_,"TestLoadImage: error",!1,y,S),S.onabort=U(Cn,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=U(Cn,_,"TestLoadImage: timeout",!1,y,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function Bn(c,y){const _=new bn,S=new AbortController,z=setTimeout(()=>{S.abort(),Cn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(K=>{clearTimeout(z),K.ok?Cn(_,"TestPingServer: ok",!0,y):Cn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Cn(_,"TestPingServer: error",!1,y)})}function Cn(c,y,_,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(_)}catch{}}function vs(){this.g=new cs}function ni(c,y,_){const S=_||"";try{jo(c,function(z,K){let ae=z;p(z)&&(ae=Un(z)),y.push(S+K+"="+encodeURIComponent(ae))})}catch(z){throw y.push(S+"type="+encodeURIComponent("_badmap")),z}}function yr(c){this.l=c.Ub||null,this.j=c.eb||!1}D(yr,Mo),yr.prototype.g=function(){return new ki(this.l,this.j)},yr.prototype.i=(function(c){return function(){return c}})({});function ki(c,y){ht.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(ki,ht),i=ki.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ri(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ii(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Go(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Go(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ii(this):ri(this),this.readyState==3&&Go(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,ii(this))},i.Qa=function(c){this.g&&(this.response=c,ii(this))},i.ga=function(){this.g&&ii(this)};function ii(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ri(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function ri(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ki.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ko(c){let y="";return Te(c,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function Vt(c,y,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Ko(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):$e(c,y,_))}function Fe(c){ht.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(Fe,ht);var ga=/^https?$/i,Es=["POST","PUT"];i=Fe.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wn.g(),this.v=this.o?xo(this.o):xo(Wn),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){ku(this,K);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)_.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())_.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),z=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Es,y,void 0))||S||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ae]of _)this.g.setRequestHeader(K,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ts(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){ku(this,K)}};function ku(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ya(c),si(c)}function ya(c){c.A||(c.A=!0,Ke(c,"complete"),Ke(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ke(this,"complete"),Ke(this,"abort"),si(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),si(this,!0)),Fe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?_a(this):this.bb())},i.bb=function(){_a(this)};function _a(c){if(c.h&&typeof h<"u"&&(!c.v[1]||In(c)!=4||c.Z()!=2)){if(c.u&&In(c)==4)Yt(c.Ea,0,c);else if(Ke(c,"readystatechange"),In(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var S;if(S=ae===0){var z=String(c.D).match(ms)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),S=!ga.test(z?z.toLowerCase():"")}_=S}if(_)Ke(c,"complete"),Ke(c,"success");else{c.m=6;try{var K=2<In(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",ya(c)}}finally{si(c)}}}}function si(c,y){if(c.g){Ts(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ke(c,"ready");try{_.onreadystatechange=S}catch{}}}function Ts(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function In(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<In(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),la(y)}};function Uu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function bf(c){const y={};c=(c.g&&2<=In(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(re(c[S]))continue;var _=P(c[S]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=y[z]||[];y[z]=K,K.push(_)}O(y,function(S){return S.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function As(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function va(c){this.Aa=0,this.i=[],this.j=new bn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=As("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=As("baseRetryDelayMs",5e3,c),this.cb=As("retryDelaySeedMs",1e4,c),this.Wa=As("forwardChannelMaxRetries",2,c),this.wa=As("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Mi(c&&c.concurrentRequestLimit),this.Da=new vs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=va.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,S){at(0),this.W=c,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Gu(this,null,this.W),Ta(this)};function Qo(c){if(zu(c),c.G==3){var y=c.U++,_=pn(c.I);if($e(_,"SID",c.K),$e(_,"RID",y),$e(_,"TYPE","terminate"),Ss(c,_),y=new nn(c,c.j,y),y.L=2,y.v=gs(pn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Ku(y.j,null),y.g.ea(y.v)),y.F=Date.now(),fs(y)}Fu(c)}function Ea(c){c.g&&(bs(c),c.g.cancel(),c.g=null)}function zu(c){Ea(c),c.u&&(m.clearTimeout(c.u),c.u=null),Aa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ta(c){if(!ha(c.h)&&!c.s){c.s=!0;var y=c.Ga;le||N(),de||(le(),de=!0),ke.add(y,c),c.B=0}}function wf(c,y){return fa(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=vt(b(c.Ga,c,y),Xo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new nn(this,this.j,c);let K=this.o;if(this.S&&(K?(K=w(K),x(K,this.S)):K=this.S),this.m!==null||this.O||(z.H=K,K=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Bu(this,z,y),_=pn(this.I),$e(_,"RID",c),$e(_,"CVER",22),this.D&&$e(_,"X-HTTP-Session-Id",this.D),Ss(this,_),K&&(this.O?y="headers="+encodeURIComponent(String(Ko(K)))+"&"+y:this.m&&Vt(_,this.m,K)),da(this.h,z),this.Ua&&$e(_,"TYPE","init"),this.P?($e(_,"$req",y),$e(_,"SID","null"),z.T=!0,zn(z,_,null)):zn(z,_,y),this.G=2}}else this.G==3&&(c?Yo(this,c):this.i.length==0||ha(this.h)||Yo(this))};function Yo(c,y){var _;y?_=y.l:_=c.U++;const S=pn(c.I);$e(S,"SID",c.K),$e(S,"RID",_),$e(S,"AID",c.T),Ss(c,S),c.m&&c.o&&Vt(S,c.m,c.o),_=new nn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Bu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),da(c.h,_),zn(_,S,y)}function Ss(c,y){c.H&&Te(c.H,function(_,S){$e(y,S,_)}),c.l&&jo({},function(_,S){$e(y,S,_)})}function Bu(c,y,_){_=Math.min(c.i.length,_);var S=c.l?b(c.l.Na,c.l,c):null;e:{var z=c.i;let K=-1;for(;;){const ae=["count="+_];K==-1?0<_?(K=z[0].g,ae.push("ofs="+K)):K=0:ae.push("ofs="+K);let Ue=!0;for(let Ct=0;Ct<_;Ct++){let ze=z[Ct].g;const Pt=z[Ct].map;if(ze-=K,0>ze)K=Math.max(0,z[Ct].g-100),Ue=!1;else try{ni(Pt,ae,"req"+ze+"_")}catch{S&&S(Pt)}}if(Ue){S=ae.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,S}function ju(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;le||N(),de||(le(),de=!0),ke.add(y,c),c.v=0}}function $o(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=vt(b(c.Fa,c),Xo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,qu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=vt(b(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),Ea(this),qu(this))};function bs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function qu(c){c.g=new nn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=pn(c.qa);$e(y,"RID","rpc"),$e(y,"SID",c.K),$e(y,"AID",c.T),$e(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&$e(y,"TO",c.ja),$e(y,"TYPE","xmlhttp"),Ss(c,y),c.m&&c.o&&Vt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=gs(pn(y)),_.m=null,_.P=!0,Oi(_,c)}i.Za=function(){this.C!=null&&(this.C=null,Ea(this),$o(this),at(19))};function Aa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Hu(c,y){var _=null;if(c.g==y){Aa(c),bs(c),c.g=null;var S=2}else if(zo(c.h,y))_=y.D,rn(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var z=c.B;S=hr(),Ke(S,new Rt(S,_)),Ta(c)}else ju(c);else if(z=y.s,z==3||z==0&&0<y.X||!(S==1&&wf(c,y)||S==2&&$o(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),z){case 1:Ui(c,5);break;case 4:Ui(c,10);break;case 3:Ui(c,6);break;default:Ui(c,2)}}}function Xo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Ui(c,y){if(c.j.info("Error code "+y),y==2){var _=b(c.fb,c),S=c.Xa;const z=!S;S=new Et(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ps(S,"https"),gs(S),z?_s(S.toString(),_):Bn(S.toString(),_)}else at(2);c.G=0,c.l&&c.l.sa(y),Fu(c),zu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function Fu(c){if(c.G=0,c.ka=[],c.l){const y=Bo(c.h);(y.length!=0||c.i.length!=0)&&(V(c.ka,y),V(c.ka,c.i),c.h.i.length=0,j(c.i),c.i.length=0),c.l.ra()}}function Gu(c,y,_){var S=_ instanceof Et?pn(_):new Et(_);if(S.g!="")y&&(S.g=y+"."+S.g),gr(S,S.s);else{var z=m.location;S=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var K=new Et(null);S&&ps(K,S),y&&(K.g=y),z&&gr(K,z),_&&(K.l=_),S=K}return _=c.D,y=c.ya,_&&y&&$e(S,_,y),$e(S,"VER",c.la),Ss(c,S),S}function Ku(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Fe(new yr({eb:_})):new Fe(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qu(){}i=Qu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Sa(){}Sa.prototype.g=function(c,y){return new sn(c,y)};function sn(c,y){ht.call(this),this.g=new va(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!re(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!re(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ai(this)}D(sn,ht),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Qo(this.g)},sn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Un(c),c=_);y.i.push(new Vu(y.Ya++,c)),y.G==3&&Ta(y)},sn.prototype.N=function(){this.g.l=null,delete this.j,Qo(this.g),delete this.g,sn.aa.N.call(this)};function Yu(c){Di.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}D(Yu,Di);function $u(){Po.call(this),this.status=1}D($u,Po);function ai(c){this.g=c}D(ai,Qu),ai.prototype.ua=function(){Ke(this.g,"a")},ai.prototype.ta=function(c){Ke(this.g,new Yu(c))},ai.prototype.sa=function(c){Ke(this.g,new $u)},ai.prototype.ra=function(){Ke(this.g,"b")},Sa.prototype.createWebChannel=Sa.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,$T=function(){return new Sa},YT=function(){return hr()},QT=Jn,$m={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},mr.NO_ERROR=0,mr.TIMEOUT=8,mr.HTTP_ERROR=6,hh=mr,Ni.COMPLETE="complete",KT=Ni,Vo.EventType=Ii,Ii.OPEN="a",Ii.CLOSE="b",Ii.ERROR="c",Ii.MESSAGE="d",ht.prototype.listen=ht.prototype.K,ql=Vo,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,GT=Fe}).apply(typeof Wc<"u"?Wc:typeof self<"u"?self:typeof window<"u"?window:{});const Av="@firebase/firestore",Sv="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ao="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=new bp("@firebase/firestore");function Wa(){return Js.logLevel}function fe(i,...e){if(Js.logLevel<=Ve.DEBUG){const n=e.map(kp);Js.debug(`Firestore (${Ao}): ${i}`,...n)}}function or(i,...e){if(Js.logLevel<=Ve.ERROR){const n=e.map(kp);Js.error(`Firestore (${Ao}): ${i}`,...n)}}function uo(i,...e){if(Js.logLevel<=Ve.WARN){const n=e.map(kp);Js.warn(`Firestore (${Ao}): ${i}`,...n)}}function kp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,XT(i,s,n)}function XT(i,e,n){let s=`FIRESTORE (${Ao}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw or(s),new Error(s)}function Ge(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||XT(e,o,s)}function Re(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends ur{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Wt.UNAUTHENTICATED)))}shutdown(){}}class GI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class KI{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new ir;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ir,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ir)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new JT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class QI{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class YI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new QI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Wt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class bv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $I{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const s=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new bv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new bv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=XI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Pe(i,e){return i<e?-1:i>e?1:0}function Xm(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return Om(o)===Om(u)?Pe(o,u):Om(o)?1:-1}return Pe(i.length,e.length)}const JI=55296,WI=57343;function Om(i){const e=i.charCodeAt(0);return e>=JI&&e<=WI}function co(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="__name__";class mi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return mi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof mi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=mi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Pe(e.length,n.length)}static compareSegments(e,n){const s=mi.isNumericId(e),o=mi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?mi.extractNumericId(e).compare(mi.extractNumericId(n)):Xm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Yr.fromString(e.substring(4,e.length-2))}}class nt extends mi{construct(e,n,s){return new nt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new nt(n)}static emptyPath(){return new nt([])}}const ZI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends mi{construct(e,n,s){return new Kt(e,n,s)}static isValidIdentifier(e){return ZI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wv}static keyField(){return new Kt([wv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new he(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new he(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new he(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(nt.fromString(e))}static fromName(e){return new ye(nt.fromString(e).popFirst(5))}static empty(){return new ye(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new nt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(i,e,n){if(!n)throw new he(ee.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function e4(i,e,n,s){if(e===!0&&s===!0)throw new he(ee.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Rv(i){if(!ye.isDocumentKey(i))throw new he(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Cv(i){if(ye.isDocumentKey(i))throw new he(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function ZT(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function $h(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ee(12329,{type:typeof i})}function Ws(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new he(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$h(i);throw new he(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(i,e){const n={typeString:i};return e&&(n.value=e),n}function gu(i,e){if(!ZT(i))throw new he(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new he(ee.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv=-62135596800,Dv=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Dv);return new it(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Iv)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Dv}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gu(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Iv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:wt("string",it._jsonSchemaVersion),seconds:wt("number"),nanoseconds:wt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new it(0,0))}static max(){return new we(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu=-1;function t4(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new it(n+1,0):new it(n,s));return new Xr(o,ye.empty(),e)}function n4(i){return new Xr(i.readTime,i.key,tu)}class Xr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Xr(we.min(),ye.empty(),tu)}static max(){return new Xr(we.max(),ye.empty(),tu)}}function i4(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(i.documentKey,e.documentKey),n!==0?n:Pe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class s4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(i){if(i.code!==ee.FAILED_PRECONDITION||i.message!==r4)throw i;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,s)=>{n(e)}))}static reject(e){return new ie(((n,s)=>{s(e)}))}static waitFor(e){return new ie(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(g=>s(g)))})),h=!0,u===o&&n()}))}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next((o=>o?ie.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ie(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;n(e[p]).next((v=>{h[p]=v,++m,m===u&&s(h)}),(v=>o(v)))}}))}static doWhile(e,n){return new ie(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function a4(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Xh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp=-1;function Jh(i){return i==null}function Dh(i){return i===0&&1/i==-1/0}function o4(i){return typeof i=="number"&&Number.isInteger(i)&&!Dh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="";function l4(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Nv(e)),e=u4(i.get(n),e);return Nv(e)}function u4(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case e1:n+="";break;default:n+=u}}return n}function Nv(i){return i+e1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function ta(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function t1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zc(this.root,e,this.comparator,!0)}}class Zc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Gt.RED,this.left=o??Gt.EMPTY,this.right=u??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Gt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Mv(this.data.getIterator())}getIteratorFrom(e){return new Mv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class Mv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Kn([])}unionWith(e){let n=new Mt(Kt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Kn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return co(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new n1("Invalid base64 string: "+u):u}})(e);return new Qt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const c4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jr(i){if(Ge(!!i,39018),typeof i=="string"){let e=0;const n=c4.exec(i);if(Ge(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:yt(i.seconds),nanos:yt(i.nanos)}}function yt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Wr(i){return typeof i=="string"?Qt.fromBase64String(i):Qt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1="server_timestamp",r1="__type__",s1="__previous_value__",a1="__local_write_time__";function Bp(i){return(i?.mapValue?.fields||{})[r1]?.stringValue===i1}function Wh(i){const e=i.mapValue.fields[s1];return Bp(e)?Wh(e):e}function nu(i){const e=Jr(i.mapValue.fields[a1].timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e,n,s,o,u,h,m,g,p,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=v}}const Nh="(default)";class iu{constructor(e,n){this.projectId=e,this.database=n||Nh}static empty(){return new iu("","")}get isDefaultDatabase(){return this.database===Nh}isEqual(e){return e instanceof iu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="__type__",f4="__max__",eh={mapValue:{}},l1="__vector__",Oh="value";function Zr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Bp(i)?4:m4(i)?9007199254740991:d4(i)?10:11:Ee(28295,{value:i})}function Si(i,e){if(i===e)return!0;const n=Zr(i);if(n!==Zr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return nu(i).isEqual(nu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Jr(o.timestampValue),m=Jr(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return Wr(o.bytesValue).isEqual(Wr(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return yt(o.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return yt(o.integerValue)===yt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=yt(o.doubleValue),m=yt(u.doubleValue);return h===m?Dh(h)===Dh(m):isNaN(h)&&isNaN(m)}return!1})(i,e);case 9:return co(i.arrayValue.values||[],e.arrayValue.values||[],Si);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Ov(h)!==Ov(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!Si(h[g],m[g])))return!1;return!0})(i,e);default:return Ee(52216,{left:i})}}function ru(i,e){return(i.values||[]).find((n=>Si(n,e)))!==void 0}function ho(i,e){if(i===e)return 0;const n=Zr(i),s=Zr(e);if(n!==s)return Pe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(i.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=yt(u.integerValue||u.doubleValue),g=yt(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(i,e);case 3:return xv(i.timestampValue,e.timestampValue);case 4:return xv(nu(i),nu(e));case 5:return Xm(i.stringValue,e.stringValue);case 6:return(function(u,h){const m=Wr(u),g=Wr(h);return m.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),g=h.split("/");for(let p=0;p<m.length&&p<g.length;p++){const v=Pe(m[p],g[p]);if(v!==0)return v}return Pe(m.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Pe(yt(u.latitude),yt(h.latitude));return m!==0?m:Pe(yt(u.longitude),yt(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return Vv(i.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},g=h.fields||{},p=m[Oh]?.arrayValue,v=g[Oh]?.arrayValue,A=Pe(p?.values?.length||0,v?.values?.length||0);return A!==0?A:Vv(p,v)})(i.mapValue,e.mapValue);case 11:return(function(u,h){if(u===eh.mapValue&&h===eh.mapValue)return 0;if(u===eh.mapValue)return 1;if(h===eh.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=h.fields||{},v=Object.keys(p);g.sort(),v.sort();for(let A=0;A<g.length&&A<v.length;++A){const b=Xm(g[A],v[A]);if(b!==0)return b;const U=ho(m[g[A]],p[v[A]]);if(U!==0)return U}return Pe(g.length,v.length)})(i.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function xv(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Pe(i,e);const n=Jr(i),s=Jr(e),o=Pe(n.seconds,s.seconds);return o!==0?o:Pe(n.nanos,s.nanos)}function Vv(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=ho(n[o],s[o]);if(u)return u}return Pe(n.length,s.length)}function fo(i){return Jm(i)}function Jm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=Jr(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return Wr(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return ye.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Jm(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Jm(n.fields[h])}`;return o+"}"})(i.mapValue):Ee(61005,{value:i})}function fh(i){switch(Zr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wh(i);return e?16+fh(e):16;case 5:return 2*i.stringValue.length;case 6:return Wr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+fh(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return ta(s.fields,((u,h)=>{o+=u.length+fh(h)})),o})(i.mapValue);default:throw Ee(13486,{value:i})}}function Pv(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Wm(i){return!!i&&"integerValue"in i}function jp(i){return!!i&&"arrayValue"in i}function Lv(i){return!!i&&"nullValue"in i}function kv(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function dh(i){return!!i&&"mapValue"in i}function d4(i){return(i?.mapValue?.fields||{})[o1]?.stringValue===l1}function Yl(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return ta(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Yl(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yl(i.arrayValue.values[n]);return e}return{...i}}function m4(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===f4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!dh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(n)}setAll(e){let n=Kt.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=Yl(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());dh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Si(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];dh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ta(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Ln(Yl(this.value))}}function u1(i){const e=[];return ta(i.fields,((n,s)=>{const o=new Kt([n]);if(dh(s)){const u=u1(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new Kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,we.min(),we.min(),we.min(),Ln.empty(),0)}static newFoundDocument(e,n,s,o){return new Zt(e,1,n,we.min(),s,o,0)}static newNoDocument(e,n){return new Zt(e,2,n,we.min(),we.min(),Ln.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,we.min(),we.min(),Ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n){this.position=e,this.inclusive=n}}function Uv(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(h.referenceValue),n.key):s=ho(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function zv(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Si(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n="asc"){this.field=e,this.dir=n}}function p4(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{}class bt extends c1{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new y4(e,n,s):n==="array-contains"?new E4(e,s):n==="in"?new T4(e,s):n==="not-in"?new A4(e,s):n==="array-contains-any"?new S4(e,s):new bt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new _4(e,s):new v4(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ho(n,this.value)):n!==null&&Zr(this.value)===Zr(n)&&this.matchesComparison(ho(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yn extends c1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Yn(e,n)}matches(e){return h1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function h1(i){return i.op==="and"}function f1(i){return g4(i)&&h1(i)}function g4(i){for(const e of i.filters)if(e instanceof Yn)return!1;return!0}function Zm(i){if(i instanceof bt)return i.field.canonicalString()+i.op.toString()+fo(i.value);if(f1(i))return i.filters.map((e=>Zm(e))).join(",");{const e=i.filters.map((n=>Zm(n))).join(",");return`${i.op}(${e})`}}function d1(i,e){return i instanceof bt?(function(s,o){return o instanceof bt&&s.op===o.op&&s.field.isEqual(o.field)&&Si(s.value,o.value)})(i,e):i instanceof Yn?(function(s,o){return o instanceof Yn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&d1(h,o.filters[m])),!0):!1})(i,e):void Ee(19439)}function m1(i){return i instanceof bt?(function(n){return`${n.field.canonicalString()} ${n.op} ${fo(n.value)}`})(i):i instanceof Yn?(function(n){return n.op.toString()+" {"+n.getFilters().map(m1).join(" ,")+"}"})(i):"Filter"}class y4 extends bt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class _4 extends bt{constructor(e,n){super(e,"in",n),this.keys=p1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class v4 extends bt{constructor(e,n){super(e,"not-in",n),this.keys=p1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function p1(i,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class E4 extends bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jp(n)&&ru(n.arrayValue,this.value)}}class T4 extends bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ru(this.value.arrayValue,n)}}class A4 extends bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ru(this.value.arrayValue,n)}}class S4 extends bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>ru(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function Bv(i,e=null,n=[],s=[],o=null,u=null,h=null){return new b4(i,e,n,s,o,u,h)}function qp(i){const e=Re(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Zm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Jh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>fo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>fo(s))).join(",")),e.Te=n}return e.Te}function Hp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!p4(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!d1(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!zv(i.startAt,e.startAt)&&zv(i.endAt,e.endAt)}function ep(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function w4(i,e,n,s,o,u,h,m){return new wo(i,e,n,s,o,u,h,m)}function Fp(i){return new wo(i)}function jv(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function g1(i){return i.collectionGroup!==null}function $l(i){const e=Re(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Mt(Kt.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new su(u,s))})),n.has(Kt.keyField().canonicalString())||e.Ie.push(new su(Kt.keyField(),s))}return e.Ie}function gi(i){const e=Re(i);return e.Ee||(e.Ee=R4(e,$l(i))),e.Ee}function R4(i,e){if(i.limitType==="F")return Bv(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new su(o.field,u)}));const n=i.endAt?new Mh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Mh(i.startAt.position,i.startAt.inclusive):null;return Bv(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function tp(i,e){const n=i.filters.concat([e]);return new wo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function np(i,e,n){return new wo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Zh(i,e){return Hp(gi(i),gi(e))&&i.limitType===e.limitType}function y1(i){return`${qp(gi(i))}|lt:${i.limitType}`}function Za(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>m1(o))).join(", ")}]`),Jh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>fo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>fo(o))).join(",")),`Target(${s})`})(gi(i))}; limitType=${i.limitType})`}function ef(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of $l(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,g){const p=Uv(h,m,g);return h.inclusive?p<=0:p<0})(s.startAt,$l(s),o)||s.endAt&&!(function(h,m,g){const p=Uv(h,m,g);return h.inclusive?p>=0:p>0})(s.endAt,$l(s),o))})(i,e)}function C4(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function _1(i){return(e,n)=>{let s=!1;for(const o of $l(i)){const u=I4(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function I4(i,e,n){const s=i.field.isKeyField()?ye.comparator(e.key,n.key):(function(u,h,m){const g=h.data.field(u),p=m.data.field(u);return g!==null&&p!==null?ho(g,p):Ee(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ta(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return t1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4=new ct(ye.comparator);function lr(){return D4}const v1=new ct(ye.comparator);function Hl(...i){let e=v1;for(const n of i)e=e.insert(n.key,n);return e}function E1(i){let e=v1;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function qs(){return Xl()}function T1(){return Xl()}function Xl(){return new na((i=>i.toString()),((i,e)=>i.isEqual(e)))}const N4=new ct(ye.comparator),O4=new Mt(ye.comparator);function Le(...i){let e=O4;for(const n of i)e=e.add(n);return e}const M4=new Mt(Pe);function x4(){return M4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dh(e)?"-0":e}}function A1(i){return{integerValue:""+i}}function V4(i,e){return o4(e)?A1(e):Gp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(){this._=void 0}}function P4(i,e,n){return i instanceof xh?(function(o,u){const h={fields:{[r1]:{stringValue:i1},[a1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Bp(u)&&(u=Wh(u)),u&&(h.fields[s1]=u),{mapValue:h}})(n,e):i instanceof au?b1(i,e):i instanceof ou?w1(i,e):(function(o,u){const h=S1(o,u),m=qv(h)+qv(o.Ae);return Wm(h)&&Wm(o.Ae)?A1(m):Gp(o.serializer,m)})(i,e)}function L4(i,e,n){return i instanceof au?b1(i,e):i instanceof ou?w1(i,e):n}function S1(i,e){return i instanceof Vh?(function(s){return Wm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class xh extends tf{}class au extends tf{constructor(e){super(),this.elements=e}}function b1(i,e){const n=R1(e);for(const s of i.elements)n.some((o=>Si(o,s)))||n.push(s);return{arrayValue:{values:n}}}class ou extends tf{constructor(e){super(),this.elements=e}}function w1(i,e){let n=R1(e);for(const s of i.elements)n=n.filter((o=>!Si(o,s)));return{arrayValue:{values:n}}}class Vh extends tf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function qv(i){return yt(i.integerValue||i.doubleValue)}function R1(i){return jp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function k4(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof au&&o instanceof au||s instanceof ou&&o instanceof ou?co(s.elements,o.elements,Si):s instanceof Vh&&o instanceof Vh?Si(s.Ae,o.Ae):s instanceof xh&&o instanceof xh})(i.transform,e.transform)}class U4{constructor(e,n){this.version=e,this.transformResults=n}}class yi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new yi}static exists(e){return new yi(void 0,e)}static updateTime(e){return new yi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class nf{}function C1(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Kp(i.key,yi.none()):new yu(i.key,i.data,yi.none());{const n=i.data,s=Ln.empty();let o=new Mt(Kt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new ia(i.key,s,new Kn(o.toArray()),yi.none())}}function z4(i,e,n){i instanceof yu?(function(o,u,h){const m=o.value.clone(),g=Fv(o.fieldTransforms,u,h.transformResults);m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,e,n):i instanceof ia?(function(o,u,h){if(!mh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=Fv(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(I1(o)),g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(i,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function Jl(i,e,n,s){return i instanceof yu?(function(u,h,m,g){if(!mh(u.precondition,h))return m;const p=u.value.clone(),v=Gv(u.fieldTransforms,g,h);return p.setAll(v),h.convertToFoundDocument(h.version,p).setHasLocalMutations(),null})(i,e,n,s):i instanceof ia?(function(u,h,m,g){if(!mh(u.precondition,h))return m;const p=Gv(u.fieldTransforms,g,h),v=h.data;return v.setAll(I1(u)),v.setAll(p),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((A=>A.field)))})(i,e,n,s):(function(u,h,m){return mh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,e,n)}function B4(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=S1(s.transform,o||null);u!=null&&(n===null&&(n=Ln.empty()),n.set(s.field,u))}return n||null}function Hv(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&co(s,o,((u,h)=>k4(u,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class yu extends nf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ia extends nf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function I1(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function Fv(i,e,n){const s=new Map;Ge(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,L4(h,m,n[o]))}return s}function Gv(i,e,n){const s=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);s.set(o.field,P4(u,h,e))}return s}class Kp extends nf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class j4 extends nf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&z4(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Jl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Jl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=T1();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const g=C1(h,m);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(we.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Le())}isEqual(e){return this.batchId===e.batchId&&co(this.mutations,e.mutations,((n,s)=>Hv(n,s)))&&co(this.baseMutations,e.baseMutations,((n,s)=>Hv(n,s)))}}class Qp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ge(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return N4})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Qp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,je;function G4(i){switch(i){case ee.OK:return Ee(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ee(15467,{code:i})}}function D1(i){if(i===void 0)return or("GRPC error has no .code"),ee.UNKNOWN;switch(i){case St.OK:return ee.OK;case St.CANCELLED:return ee.CANCELLED;case St.UNKNOWN:return ee.UNKNOWN;case St.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case St.INTERNAL:return ee.INTERNAL;case St.UNAVAILABLE:return ee.UNAVAILABLE;case St.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case St.NOT_FOUND:return ee.NOT_FOUND;case St.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case St.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case St.ABORTED:return ee.ABORTED;case St.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case St.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case St.DATA_LOSS:return ee.DATA_LOSS;default:return Ee(39323,{code:i})}}(je=St||(St={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4=new Yr([4294967295,4294967295],0);function Kv(i){const e=K4().encode(i),n=new FT;return n.update(e),new Uint8Array(n.digest())}function Qv(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Yr([n,s],0),new Yr([o,u],0)]}class Yp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Fl(`Invalid padding: ${n}`);if(s<0)throw new Fl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Fl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Fl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Yr.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Yr.fromNumber(s)));return o.compare(Q4)===1&&(o=new Yr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Kv(e),[s,o]=Qv(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Yp(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=Kv(e),[s,o]=Qv(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,_u.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new rf(we.min(),o,new ct(Pe),lr(),Le())}}class _u{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new _u(s,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class N1{constructor(e,n){this.targetId=e,this.Ce=n}}class O1{constructor(e,n,s=Qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Yv{constructor(){this.ve=0,this.Fe=$v(),this.Me=Qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),n=Le(),s=Le();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}})),new _u(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=$v()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Y4{constructor(e){this.Ge=e,this.ze=new Map,this.je=lr(),this.Je=th(),this.He=th(),this.Ye=new ct(Pe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(ep(u))if(s===0){const h=new ye(u.path);this.et(n,h,Zt.newNoDocument(h,we.min()))}else Ge(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),g=m?this.ct(m,e,h):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=Wr(s).toUint8Array()}catch(g){if(g instanceof n1)return uo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Yp(h,o,u)}catch(g){return uo(g instanceof Fl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&ep(m.target)){const g=new ye(m.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,Zt.newNoDocument(g,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let s=Le();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new rf(e,n,this.Ye,this.je,s);return this.je=lr(),this.Je=th(),this.He=th(),this.Ye=new ct(Pe),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Yv,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Mt(Pe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Mt(Pe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Yv),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function th(){return new ct(ye.comparator)}function $v(){return new ct(ye.comparator)}const $4={asc:"ASCENDING",desc:"DESCENDING"},X4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},J4={and:"AND",or:"OR"};class W4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ip(i,e){return i.useProto3Json||Jh(e)?e:{value:e}}function Ph(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function M1(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Z4(i,e){return Ph(i,e.toTimestamp())}function _i(i){return Ge(!!i,49232),we.fromTimestamp((function(n){const s=Jr(n);return new it(s.seconds,s.nanos)})(i))}function $p(i,e){return rp(i,e).canonicalString()}function rp(i,e){const n=(function(o){return new nt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function x1(i){const e=nt.fromString(i);return Ge(U1(e),10190,{key:e.toString()}),e}function sp(i,e){return $p(i.databaseId,e.path)}function Mm(i,e){const n=x1(e);if(n.get(1)!==i.databaseId.projectId)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ye(P1(n))}function V1(i,e){return $p(i.databaseId,e)}function eD(i){const e=x1(i);return e.length===4?nt.emptyPath():P1(e)}function ap(i){return new nt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function P1(i){return Ge(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function Xv(i,e,n){return{name:sp(i,e),fields:n.value.mapValue.fields}}function tD(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ee(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(p,v){return p.useProto3Json?(Ge(v===void 0||typeof v=="string",58123),Qt.fromBase64String(v||"")):(Ge(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Qt.fromUint8Array(v||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(p){const v=p.code===void 0?ee.UNKNOWN:D1(p.code);return new he(v,p.message||"")})(h);n=new O1(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Mm(i,s.document.name),u=_i(s.document.updateTime),h=s.document.createTime?_i(s.document.createTime):we.min(),m=new Ln({mapValue:{fields:s.document.fields}}),g=Zt.newFoundDocument(o,u,h,m),p=s.targetIds||[],v=s.removedTargetIds||[];n=new ph(p,v,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Mm(i,s.document),u=s.readTime?_i(s.readTime):we.min(),h=Zt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new ph([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Mm(i,s.document),u=s.removedTargetIds||[];n=new ph([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new F4(o,u),m=s.targetId;n=new N1(m,h)}}return n}function nD(i,e){let n;if(e instanceof yu)n={update:Xv(i,e.key,e.value)};else if(e instanceof Kp)n={delete:sp(i,e.key)};else if(e instanceof ia)n={update:Xv(i,e.key,e.data),updateMask:hD(e.fieldMask)};else{if(!(e instanceof j4))return Ee(16599,{Vt:e.type});n={verify:sp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof xh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof au)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ou)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Vh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:Z4(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(i,e.precondition)),n}function iD(i,e){return i&&i.length>0?(Ge(e!==void 0,14353),i.map((n=>(function(o,u){let h=o.updateTime?_i(o.updateTime):_i(u);return h.isEqual(we.min())&&(h=_i(u)),new U4(h,o.transformResults||[])})(n,e)))):[]}function rD(i,e){return{documents:[V1(i,e.path)]}}function sD(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=V1(i,o);const u=(function(p){if(p.length!==0)return k1(Yn.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(p){if(p.length!==0)return p.map((v=>(function(b){return{field:eo(b.field),direction:lD(b.dir)}})(v)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=ip(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function aD(i){let e=eD(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ge(s===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];n.where&&(u=(function(A){const b=L1(A);return b instanceof Yn&&f1(b)?b.getFilters():[b]})(n.where));let h=[];n.orderBy&&(h=(function(A){return A.map((b=>(function(D){return new su(to(D.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(b)))})(n.orderBy));let m=null;n.limit&&(m=(function(A){let b;return b=typeof A=="object"?A.value:A,Jh(b)?null:b})(n.limit));let g=null;n.startAt&&(g=(function(A){const b=!!A.before,U=A.values||[];return new Mh(U,b)})(n.startAt));let p=null;return n.endAt&&(p=(function(A){const b=!A.before,U=A.values||[];return new Mh(U,b)})(n.endAt)),w4(e,o,h,u,m,"F",g,p)}function oD(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function L1(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=to(n.unaryFilter.field);return bt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=to(n.unaryFilter.field);return bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=to(n.unaryFilter.field);return bt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=to(n.unaryFilter.field);return bt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(i):i.fieldFilter!==void 0?(function(n){return bt.create(to(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return Yn.create(n.compositeFilter.filters.map((s=>L1(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(i):Ee(30097,{filter:i})}function lD(i){return $4[i]}function uD(i){return X4[i]}function cD(i){return J4[i]}function eo(i){return{fieldPath:i.canonicalString()}}function to(i){return Kt.fromServerFormat(i.fieldPath)}function k1(i){return i instanceof bt?(function(n){if(n.op==="=="){if(kv(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NAN"}};if(Lv(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(kv(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NAN"}};if(Lv(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eo(n.field),op:uD(n.op),value:n.value}}})(i):i instanceof Yn?(function(n){const s=n.getFilters().map((o=>k1(o)));return s.length===1?s[0]:{compositeFilter:{op:cD(n.op),filters:s}}})(i):Ee(54877,{filter:i})}function hD(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function U1(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,n,s,o,u=we.min(),h=we.min(),m=Qt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Hr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e){this.yt=e}}function dD(i){const e=aD({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?np(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(){this.Cn=new pD}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(Xr.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(Xr.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class pD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Mt(nt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Mt(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},z1=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(z1,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new mo(0)}static cr(){return new mo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="LruGarbageCollector",gD=1048576;function Zv([i,e],[n,s]){const o=Pe(i,n);return o===0?Pe(e,s):o}class yD{constructor(e){this.Ir=e,this.buffer=new Mt(Zv),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Zv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class _D{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(Wv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){bo(n)?fe(Wv,"Ignoring IndexedDB error during garbage collection: ",n):await So(n)}await this.Vr(3e5)}))}}class vD{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(Xh.ce);const s=new yD(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(Jv)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jv):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,h,m,g,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,h=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(s=A,m=Date.now(),this.removeTargets(e,s,n)))).next((A=>(u=A,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((A=>(p=Date.now(),Wa()<=Ve.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${A} documents in `+(p-g)+`ms
Total Duration: ${p-v}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A}))))}}function ED(i,e){return new vD(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(){this.changes=new na((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Jl(s.mutation,o,Kn.empty(),it.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Le()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Le()){const o=qs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=Hl();return u.forEach(((m,g)=>{h=h.insert(m,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=qs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Le())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=lr();const h=Xl(),m=(function(){return Xl()})();return n.forEach(((g,p)=>{const v=s.get(p.key);o.has(p.key)&&(v===void 0||v.mutation instanceof ia)?u=u.insert(p.key,p):v!==void 0?(h.set(p.key,v.mutation.getFieldMask()),Jl(v.mutation,p,v.mutation.getFieldMask(),it.now())):h.set(p.key,Kn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((p,v)=>h.set(p,v))),n.forEach(((p,v)=>m.set(p,new AD(v,h.get(p)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Xl();let o=new ct(((h,m)=>h-m)),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((g=>{const p=n.get(g);if(p===null)return;let v=s.get(g)||Kn.empty();v=m.applyToLocalView(p,v),s.set(g,v);const A=(o.get(m.batchId)||Le()).add(g);o=o.insert(m.batchId,A)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,v=g.value,A=T1();v.forEach((b=>{if(!u.has(b)){const U=C1(n.get(b),s.get(b));U!==null&&A.set(b,U),u=u.add(b)}})),h.push(this.documentOverlayCache.saveOverlays(e,p,A))}return ie.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(h){return ye.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):g1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ie.resolve(qs());let m=tu,g=u;return h.next((p=>ie.forEach(p,((v,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(v)?ie.resolve():this.remoteDocumentCache.getEntry(e,v).next((b=>{g=g.insert(v,b)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,g,p,Le()))).next((v=>({batchId:m,changes:E1(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((s=>{let o=Hl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=Hl();return this.indexManager.getCollectionParents(e,u).next((m=>ie.forEach(m,(g=>{const p=(function(A,b){return new wo(b,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next((v=>{v.forEach(((A,b)=>{h=h.insert(A,b)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((g,p)=>{const v=p.getKey();h.get(v)===null&&(h=h.insert(v,Zt.newInvalidDocument(v)))}));let m=Hl();return h.forEach(((g,p)=>{const v=u.get(g);v!==void 0&&Jl(v.mutation,p,Kn.empty(),it.now()),ef(n,p)&&(m=m.insert(g,p))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:_i(o.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:dD(o.bundledQuery),readTime:_i(o.readTime)}})(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(){this.overlays=new ct(ye.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=qs();return ie.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ie.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const o=qs(),u=n.length+1,h=new ye(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ct(((p,v)=>p-v));const h=this.overlays.getIterator();for(;h.hasNext();){const p=h.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let v=u.get(p.largestBatchId);v===null&&(v=qs(),u=u.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const m=qs(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,v)=>m.set(p,v))),!(m.size()>=o)););return ie.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new H4(n,s));let u=this.qr.get(n);u===void 0&&(u=Le(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(){this.Qr=new Mt(zt.$r),this.Ur=new Mt(zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new zt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new zt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ye(new nt([])),s=new zt(n,e),o=new zt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new nt([])),s=new zt(n,e),o=new zt(n,e+1);let u=Le();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new zt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class zt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||Pe(e.Yr,n.Yr)}static Kr(e,n){return Pe(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Mt(zt.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new q4(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new zt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(h)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?zp:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new zt(n,0),o=new zt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Mt(Pe);return n.forEach((o=>{const u=new zt(o,0),h=new zt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{s=s.add(m.Yr)}))})),ie.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const h=new zt(new ye(u),0);let m=new Mt(Pe);return this.Zr.forEachWhile((g=>{const p=g.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Yr)),!0)}),h),ie.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ge(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ie.forEach(n.mutations,(o=>{const u=new zt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new zt(n,0),o=this.Zr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e){this.ri=e,this.docs=(function(){return new ct(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let s=lr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))})),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=lr();const h=n.path,m=new ye(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:v}}=g.getNext();if(!h.isPrefixOf(p.path))break;p.path.length>h.length+1||i4(n4(v),s)<=0||(o.has(v.key)||ef(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ee(9500)}ii(e,n){return ie.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new DD(this)}getSize(e){return ie.resolve(this.size)}}class DD extends TD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e){this.persistence=e,this.si=new na((n=>qp(n)),Hp),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new Xp,this.targetCount=0,this.ai=mo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new mo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ie.waitFor(u).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ie.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,n){this.ui={},this.overlays={},this.ci=new Xh(0),this.li=!1,this.li=!0,this.hi=new RD,this.referenceDelegate=e(this),this.Pi=new ND(this),this.indexManager=new mD,this.remoteDocumentCache=(function(o){return new ID(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new fD(n),this.Ii=new bD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new wD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new CD(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){fe("MemoryPersistence","Starting transaction:",e);const o=new OD(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ie.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class OD extends s4{constructor(e){super(),this.currentSequenceNumber=e}}class Jp{constructor(e){this.persistence=e,this.Ri=new Xp,this.Vi=null}static mi(e){return new Jp(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(s=>{const o=ye.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,we.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Lh{constructor(e,n){this.persistence=e,this.pi=new na((s=>l4(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=ED(this,n)}static mi(e,n){return new Lh(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ie.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ie.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((m=>{m||(s++,u.removeEntry(h,we.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=fh(e.data.value)),n}br(e,n,s){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Le(),o=Le();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Wp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Sw()?8:a4(tn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new MD;return this.Ss(e,n,h).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,h,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(Wa()<=Ve.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Za(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(Wa()<=Ve.DEBUG&&fe("QueryEngine","Query:",Za(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Wa()<=Ve.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Za(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gi(n))):ie.resolve())}ys(e,n){if(jv(n))return ie.resolve(null);let s=gi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=np(n,null,"F"),s=gi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Le(...u);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const p=this.Ds(n,m);return this.Cs(n,p,h,g.readTime)?this.ys(e,np(n,null,"F")):this.vs(e,p,n,g)}))))})))))}ws(e,n,s,o){return jv(n)||o.isEqual(we.min())?ie.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,o)?ie.resolve(null):(Wa()<=Ve.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Za(n)),this.vs(e,h,n,t4(o,tu)).next((m=>m)))}))}Ds(e,n){let s=new Mt(_1(e));return n.forEach(((o,u)=>{ef(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Wa()<=Ve.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Za(n)),this.ps.getDocumentsMatchingQuery(e,n,Xr.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp="LocalStore",VD=3e8;class PD{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ct(Pe),this.xs=new na((u=>qp(u)),Hp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function LD(i,e,n,s){return new PD(i,e,n,s)}async function j1(i,e){const n=Re(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let g=Le();for(const p of o){h.push(p.batchId);for(const v of p.mutations)g=g.add(v.key)}for(const p of u){m.push(p.batchId);for(const v of p.mutations)g=g.add(v.key)}return n.localDocuments.getDocuments(s,g).next((p=>({Ls:p,removedBatchIds:h,addedBatchIds:m})))}))}))}function kD(i,e){const n=Re(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,p,v){const A=p.batch,b=A.keys();let U=ie.resolve();return b.forEach((D=>{U=U.next((()=>v.getEntry(g,D))).next((j=>{const V=p.docVersions.get(D);Ge(V!==null,48541),j.version.compareTo(V)<0&&(A.applyToRemoteDocument(j,p),j.isValidDocument()&&(j.setReadTime(p.commitVersion),v.addEntry(j)))}))})),U.next((()=>m.mutationQueue.removeMutationBatch(g,A)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=Le();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function q1(i){const e=Re(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function UD(i,e){const n=Re(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((v,A)=>{const b=o.get(A);if(!b)return;m.push(n.Pi.removeMatchingKeys(u,v.removedDocuments,A).next((()=>n.Pi.addMatchingKeys(u,v.addedDocuments,A))));let U=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?U=U.withResumeToken(Qt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):v.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(v.resumeToken,s)),o=o.insert(A,U),(function(j,V,Y){return j.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=VD?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0})(b,U,v)&&m.push(n.Pi.updateTargetData(u,U))}));let g=lr(),p=Le();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))})),m.push(zD(u,h,e.documentUpdates).next((v=>{g=v.ks,p=v.qs}))),!s.isEqual(we.min())){const v=n.Pi.getLastRemoteSnapshotVersion(u).next((A=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(v)}return ie.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,p))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function zD(i,e,n){let s=Le(),o=Le();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let h=lr();return n.forEach(((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(we.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):fe(Zp,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)})),{ks:h,qs:o}}))}function BD(i,e){const n=Re(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=zp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function jD(i,e){const n=Re(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ie.resolve(o)):n.Pi.allocateTargetId(s).next((h=>(o=new Hr(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function op(i,e,n){const s=Re(i),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!bo(h))throw h;fe(Zp,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function eE(i,e,n){const s=Re(i);let o=we.min(),u=Le();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,p,v){const A=Re(g),b=A.xs.get(v);return b!==void 0?ie.resolve(A.Ms.get(b)):A.Pi.getTargetData(p,v)})(s,h,gi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,n?o:we.min(),n?u:Le()))).next((m=>(qD(s,C4(e),m),{documents:m,Qs:u})))))}function qD(i,e,n){let s=i.Os.get(e)||we.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class tE{constructor(){this.activeTargetIds=x4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HD{constructor(){this.Mo=new tE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new tE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="ConnectivityMonitor";class iE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(nE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(nE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nh=null;function lp(){return nh===null?nh=(function(){return 268435456+Math.round(2147483648*Math.random())})():nh++,"0x"+nh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm="RestConnection",GD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class KD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Nh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const h=lp(),m=this.zo(e,n.toUriEncodedString());fe(xm,`Sending RPC '${e}' ${h}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:p}=new URL(m),v=vo(p);return this.Jo(e,m,g,s,v).then((A=>(fe(xm,`Received RPC '${e}' ${h}: `,A),A)),(A=>{throw uo(xm,`RPC '${e}' ${h} failed with error: `,A,"url: ",m,"request:",s),A}))}Ho(e,n,s,o,u,h){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ao})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=GD[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="WebChannelConnection";class YD extends KD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const h=lp();return new Promise(((m,g)=>{const p=new GT;p.setWithCredentials(!0),p.listenOnce(KT.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case hh.NO_ERROR:const A=p.getResponseJson();fe(Jt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(A)),m(A);break;case hh.TIMEOUT:fe(Jt,`RPC '${e}' ${h} timed out`),g(new he(ee.DEADLINE_EXCEEDED,"Request time out"));break;case hh.HTTP_ERROR:const b=p.getStatus();if(fe(Jt,`RPC '${e}' ${h} failed with status:`,b,"response text:",p.getResponseText()),b>0){let U=p.getResponseJson();Array.isArray(U)&&(U=U[0]);const D=U?.error;if(D&&D.status&&D.message){const j=(function(Y){const re=Y.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(re)>=0?re:ee.UNKNOWN})(D.status);g(new he(j,D.message))}else g(new he(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new he(ee.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:h,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{fe(Jt,`RPC '${e}' ${h} completed.`)}}));const v=JSON.stringify(o);fe(Jt,`RPC '${e}' ${h} sending request:`,o),p.send(n,"POST",v,s,15)}))}T_(e,n,s){const o=lp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=$T(),m=YT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const v=u.join("");fe(Jt,`Creating RPC '${e}' stream ${o}: ${v}`,g);const A=h.createWebChannel(v,g);this.I_(A);let b=!1,U=!1;const D=new QD({Yo:V=>{U?fe(Jt,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(b||(fe(Jt,`Opening RPC '${e}' stream ${o} transport.`),A.open(),b=!0),fe(Jt,`RPC '${e}' stream ${o} sending:`,V),A.send(V))},Zo:()=>A.close()}),j=(V,Y,re)=>{V.listen(Y,(Z=>{try{re(Z)}catch(ce){setTimeout((()=>{throw ce}),0)}}))};return j(A,ql.EventType.OPEN,(()=>{U||(fe(Jt,`RPC '${e}' stream ${o} transport opened.`),D.o_())})),j(A,ql.EventType.CLOSE,(()=>{U||(U=!0,fe(Jt,`RPC '${e}' stream ${o} transport closed`),D.a_(),this.E_(A))})),j(A,ql.EventType.ERROR,(V=>{U||(U=!0,uo(Jt,`RPC '${e}' stream ${o} transport errored. Name:`,V.name,"Message:",V.message),D.a_(new he(ee.UNAVAILABLE,"The operation could not be completed")))})),j(A,ql.EventType.MESSAGE,(V=>{if(!U){const Y=V.data[0];Ge(!!Y,16349);const re=Y,Z=re?.error||re[0]?.error;if(Z){fe(Jt,`RPC '${e}' stream ${o} received error:`,Z);const ce=Z.status;let ue=(function(w){const R=St[w];if(R!==void 0)return D1(R)})(ce),Te=Z.message;ue===void 0&&(ue=ee.INTERNAL,Te="Unknown error status: "+ce+" with message "+Z.message),U=!0,D.a_(new he(ue,Te)),A.close()}else fe(Jt,`RPC '${e}' stream ${o} received:`,Y),D.u_(Y)}})),j(m,QT.STAT_EVENT,(V=>{V.stat===$m.PROXY?fe(Jt,`RPC '${e}' stream ${o} detected buffering proxy`):V.stat===$m.NOPROXY&&fe(Jt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Vm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(i){return new W4(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="PersistentStream";class F1{constructor(e,n,s,o,u,h,m,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new H1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(or(n.toString()),or("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new he(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(rE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(fe(rE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class $D extends F1{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=tD(this.serializer,e),s=(function(u){if(!("targetChange"in u))return we.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?we.min():h.readTime?_i(h.readTime):we.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=ap(this.serializer),n.addTarget=(function(u,h){let m;const g=h.target;if(m=ep(g)?{documents:rD(u,g)}:{query:sD(u,g).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=M1(u,h.resumeToken);const p=ip(u,h.expectedCount);p!==null&&(m.expectedCount=p)}else if(h.snapshotVersion.compareTo(we.min())>0){m.readTime=Ph(u,h.snapshotVersion.toTimestamp());const p=ip(u,h.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,e);const s=oD(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=ap(this.serializer),n.removeTarget=e,this.q_(n)}}class XD extends F1{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=iD(e.writeResults,e.commitTime),s=_i(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=ap(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>nD(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{}class WD extends JD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,rp(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(ee.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,rp(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new he(ee.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class ZD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(or(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="RemoteStore";class e3{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{ra(this)&&(fe(Zs,"Restarting streams for network reachability change."),await(async function(g){const p=Re(g);p.Ea.add(4),await vu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await af(p)})(this))}))})),this.Ra=new ZD(s,o)}}async function af(i){if(ra(i))for(const e of i.da)await e(!0)}async function vu(i){for(const e of i.da)await e(!1)}function G1(i,e){const n=Re(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ig(n)?ng(n):Ro(n).O_()&&tg(n,e))}function eg(i,e){const n=Re(i),s=Ro(n);n.Ia.delete(e),s.O_()&&K1(n,e),n.Ia.size===0&&(s.O_()?s.L_():ra(n)&&n.Ra.set("Unknown"))}function tg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ro(i).Y_(e)}function K1(i,e){i.Va.Ue(e),Ro(i).Z_(e)}function ng(i){i.Va=new Y4({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Ro(i).start(),i.Ra.ua()}function ig(i){return ra(i)&&!Ro(i).x_()&&i.Ia.size>0}function ra(i){return Re(i).Ea.size===0}function Q1(i){i.Va=void 0}async function t3(i){i.Ra.set("Online")}async function n3(i){i.Ia.forEach(((e,n)=>{tg(i,e)}))}async function i3(i,e){Q1(i),ig(i)?(i.Ra.ha(e),ng(i)):i.Ra.set("Unknown")}async function r3(i,e,n){if(i.Ra.set("Online"),e instanceof O1&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(s){fe(Zs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await kh(i,s)}else if(e instanceof ph?i.Va.Ze(e):e instanceof N1?i.Va.st(e):i.Va.tt(e),!n.isEqual(we.min()))try{const s=await q1(i.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const v=u.Ia.get(p);v&&u.Ia.set(p,v.withResumeToken(g.resumeToken,h))}})),m.targetMismatches.forEach(((g,p)=>{const v=u.Ia.get(g);if(!v)return;u.Ia.set(g,v.withResumeToken(Qt.EMPTY_BYTE_STRING,v.snapshotVersion)),K1(u,g);const A=new Hr(v.target,g,p,v.sequenceNumber);tg(u,A)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){fe(Zs,"Failed to raise snapshot:",s),await kh(i,s)}}async function kh(i,e,n){if(!bo(e))throw e;i.Ea.add(1),await vu(i),i.Ra.set("Offline"),n||(n=()=>q1(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{fe(Zs,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await af(i)}))}function Y1(i,e){return e().catch((n=>kh(i,n,e)))}async function of(i){const e=Re(i),n=es(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:zp;for(;s3(e);)try{const o=await BD(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,a3(e,o)}catch(o){await kh(e,o)}$1(e)&&X1(e)}function s3(i){return ra(i)&&i.Ta.length<10}function a3(i,e){i.Ta.push(e);const n=es(i);n.O_()&&n.X_&&n.ea(e.mutations)}function $1(i){return ra(i)&&!es(i).x_()&&i.Ta.length>0}function X1(i){es(i).start()}async function o3(i){es(i).ra()}async function l3(i){const e=es(i);for(const n of i.Ta)e.ea(n.mutations)}async function u3(i,e,n){const s=i.Ta.shift(),o=Qp.from(s,e,n);await Y1(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await of(i)}async function c3(i,e){e&&es(i).X_&&await(async function(s,o){if((function(h){return G4(h)&&h!==ee.ABORTED})(o.code)){const u=s.Ta.shift();es(s).B_(),await Y1(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await of(s)}})(i,e),$1(i)&&X1(i)}async function sE(i,e){const n=Re(i);n.asyncQueue.verifyOperationInProgress(),fe(Zs,"RemoteStore received new credentials");const s=ra(n);n.Ea.add(3),await vu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await af(n)}async function h3(i,e){const n=Re(i);e?(n.Ea.delete(2),await af(n)):e||(n.Ea.add(2),await vu(n),n.Ra.set("Unknown"))}function Ro(i){return i.ma||(i.ma=(function(n,s,o){const u=Re(n);return u.sa(),new $D(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:t3.bind(null,i),t_:n3.bind(null,i),r_:i3.bind(null,i),H_:r3.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),ig(i)?ng(i):i.Ra.set("Unknown")):(await i.ma.stop(),Q1(i))}))),i.ma}function es(i){return i.fa||(i.fa=(function(n,s,o){const u=Re(n);return u.sa(),new XD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:o3.bind(null,i),r_:c3.bind(null,i),ta:l3.bind(null,i),na:u3.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await of(i)):(await i.fa.stop(),i.Ta.length>0&&(fe(Zs,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new rg(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sg(i,e){if(or("AsyncQueue",`${e}: ${i}`),bo(i))return new he(ee.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{static emptySet(e){return new so(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Hl(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof so)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new so;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(){this.ga=new ct(ye.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class po{constructor(e,n,s,o,u,h,m,g,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new po(e,n,so.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class d3{constructor(){this.queries=oE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Re(n),u=o.queries;o.queries=oE(),u.forEach(((h,m)=>{for(const g of m.Sa)g.onError(s)}))})(this,new he(ee.ABORTED,"Firestore shutting down"))}}function oE(){return new na((i=>y1(i)),Zh)}async function J1(i,e){const n=Re(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new f3,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=sg(h,`Initialization of query '${Za(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&ag(n)}async function W1(i,e){const n=Re(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function m3(i,e){const n=Re(i);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&ag(n)}function p3(i,e,n){const s=Re(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function ag(i){i.Ca.forEach((e=>{e.next()}))}var up,lE;(lE=up||(up={})).Ma="default",lE.Cache="cache";class Z1{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new po(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=po.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==up.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e){this.key=e}}class tA{constructor(e){this.key=e}}class g3{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=_1(e),this.tu=new so(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new aE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,A)=>{const b=o.get(v),U=ef(this.query,A)?A:null,D=!!b&&this.mutatedKeys.has(b.key),j=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let V=!1;b&&U?b.data.isEqual(U.data)?D!==j&&(s.track({type:3,doc:U}),V=!0):this.su(b,U)||(s.track({type:2,doc:U}),V=!0,(g&&this.eu(U,g)>0||p&&this.eu(U,p)<0)&&(m=!0)):!b&&U?(s.track({type:0,doc:U}),V=!0):b&&!U&&(s.track({type:1,doc:b}),V=!0,(g||p)&&(m=!0)),V&&(U?(h=h.add(U),u=j?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((v,A)=>(function(U,D){const j=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:V})}};return j(U)-j(D)})(v.type,A.type)||this.eu(v.doc,A.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,p=g!==this.Za;return this.Za=g,h.length!==0||p?{snapshot:new po(this.query,e.tu,u,h,e.mutatedKeys,g===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new aE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new tA(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new eA(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Le();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return po.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const og="SyncEngine";class y3{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class _3{constructor(e){this.key=e,this.hu=!1}}class v3{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new na((m=>y1(m)),Zh),this.Iu=new Map,this.Eu=new Set,this.du=new ct(ye.comparator),this.Au=new Map,this.Ru=new Xp,this.Vu={},this.mu=new Map,this.fu=mo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function E3(i,e,n=!0){const s=oA(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await nA(s,e,n,!0),o}async function T3(i,e){const n=oA(i);await nA(n,e,!0,!1)}async function nA(i,e,n,s){const o=await jD(i.localStore,gi(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await A3(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&G1(i.remoteStore,o),m}async function A3(i,e,n,s,o){i.pu=(A,b,U)=>(async function(j,V,Y,re){let Z=V.view.ru(Y);Z.Cs&&(Z=await eE(j.localStore,V.query,!1).then((({documents:O})=>V.view.ru(O,Z))));const ce=re&&re.targetChanges.get(V.targetId),ue=re&&re.targetMismatches.get(V.targetId)!=null,Te=V.view.applyChanges(Z,j.isPrimaryClient,ce,ue);return cE(j,V.targetId,Te.au),Te.snapshot})(i,A,b,U);const u=await eE(i.localStore,e,!0),h=new g3(e,u.Qs),m=h.ru(u.documents),g=_u.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),p=h.applyChanges(m,i.isPrimaryClient,g);cE(i,n,p.au);const v=new y3(e,n,h);return i.Tu.set(e,v),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),p.snapshot}async function S3(i,e,n){const s=Re(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!Zh(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await op(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&eg(s.remoteStore,o.targetId),cp(s,o.targetId)})).catch(So)):(cp(s,o.targetId),await op(s.localStore,o.targetId,!0))}async function b3(i,e){const n=Re(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),eg(n.remoteStore,s.targetId))}async function w3(i,e,n){const s=M3(i);try{const o=await(function(h,m){const g=Re(h),p=it.now(),v=m.reduce(((U,D)=>U.add(D.key)),Le());let A,b;return g.persistence.runTransaction("Locally write mutations","readwrite",(U=>{let D=lr(),j=Le();return g.Ns.getEntries(U,v).next((V=>{D=V,D.forEach(((Y,re)=>{re.isValidDocument()||(j=j.add(Y))}))})).next((()=>g.localDocuments.getOverlayedDocuments(U,D))).next((V=>{A=V;const Y=[];for(const re of m){const Z=B4(re,A.get(re.key).overlayedDocument);Z!=null&&Y.push(new ia(re.key,Z,u1(Z.value.mapValue),yi.exists(!0)))}return g.mutationQueue.addMutationBatch(U,p,Y,m)})).next((V=>{b=V;const Y=V.applyToLocalDocumentSet(A,j);return g.documentOverlayCache.saveOverlays(U,V.batchId,Y)}))})).then((()=>({batchId:b.batchId,changes:E1(A)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,g){let p=h.Vu[h.currentUser.toKey()];p||(p=new ct(Pe)),p=p.insert(m,g),h.Vu[h.currentUser.toKey()]=p})(s,o.batchId,n),await Eu(s,o.changes),await of(s.remoteStore)}catch(o){const u=sg(o,"Failed to persist write");n.reject(u)}}async function iA(i,e){const n=Re(i);try{const s=await UD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Ge(h.hu,14607):o.removedDocuments.size>0&&(Ge(h.hu,42227),h.hu=!1))})),await Eu(n,s,e)}catch(s){await So(s)}}function uE(i,e,n){const s=Re(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const g=Re(h);g.onlineState=m;let p=!1;g.queries.forEach(((v,A)=>{for(const b of A.Sa)b.va(m)&&(p=!0)})),p&&ag(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function R3(i,e,n){const s=Re(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ct(ye.comparator);h=h.insert(u,Zt.newNoDocument(u,we.min()));const m=Le().add(u),g=new rf(we.min(),new Map,new ct(Pe),h,m);await iA(s,g),s.du=s.du.remove(u),s.Au.delete(e),lg(s)}else await op(s.localStore,e,!1).then((()=>cp(s,e,n))).catch(So)}async function C3(i,e){const n=Re(i),s=e.batch.batchId;try{const o=await kD(n.localStore,e);sA(n,s,null),rA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Eu(n,o)}catch(o){await So(o)}}async function I3(i,e,n){const s=Re(i);try{const o=await(function(h,m){const g=Re(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return g.mutationQueue.lookupMutationBatch(p,m).next((A=>(Ge(A!==null,37113),v=A.keys(),g.mutationQueue.removeMutationBatch(p,A)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,v,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>g.localDocuments.getDocuments(p,v)))}))})(s.localStore,e);sA(s,e,n),rA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Eu(s,o)}catch(o){await So(o)}}function rA(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function sA(i,e,n){const s=Re(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function cp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||aA(i,s)}))}function aA(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(eg(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),lg(i))}function cE(i,e,n){for(const s of n)s instanceof eA?(i.Ru.addReference(s.key,e),D3(i,s)):s instanceof tA?(fe(og,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||aA(i,s.key)):Ee(19791,{wu:s})}function D3(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(fe(og,"New document in limbo: "+n),i.Eu.add(s),lg(i))}function lg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new ye(nt.fromString(e)),s=i.fu.next();i.Au.set(s,new _3(n)),i.du=i.du.insert(n,s),G1(i.remoteStore,new Hr(gi(Fp(n.path)),s,"TargetPurposeLimboResolution",Xh.ce))}}async function Eu(i,e,n){const s=Re(i),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{h.push(s.pu(g,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const v=p?!p.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,v?"current":"not-current")}if(p){o.push(p);const v=Wp.As(g.targetId,p);u.push(v)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(g,p){const v=Re(g);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>ie.forEach(p,(b=>ie.forEach(b.Es,(U=>v.persistence.referenceDelegate.addReference(A,b.targetId,U))).next((()=>ie.forEach(b.ds,(U=>v.persistence.referenceDelegate.removeReference(A,b.targetId,U)))))))))}catch(A){if(!bo(A))throw A;fe(Zp,"Failed to update sequence numbers: "+A)}for(const A of p){const b=A.targetId;if(!A.fromCache){const U=v.Ms.get(b),D=U.snapshotVersion,j=U.withLastLimboFreeSnapshotVersion(D);v.Ms=v.Ms.insert(b,j)}}})(s.localStore,u))}async function N3(i,e){const n=Re(i);if(!n.currentUser.isEqual(e)){fe(og,"User change. New user:",e.toKey());const s=await j1(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new he(ee.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Eu(n,s.Ls)}}function O3(i,e){const n=Re(i),s=n.Au.get(e);if(s&&s.hu)return Le().add(s.key);{let o=Le();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function oA(i){const e=Re(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=iA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=O3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=R3.bind(null,e),e.Pu.H_=m3.bind(null,e.eventManager),e.Pu.yu=p3.bind(null,e.eventManager),e}function M3(i){const e=Re(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=C3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=I3.bind(null,e),e}class Uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return LD(this.persistence,new xD,e.initialUser,this.serializer)}Cu(e){return new B1(Jp.mi,this.serializer)}Du(e){return new HD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Uh.provider={build:()=>new Uh};class x3 extends Uh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ge(this.persistence.referenceDelegate instanceof Lh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new _D(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new B1((s=>Lh.mi(s,n)),this.serializer)}}class hp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>uE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=N3.bind(null,this.syncEngine),await h3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new d3})()}createDatastore(e){const n=sf(e.databaseInfo.databaseId),s=(function(u){return new YD(u)})(e.databaseInfo);return(function(u,h,m,g){return new WD(u,h,m,g)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new e3(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>uE(this.syncEngine,n,0)),(function(){return iE.v()?new iE:new FD})())}createSyncEngine(e,n){return(function(o,u,h,m,g,p,v){const A=new v3(o,u,h,m,g,p);return v&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Re(n);fe(Zs,"RemoteStore shutting down."),s.Ea.add(5),await vu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}hp.provider={build:()=>new hp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):or("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="FirestoreClient";class V3{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=Up.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{fe(ts,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(fe(ts,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=sg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Pm(i,e){i.asyncQueue.verifyOperationInProgress(),fe(ts,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await j1(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function hE(i,e){i.asyncQueue.verifyOperationInProgress();const n=await P3(i);fe(ts,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>sE(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>sE(e.remoteStore,o))),i._onlineComponents=e}async function P3(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){fe(ts,"Using user provided OfflineComponentProvider");try{await Pm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;uo("Error using user provided cache. Falling back to memory cache: "+n),await Pm(i,new Uh)}}else fe(ts,"Using default OfflineComponentProvider"),await Pm(i,new x3(void 0));return i._offlineComponents}async function uA(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(fe(ts,"Using user provided OnlineComponentProvider"),await hE(i,i._uninitializedComponentsProvider._online)):(fe(ts,"Using default OnlineComponentProvider"),await hE(i,new hp))),i._onlineComponents}function L3(i){return uA(i).then((e=>e.syncEngine))}async function cA(i){const e=await uA(i),n=e.eventManager;return n.onListen=E3.bind(null,e.syncEngine),n.onUnlisten=S3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=T3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=b3.bind(null,e.syncEngine),n}function k3(i,e,n={}){const s=new ir;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,g,p){const v=new lA({next:b=>{v.Nu(),h.enqueueAndForget((()=>W1(u,A)));const U=b.docs.has(m);!U&&b.fromCache?p.reject(new he(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&b.fromCache&&g&&g.source==="server"?p.reject(new he(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),A=new Z1(Fp(m.path),v,{includeMetadataChanges:!0,qa:!0});return J1(u,A)})(await cA(i),i.asyncQueue,e,n,s))),s.promise}function U3(i,e,n={}){const s=new ir;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,g,p){const v=new lA({next:b=>{v.Nu(),h.enqueueAndForget((()=>W1(u,A))),b.fromCache&&g.source==="server"?p.reject(new he(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),A=new Z1(m,v,{includeMetadataChanges:!0,qa:!0});return J1(u,A)})(await cA(i),i.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA="firestore.googleapis.com",dE=!0;class mE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fA,this.ssl=dE}else this.host=e.host,this.ssl=e.ssl??dE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=z1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gD)throw new he(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}e4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new FI;switch(s.type){case"firstParty":return new YI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=fE.get(n);s&&(fe("ComponentProvider","Removing Datastore"),fE.delete(n),s.terminate())})(this),Promise.resolve()}}function z3(i,e,n,s={}){i=Ws(i,lf);const o=vo(e),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(aT(`https://${m}`),oT("Firestore",!0)),u.host!==fA&&u.host!==m&&uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!Ys(g,h)&&(i._setSettings(g),s.mockUserToken)){let p,v;if(typeof s.mockUserToken=="string")p=s.mockUserToken,v=Wt.MOCK_USER;else{p=mw(s.mockUserToken,i._app?.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new he(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Wt(A)}i._authCredentials=new GI(new JT(p,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new sa(this.firestore,e,this._query)}}class Ot{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $r(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ot(this.firestore,e,this._key)}toJSON(){return{type:Ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(gu(n,Ot._jsonSchema))return new Ot(e,s||null,new ye(nt.fromString(n.referencePath)))}}Ot._jsonSchemaVersion="firestore/documentReference/1.0",Ot._jsonSchema={type:wt("string",Ot._jsonSchemaVersion),referencePath:wt("string")};class $r extends sa{constructor(e,n,s){super(e,n,Fp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new ye(e))}withConverter(e){return new $r(this.firestore,e,this._path)}}function B3(i,e,...n){if(i=dn(i),WT("collection","path",e),i instanceof lf){const s=nt.fromString(e,...n);return Cv(s),new $r(i,null,s)}{if(!(i instanceof Ot||i instanceof $r))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(nt.fromString(e,...n));return Cv(s),new $r(i.firestore,null,s)}}function ug(i,e,...n){if(i=dn(i),arguments.length===1&&(e=Up.newId()),WT("doc","path",e),i instanceof lf){const s=nt.fromString(e,...n);return Rv(s),new Ot(i,null,new ye(s))}{if(!(i instanceof Ot||i instanceof $r))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(nt.fromString(e,...n));return Rv(s),new Ot(i.firestore,i instanceof $r?i.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="AsyncQueue";class gE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new H1(this,"async_queue_retry"),this._c=()=>{const s=Vm();s&&fe(pE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Vm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Vm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ir;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!bo(e))throw e;fe(pE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,or("INTERNAL UNHANDLED ERROR: ",yE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=rg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:yE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function yE(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Tu extends lf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new gE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gE(e),this._firestoreClient=void 0,await e}}}function j3(i,e){const n=typeof i=="object"?i:hT(),s=typeof i=="string"?i:Nh,o=Rp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=fw("firestore");u&&z3(o,...u)}return o}function cg(i){if(i._terminated)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||q3(i),i._firestoreClient}function q3(i){const e=i._freezeSettings(),n=(function(o,u,h,m){return new h4(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,hA(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new V3(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kn(Qt.fromBase64String(e))}catch(n){throw new he(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new kn(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gu(e,kn._jsonSchema))return kn.fromBase64String(e.bytes)}}kn._jsonSchemaVersion="firestore/bytes/1.0",kn._jsonSchema={type:wt("string",kn._jsonSchemaVersion),bytes:wt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vi._jsonSchemaVersion}}static fromJSON(e){if(gu(e,vi._jsonSchema))return new vi(e.latitude,e.longitude)}}vi._jsonSchemaVersion="firestore/geoPoint/1.0",vi._jsonSchema={type:wt("string",vi._jsonSchemaVersion),latitude:wt("number"),longitude:wt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gu(e,Ei._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ei(e.vectorValues);throw new he(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ei._jsonSchemaVersion="firestore/vectorValue/1.0",Ei._jsonSchema={type:wt("string",Ei._jsonSchemaVersion),vectorValues:wt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3=/^__.*__$/;class F3{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ia(e,this.data,this.fieldMask,n,this.fieldTransforms):new yu(e,this.data,n,this.fieldTransforms)}}function mA(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:i})}}class fg{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new fg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return zh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(mA(this.Ac)&&H3.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class G3{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||sf(e)}Cc(e,n,s,o=!1){return new fg({Ac:e,methodName:n,Dc:s,path:Kt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pA(i){const e=i._freezeSettings(),n=sf(i._databaseId);return new G3(i._databaseId,!!e.ignoreUndefinedProperties,n)}function K3(i,e,n,s,o,u={}){const h=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);_A("Data must be an object, but it was:",h,s);const m=gA(s,h);let g,p;if(u.merge)g=new Kn(h.fieldMask),p=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const A of u.mergeFields){const b=Y3(e,A,n);if(!h.contains(b))throw new he(ee.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);X3(v,b)||v.push(b)}g=new Kn(v),p=h.fieldTransforms.filter((A=>g.covers(A.field)))}else g=null,p=h.fieldTransforms;return new F3(new Ln(m),g,p)}function Q3(i,e,n,s=!1){return dg(n,i.Cc(s?4:3,e))}function dg(i,e){if(yA(i=dn(i)))return _A("Unsupported field value:",e,i),gA(i,e);if(i instanceof dA)return(function(s,o){if(!mA(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let g=dg(m,o.wc(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=dn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return V4(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=it.fromDate(s);return{timestampValue:Ph(o.serializer,u)}}if(s instanceof it){const u=new it(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ph(o.serializer,u)}}if(s instanceof vi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof kn)return{bytesValue:M1(o.serializer,s._byteString)};if(s instanceof Ot){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:$p(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ei)return(function(h,m){return{mapValue:{fields:{[o1]:{stringValue:l1},[Oh]:{arrayValue:{values:h.toArray().map((p=>{if(typeof p!="number")throw m.Sc("VectorValues must only contain numeric values.");return Gp(m.serializer,p)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${$h(s)}`)})(i,e)}function gA(i,e){const n={};return t1(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ta(i,((s,o)=>{const u=dg(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function yA(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof it||i instanceof vi||i instanceof kn||i instanceof Ot||i instanceof dA||i instanceof Ei)}function _A(i,e,n){if(!yA(n)||!ZT(n)){const s=$h(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function Y3(i,e,n){if((e=dn(e))instanceof hg)return e._internalPath;if(typeof e=="string")return vA(i,e);throw zh("Field path arguments must be of type string or ",i,!1,void 0,n)}const $3=new RegExp("[~\\*/\\[\\]]");function vA(i,e,n){if(e.search($3)>=0)throw zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new hg(...e.split("."))._internalPath}catch{throw zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function zh(i,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new he(ee.INVALID_ARGUMENT,m+i+g)}function X3(i,e){return i.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new J3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(uf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class J3 extends EA{data(){return super.data()}}function uf(i,e){return typeof e=="string"?vA(i,e):e instanceof hg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W3(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new he(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mg{}class TA extends mg{}function Z3(i,e,...n){let s=[];e instanceof mg&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((g=>g instanceof pg)).length,m=u.filter((g=>g instanceof cf)).length;if(h>1||h>0&&m>0)throw new he(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class cf extends TA{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new cf(e,n,s)}_apply(e){const n=this._parse(e);return AA(e._query,n),new sa(e.firestore,e.converter,tp(e._query,n))}_parse(e){const n=pA(e.firestore);return(function(u,h,m,g,p,v,A){let b;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new he(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){vE(A,v);const D=[];for(const j of A)D.push(_E(g,u,j));b={arrayValue:{values:D}}}else b=_E(g,u,A)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||vE(A,v),b=Q3(m,h,A,v==="in"||v==="not-in");return bt.create(p,v,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function eN(i,e,n){const s=e,o=uf("where",i);return cf._create(o,s,n)}class pg extends mg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new pg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Yn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const g of m)AA(h,g),h=tp(h,g)})(e._query,n),new sa(e.firestore,e.converter,tp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class gg extends TA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new gg(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new su(u,h)})(e._query,this._field,this._direction);return new sa(e.firestore,e.converter,(function(o,u){const h=o.explicitOrderBy.concat([u]);return new wo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function tN(i,e="asc"){const n=e,s=uf("orderBy",i);return gg._create(s,n)}function _E(i,e,n){if(typeof(n=dn(n))=="string"){if(n==="")throw new he(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!g1(e)&&n.indexOf("/")!==-1)throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(nt.fromString(n));if(!ye.isDocumentKey(s))throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Pv(i,new ye(s))}if(n instanceof Ot)return Pv(i,n._key);throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$h(n)}.`)}function vE(i,e){if(!Array.isArray(i)||i.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function AA(i,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class nN{convertValue(e,n="none"){switch(Zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Wr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ta(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Oh].arrayValue?.values?.map((s=>yt(s.doubleValue)));return new Ei(n)}convertGeoPoint(e){return new vi(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Wh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(nu(e));default:return null}}convertTimestamp(e){const n=Jr(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=nt.fromString(e);Ge(U1(s),9688,{name:e});const o=new iu(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||or(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class Gl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gs extends EA{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(uf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Gs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Gs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gs._jsonSchema={type:wt("string",Gs._jsonSchemaVersion),bundleSource:wt("string","DocumentSnapshot"),bundleName:wt("string"),bundle:wt("string")};class gh extends Gs{data(e={}){return super.data(e)}}class ao{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Gl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new gh(this._firestore,this._userDataWriter,s.key,s,new Gl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const g=new gh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Gl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new gh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Gl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,v=-1;return m.type!==0&&(p=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),v=h.indexOf(m.doc.key)),{type:rN(m.type),doc:g,oldIndex:p,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ao._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Up.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function rN(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(i){i=Ws(i,Ot);const e=Ws(i.firestore,Tu);return k3(cg(e),i._key).then((n=>uN(e,i,n)))}ao._jsonSchemaVersion="firestore/querySnapshot/1.0",ao._jsonSchema={type:wt("string",ao._jsonSchemaVersion),bundleSource:wt("string","QuerySnapshot"),bundleName:wt("string"),bundle:wt("string")};class SA extends nN{constructor(e){super(),this.firestore=e}convertBytes(e){return new kn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,n)}}function aN(i){i=Ws(i,sa);const e=Ws(i.firestore,Tu),n=cg(e),s=new SA(e);return W3(i._query),U3(n,i._query).then((o=>new ao(e,s,i,o)))}function oN(i){return bA(Ws(i.firestore,Tu),[new Kp(i._key,yi.none())])}function lN(i,e){const n=Ws(i.firestore,Tu),s=ug(i),o=iN(i.converter,e);return bA(n,[K3(pA(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,yi.exists(!1))]).then((()=>s))}function bA(i,e){return(function(s,o){const u=new ir;return s.asyncQueue.enqueueAndForget((async()=>w3(await L3(s),o,u))),u.promise})(cg(i),e)}function uN(i,e,n){const s=n.docs.get(e._key),o=new SA(i);return new Gs(i,o,e._key,s,new Gl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Ao=o})(Eo),oo(new $s("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Tu(new KI(s.getProvider("auth-internal")),new $I(h,s.getProvider("app-check-internal")),(function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new he(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iu(p.options.projectId,v)})(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Qr(Av,Sv,e),Qr(Av,Sv,"esm2020")})();const cN={apiKey:"AIzaSyDIDEb9iYJbNAmgOX7Q1g-vG7LXPChv8ro",authDomain:"hello-giraffe-app.firebaseapp.com",projectId:"hello-giraffe-app",storageBucket:"hello-giraffe-app.firebasestorage.app",messagingSenderId:"552653100939",appId:"1:552653100939:web:48629d91d7a28b4a20818e",measurementId:"G-R9EB0J1DXT"},wA=cT(cN),yg=j3(wA),fp=BI(wA),hN="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20height='800px'%20width='800px'%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20500.8%20500.8'%20xml:space='preserve'%3e%3cpath%20style='fill:%23C16A02;'%20d='M75.877,278.4c-3.2,9.6-13.6,15.2-23.2,12.8c-9.6-3.2-15.2-13.6-12.8-23.2'/%3e%3cpolygon%20style='fill:%23EAAC0F;'%20points='234.277,402.4%20244.677,398.4%20255.077,402.4%20246.277,460.8%20244.677,473.6%20234.277,488%20'/%3e%3cpolygon%20style='fill:%23FFC114;'%20points='234.277,350.4%20251.077,347.2%20267.877,350.4%20259.077,409.6%20251.077,421.6%20234.277,409.6%20'/%3e%3cpolygon%20style='fill:%23C16A02;'%20points='263.077,498.4%20234.277,498.4%20234.277,477.6%20255.077,485.6%20'/%3e%3cpolygon%20style='fill:%23EAAC0F;'%20points='66.277,402.4%2077.477,398.4%2088.677,402.4%2080.677,460.8%2077.477,473.6%2066.277,488%20'/%3e%3cpolygon%20style='fill:%23FFC114;'%20points='66.277,342.4%2083.877,347.2%20101.477,350.4%2093.477,409.6%2083.877,421.6%2066.277,409.6%20'/%3e%3cpolygon%20style='fill:%23C16A02;'%20points='98.277,498.4%2066.277,498.4%2066.277,477.6%2088.677,485.6%20'/%3e%3cpolygon%20style='fill:%23FFC114;'%20points='295.877,274.4%20217.477,274.4%20266.277,42.4%20298.277,42.4%20'/%3e%3cg%3e%3cpolygon%20style='fill:%23C16A02;'%20points='266.277,23.2%20277.477,26.4%20271.077,1.6%20266.277,0%20'/%3e%3cpolygon%20style='fill:%23C16A02;'%20points='282.277,26.4%20291.877,29.6%20286.277,4.8%20282.277,4%20'/%3e%3c/g%3e%3cg%3e%3cpolygon%20style='fill:%23EAAC0F;'%20points='297.477,270.4%20267.077,268.8%20271.077,42.4%20298.277,42.4%20'/%3e%3cpath%20style='fill:%23EAAC0F;'%20d='M154.277,346.4h-60c-22.4,0-40-17.6-40-40l0,0c0-22.4,17.6-40,40-40h20'/%3e%3c/g%3e%3cpath%20style='fill:%23FFD215;'%20d='M154.277,346.4h-60c-22.4,0-40-17.6-40-40l0,0'/%3e%3cpath%20style='fill:%23FFC114;'%20d='M297.477,266.4c0,56-44.8,100.8-100.8,100.8c-55.2,0-100.8-44.8-100.8-100.8H297.477z'/%3e%3cpath%20style='fill:%23EAAC0F;'%20d='M194.277,266.4v100c57.6,2.4,103.2-44,103.2-100H194.277z'/%3e%3cpath%20style='fill:%23FFC114;'%20d='M194.277,266.4v68.8c40,0,72.8-28.8,72.8-68.8H194.277z'/%3e%3cg%3e%3cpath%20style='fill:%23EAAC0F;'%20d='M194.277,266.4v43.2c24,0,46.4-19.2,46.4-43.2H194.277z'/%3e%3cpath%20style='fill:%23EAAC0F;'%20d='M258.277,26.4h-25.6c0,16,9.6,24.8,25.6,24.8V26.4z'/%3e%3c/g%3e%3ccircle%20style='fill:%23FF9A15;'%20cx='248.677'%20cy='342.4'%20r='26.4'/%3e%3cpath%20style='fill:%23EA840A;'%20d='M267.877,324c10.4,10.4,10.4,27.2,0,36.8c-10.4,10.4-27.2,10.4-36.8,0'/%3e%3ccircle%20style='fill:%23FF9A15;'%20cx='86.277'%20cy='342.4'%20r='26.4'/%3e%3cpath%20style='fill:%23EA840A;'%20d='M104.677,324c10.4,10.4,10.4,27.2,0,36.8c-10.4,10.4-27.2,10.4-36.8,0'/%3e%3cg%3e%3ccircle%20style='fill:%23C16A02;'%20cx='120.677'%20cy='288'%20r='6.4'/%3e%3ccircle%20style='fill:%23C16A02;'%20cx='147.877'%20cy='288'%20r='6.4'/%3e%3ccircle%20style='fill:%23C16A02;'%20cx='175.877'%20cy='288'%20r='6.4'/%3e%3cpath%20style='fill:%23C16A02;'%20d='M127.077,311.2c0,3.2-3.2,6.4-6.4,6.4s-6.4-3.2-6.4-6.4s3.2-6.4,6.4-6.4S127.077,308,127.077,311.2z%20'/%3e%3cpath%20style='fill:%23C16A02;'%20d='M154.277,311.2c0,3.2-3.2,6.4-6.4,6.4s-6.4-3.2-6.4-6.4c0-3.2,3.2-6.4,6.4-6.4%20S154.277,308,154.277,311.2z'/%3e%3cpath%20style='fill:%23C16A02;'%20d='M182.277,311.2c0,3.2-3.2,6.4-6.4,6.4s-6.4-3.2-6.4-6.4c0-3.2,3.2-6.4,6.4-6.4%20S182.277,308,182.277,311.2z'/%3e%3c/g%3e%3cpolygon%20style='fill:%23FFC114;'%20points='329.477,66.4%20266.277,66.4%20266.277,29.6%20323.877,46.4%20'/%3e%3cpolyline%20style='fill:%23EAAC0F;'%20points='323.077,47.2%20329.477,66.4%20274.277,66.4%20'/%3e%3cpolygon%20style='fill:%2351D687;'%20points='435.877,106.4%20410.277,48%20435.877,16.8%20461.477,48%20'/%3e%3cpolyline%20style='fill:%232CAF61;'%20points='435.877,16.8%20461.477,48%20435.877,106.4%20'/%3e%3cpolygon%20style='fill:%23CCAF89;'%20points='456.677,488%20435.877,500.8%20415.077,488%20435.877,119.2%20'/%3e%3cpolygon%20style='fill:%23BC9B73;'%20points='456.677,488%20435.877,500.8%20434.277,486.4%20435.877,119.2%20'/%3e%3cpolygon%20style='fill:%2351D687;'%20points='429.477,110.4%20370.277,88%20366.277,48%20406.277,51.2%20'/%3e%3cpolyline%20style='fill:%232CAF61;'%20points='366.277,48%20406.277,51.2%20429.477,110.4%20'/%3e%3cpolygon%20style='fill:%2351D687;'%20points='424.677,118.4%20367.077,144%20335.877,118.4%20367.077,92.8%20'/%3e%3cpolyline%20style='fill:%232CAF61;'%20points='335.877,118.4%20367.077,92.8%20424.677,118.4%20'/%3e%3c/svg%3e";function fN({user:i}){const e=async()=>{const s=new Zi;try{await $C(fp,s)}catch(o){console.error("Google  :",o)}},n=async()=>{try{await DC(fp)}catch(s){console.error(" :",s)}};return X.jsxs("header",{className:"site-header",children:[X.jsxs(Qs,{to:"/",className:"logo-link",children:[X.jsx("img",{src:hN,alt:"Giraffe Logo",className:"logo-icon"}),X.jsx("span",{className:"logo-text",children:"HelloGiraffe"})]}),X.jsx("div",{className:"auth-controls",children:i?X.jsxs(X.Fragment,{children:[X.jsxs("span",{className:"user-display-name",children:[i.displayName," !"]}),X.jsx("button",{onClick:n,className:"button",children:""})]}):X.jsx("button",{onClick:e,className:"button button-primary",children:"Google "})})]})}function dN({dialogue:i,onDelete:e}){const n=i.createdAt&&typeof i.createdAt.toDate=="function"?i.createdAt.toDate().toLocaleString():"  ",s=o=>{o.preventDefault(),o.stopPropagation(),e(i.id)};return X.jsx(Qs,{to:`/dialogue/${i.id}`,style:{textDecoration:"none"},children:X.jsxs("div",{className:"dialogue-list-item",children:[X.jsxs("div",{className:"item-content",children:[X.jsx("h3",{className:"item-title",children:i.scenarioTitle}),X.jsx("p",{className:"item-date",children:n})]}),X.jsx("button",{className:"button-delete",onClick:s,children:""})]})})}function mN({dialogues:i,onDelete:e}){return i.length===0?X.jsxs("p",{className:"empty-list-message",children:["    .",X.jsx("br",{}),"  !"]}):X.jsx("div",{className:"dialogue-list",children:i.map(n=>X.jsx(dN,{dialogue:n,onDelete:e},n.id))})}const RA=B3(yg,"dialogues"),pN=async i=>{if(!i)return[];const e=Z3(RA,eN("userId","==",i),tN("createdAt","desc"));return(await aN(e)).docs.map(o=>({id:o.id,...o.data()}))},gN=async i=>{const e=ug(yg,"dialogues",i),n=await sN(e);return n.exists()?{id:n.id,...n.data()}:null},yN=async(i,e)=>{const n={...i,userId:e,createdAt:it.now()};return await lN(RA,n)},_N=async i=>{const e=ug(yg,"dialogues",i);await oN(e)};var CA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},EE=Fr.createContext&&Fr.createContext(CA),vN=["attr","size","title"];function EN(i,e){if(i==null)return{};var n=TN(i,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(n[s]=i[s])}return n}function TN(i,e){if(i==null)return{};var n={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;n[s]=i[s]}return n}function Bh(){return Bh=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},Bh.apply(this,arguments)}function TE(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,s)}return n}function jh(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TE(Object(n),!0).forEach(function(s){AN(i,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):TE(Object(n)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))})}return i}function AN(i,e,n){return e=SN(e),e in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function SN(i){var e=bN(i,"string");return typeof e=="symbol"?e:e+""}function bN(i,e){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var s=n.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function IA(i){return i&&i.map((e,n)=>Fr.createElement(e.tag,jh({key:n},e.attr),IA(e.child)))}function Ri(i){return e=>Fr.createElement(wN,Bh({attr:jh({},i.attr)},e),IA(i.child))}function wN(i){var e=n=>{var{attr:s,size:o,title:u}=i,h=EN(i,vN),m=o||n.size||"1em",g;return n.className&&(g=n.className),i.className&&(g=(g?g+" ":"")+i.className),Fr.createElement("svg",Bh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,h,{className:g,style:jh(jh({color:i.color||n.color},n.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&Fr.createElement("title",null,u),i.children)};return EE!==void 0?Fr.createElement(EE.Consumer,null,n=>e(n)):e(CA)}function RN(i){return Ri({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M0 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1v7.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 12.5V5a1 1 0 0 1-1-1zm2 3v7.5A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5V5zm13-3H1v2h14zM5 7.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5"},child:[]}]})(i)}function CN(i){return Ri({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M2.965 12.695a1 1 0 0 0-.287-.801C1.618 10.83 1 9.468 1 8c0-3.192 3.004-6 7-6s7 2.808 7 6-3.004 6-7 6a8 8 0 0 1-2.088-.272 1 1 0 0 0-.711.074c-.387.196-1.24.57-2.634.893a11 11 0 0 0 .398-2m-.8 3.108.02-.004c1.83-.363 2.948-.842 3.468-1.105A9 9 0 0 0 8 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7c0 1.76.743 3.37 1.97 4.6a10.4 10.4 0 0 1-.524 2.318l-.003.011a11 11 0 0 1-.244.637c-.079.186.074.394.273.362a22 22 0 0 0 .693-.125M8 5.993c1.664-1.711 5.825 1.283 0 5.132-5.825-3.85-1.664-6.843 0-5.132"},child:[]}]})(i)}function IN(i){return Ri({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8.515 1.019A7 7 0 0 0 8 1V0a8 8 0 0 1 .589.022zm2.004.45a7 7 0 0 0-.985-.299l.219-.976q.576.129 1.126.342zm1.37.71a7 7 0 0 0-.439-.27l.493-.87a8 8 0 0 1 .979.654l-.615.789a7 7 0 0 0-.418-.302zm1.834 1.79a7 7 0 0 0-.653-.796l.724-.69q.406.429.747.91zm.744 1.352a7 7 0 0 0-.214-.468l.893-.45a8 8 0 0 1 .45 1.088l-.95.313a7 7 0 0 0-.179-.483m.53 2.507a7 7 0 0 0-.1-1.025l.985-.17q.1.58.116 1.17zm-.131 1.538q.05-.254.081-.51l.993.123a8 8 0 0 1-.23 1.155l-.964-.267q.069-.247.12-.501m-.952 2.379q.276-.436.486-.908l.914.405q-.24.54-.555 1.038zm-.964 1.205q.183-.183.35-.378l.758.653a8 8 0 0 1-.401.432z"},child:[]},{tag:"path",attr:{d:"M8 1a7 7 0 1 0 4.95 11.95l.707.707A8.001 8.001 0 1 1 8 0z"},child:[]},{tag:"path",attr:{d:"M7.5 3a.5.5 0 0 1 .5.5v5.21l3.248 1.856a.5.5 0 0 1-.496.868l-3.5-2A.5.5 0 0 1 7 9V3.5a.5.5 0 0 1 .5-.5"},child:[]}]})(i)}function DN(i){return Ri({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M13 6.5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0 0 1h5a.5.5 0 0 0 .5-.5m0 3a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0 0 1h5a.5.5 0 0 0 .5-.5m-.5 2.5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1z"},child:[]},{tag:"path",attr:{d:"M14 0a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zM2 1a1 1 0 0 0-1 1v1h14V2a1 1 0 0 0-1-1zM1 4v10a1 1 0 0 0 1 1h2V4zm4 0v11h9a1 1 0 0 0 1-1V4z"},child:[]}]})(i)}function NN(i){return Ri({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M6 .278a.77.77 0 0 1 .08.858 7.2 7.2 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277q.792-.001 1.533-.16a.79.79 0 0 1 .81.316.73.73 0 0 1-.031.893A8.35 8.35 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.75.75 0 0 1 6 .278M4.858 1.311A7.27 7.27 0 0 0 1.025 7.71c0 4.02 3.279 7.276 7.319 7.276a7.32 7.32 0 0 0 5.205-2.162q-.506.063-1.029.063c-4.61 0-8.343-3.714-8.343-8.29 0-1.167.242-2.278.681-3.286"},child:[]},{tag:"path",attr:{d:"M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.73 1.73 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.73 1.73 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.73 1.73 0 0 0 1.097-1.097zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.16 1.16 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.16 1.16 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732z"},child:[]}]})(i)}function ON(i){return Ri({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2"},child:[]}]})(i)}function MN({user:i}){const[e,n]=$.useState([]),[s,o]=$.useState(!0);$.useEffect(()=>{(async()=>{if(i&&i.uid)try{const m=await pN(i.uid);n(m)}catch(m){console.error("    :",m)}finally{o(!1)}else n([]),o(!1)})()},[i]);const u=async h=>{if(window.confirm("   ?"))try{await _N(h),n(m=>m.filter(g=>g.id!==h))}catch(m){console.error("   :",m)}};return X.jsx("div",{className:"page-container",children:X.jsxs("main",{className:"main-content",children:[X.jsxs("section",{className:"hero-section",children:[X.jsxs("h1",{className:"hero-title",children:["   ",X.jsx("br",{}),"  "]}),X.jsxs("p",{className:"hero-subtitle",children:["HelloGiraffe (NVC) ",X.jsx("br",{}),"      ."]}),X.jsxs(Qs,{to:"/new",className:"button button-cta",children:[X.jsx(ON,{}),"  "]})]}),X.jsxs("section",{className:"features-section",children:[X.jsx("h2",{className:"section-title",children:" "}),X.jsxs("div",{className:"features-grid",children:[X.jsxs("div",{className:"feature-card",children:[X.jsx(DN,{className:"feature-icon"}),X.jsx("h3",{className:"feature-title",children:" "}),X.jsx("p",{className:"feature-description",children:", ,             ."})]}),X.jsxs("div",{className:"feature-card",children:[X.jsx(CN,{className:"feature-icon"}),X.jsx("h3",{className:"feature-title",children:"4  "}),X.jsx("p",{className:"feature-description",children:"'---' 4         ."})]}),X.jsxs("div",{className:"feature-card",children:[X.jsx(RN,{className:"feature-icon"}),X.jsx("h3",{className:"feature-title",children:"  "}),X.jsx("p",{className:"feature-description",children:"     ,     ."})]})]})]}),X.jsx("div",{className:"history-container",children:X.jsxs("section",{className:"dialogue-list-section",children:[X.jsx("h2",{className:"section-title",children:"  "}),s?X.jsx("p",{className:"empty-list-message",children:"  ..."}):i?X.jsx(mN,{dialogues:e,onDelete:u}):X.jsx("p",{className:"empty-list-message",children:"    ."})]})})]})})}const xN=["","","","","","","","","",""];function VN({step:i,value:e,onChange:n}){$.useEffect(()=>{if(i.phase===""){const u=xN.find(h=>e.includes(h));o(u?`'${u}'() ''  '' ''  .     ?`:null)}else o(null)},[e,i.phase]);const[s,o]=$.useState(null);return X.jsxs("div",{className:"dialogue-card",children:[X.jsx("h2",{className:"dialogue-phase",children:i.phase}),X.jsx("p",{className:"dialogue-guide",children:i.guide}),X.jsx("textarea",{className:"dialogue-textarea",placeholder:i.placeholder,value:e,onChange:n}),s&&X.jsx("p",{className:"feedback-message",children:s})]})}const Bl={latePromise:{id:"latePromise",title:"   ",icon:IN,steps:[{phase:"",guide:"  ? ' '   ,     .",placeholder:":    2 30    ."},{phase:"",guide:"    ? ''      .",placeholder:":   ,       ."},{phase:"",guide:"   ?    () .",placeholder:":       ,    ."},{phase:"",guide:"   ? ' '    ,    .",placeholder:":            ?"}]},sleepHabit:{id:"sleepHabit",title:"     ",icon:NN,steps:[{phase:"",guide:",       .",placeholder:":   2 '   '  ,    ."},{phase:"",guide:"      ? ''     .",placeholder:":      ,    ."},{phase:"",guide:" ,    ?    ?",placeholder:":            ."},{phase:"",guide:"   ?    .",placeholder:":      , '   ?'       ?"}]}};function DA(i){return Ri({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(i)}function PN(i){return Ri({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(i)}function LN(i){return Ri({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(i)}function kN(i){return Ri({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M224 96l16-32 32-16-32-16-16-32-16 32-32 16 32 16 16 32zM80 160l26.66-53.33L160 80l-53.34-26.67L80 0 53.34 53.33 0 80l53.34 26.67L80 160zm352 128l-26.66 53.33L352 368l53.34 26.67L432 448l26.66-53.33L512 368l-53.34-26.67L432 288zm70.62-193.77L417.77 9.38C411.53 3.12 403.34 0 395.15 0c-8.19 0-16.38 3.12-22.63 9.38L9.38 372.52c-12.5 12.5-12.5 32.76 0 45.25l84.85 84.85c6.25 6.25 14.44 9.37 22.62 9.37 8.19 0 16.38-3.12 22.63-9.37l363.14-363.15c12.5-12.48 12.5-32.75 0-45.24zM359.45 203.46l-50.91-50.91 86.6-86.6 50.91 50.91-86.6 86.6z"},child:[]}]})(i)}function NA(i,e){return function(){return i.apply(e,arguments)}}const{toString:UN}=Object.prototype,{getPrototypeOf:_g}=Object,{iterator:hf,toStringTag:OA}=Symbol,ff=(i=>e=>{const n=UN.call(e);return i[n]||(i[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),$n=i=>(i=i.toLowerCase(),e=>ff(e)===i),df=i=>e=>typeof e===i,{isArray:Co}=Array,go=df("undefined");function Au(i){return i!==null&&!go(i)&&i.constructor!==null&&!go(i.constructor)&&hn(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const MA=$n("ArrayBuffer");function zN(i){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(i):e=i&&i.buffer&&MA(i.buffer),e}const BN=df("string"),hn=df("function"),xA=df("number"),Su=i=>i!==null&&typeof i=="object",jN=i=>i===!0||i===!1,yh=i=>{if(ff(i)!=="object")return!1;const e=_g(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(OA in i)&&!(hf in i)},qN=i=>{if(!Su(i)||Au(i))return!1;try{return Object.keys(i).length===0&&Object.getPrototypeOf(i)===Object.prototype}catch{return!1}},HN=$n("Date"),FN=$n("File"),GN=$n("Blob"),KN=$n("FileList"),QN=i=>Su(i)&&hn(i.pipe),YN=i=>{let e;return i&&(typeof FormData=="function"&&i instanceof FormData||hn(i.append)&&((e=ff(i))==="formdata"||e==="object"&&hn(i.toString)&&i.toString()==="[object FormData]"))},$N=$n("URLSearchParams"),[XN,JN,WN,ZN]=["ReadableStream","Request","Response","Headers"].map($n),eO=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function bu(i,e,{allOwnKeys:n=!1}={}){if(i===null||typeof i>"u")return;let s,o;if(typeof i!="object"&&(i=[i]),Co(i))for(s=0,o=i.length;s<o;s++)e.call(null,i[s],s,i);else{if(Au(i))return;const u=n?Object.getOwnPropertyNames(i):Object.keys(i),h=u.length;let m;for(s=0;s<h;s++)m=u[s],e.call(null,i[m],m,i)}}function VA(i,e){if(Au(i))return null;e=e.toLowerCase();const n=Object.keys(i);let s=n.length,o;for(;s-- >0;)if(o=n[s],e===o.toLowerCase())return o;return null}const Hs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,PA=i=>!go(i)&&i!==Hs;function dp(){const{caseless:i,skipUndefined:e}=PA(this)&&this||{},n={},s=(o,u)=>{const h=i&&VA(n,u)||u;yh(n[h])&&yh(o)?n[h]=dp(n[h],o):yh(o)?n[h]=dp({},o):Co(o)?n[h]=o.slice():(!e||!go(o))&&(n[h]=o)};for(let o=0,u=arguments.length;o<u;o++)arguments[o]&&bu(arguments[o],s);return n}const tO=(i,e,n,{allOwnKeys:s}={})=>(bu(e,(o,u)=>{n&&hn(o)?i[u]=NA(o,n):i[u]=o},{allOwnKeys:s}),i),nO=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),iO=(i,e,n,s)=>{i.prototype=Object.create(e.prototype,s),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:e.prototype}),n&&Object.assign(i.prototype,n)},rO=(i,e,n,s)=>{let o,u,h;const m={};if(e=e||{},i==null)return e;do{for(o=Object.getOwnPropertyNames(i),u=o.length;u-- >0;)h=o[u],(!s||s(h,i,e))&&!m[h]&&(e[h]=i[h],m[h]=!0);i=n!==!1&&_g(i)}while(i&&(!n||n(i,e))&&i!==Object.prototype);return e},sO=(i,e,n)=>{i=String(i),(n===void 0||n>i.length)&&(n=i.length),n-=e.length;const s=i.indexOf(e,n);return s!==-1&&s===n},aO=i=>{if(!i)return null;if(Co(i))return i;let e=i.length;if(!xA(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=i[e];return n},oO=(i=>e=>i&&e instanceof i)(typeof Uint8Array<"u"&&_g(Uint8Array)),lO=(i,e)=>{const s=(i&&i[hf]).call(i);let o;for(;(o=s.next())&&!o.done;){const u=o.value;e.call(i,u[0],u[1])}},uO=(i,e)=>{let n;const s=[];for(;(n=i.exec(e))!==null;)s.push(n);return s},cO=$n("HTMLFormElement"),hO=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,o){return s.toUpperCase()+o}),AE=(({hasOwnProperty:i})=>(e,n)=>i.call(e,n))(Object.prototype),fO=$n("RegExp"),LA=(i,e)=>{const n=Object.getOwnPropertyDescriptors(i),s={};bu(n,(o,u)=>{let h;(h=e(o,u,i))!==!1&&(s[u]=h||o)}),Object.defineProperties(i,s)},dO=i=>{LA(i,(e,n)=>{if(hn(i)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=i[n];if(hn(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},mO=(i,e)=>{const n={},s=o=>{o.forEach(u=>{n[u]=!0})};return Co(i)?s(i):s(String(i).split(e)),n},pO=()=>{},gO=(i,e)=>i!=null&&Number.isFinite(i=+i)?i:e;function yO(i){return!!(i&&hn(i.append)&&i[OA]==="FormData"&&i[hf])}const _O=i=>{const e=new Array(10),n=(s,o)=>{if(Su(s)){if(e.indexOf(s)>=0)return;if(Au(s))return s;if(!("toJSON"in s)){e[o]=s;const u=Co(s)?[]:{};return bu(s,(h,m)=>{const g=n(h,o+1);!go(g)&&(u[m]=g)}),e[o]=void 0,u}}return s};return n(i,0)},vO=$n("AsyncFunction"),EO=i=>i&&(Su(i)||hn(i))&&hn(i.then)&&hn(i.catch),kA=((i,e)=>i?setImmediate:e?((n,s)=>(Hs.addEventListener("message",({source:o,data:u})=>{o===Hs&&u===n&&s.length&&s.shift()()},!1),o=>{s.push(o),Hs.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",hn(Hs.postMessage)),TO=typeof queueMicrotask<"u"?queueMicrotask.bind(Hs):typeof process<"u"&&process.nextTick||kA,AO=i=>i!=null&&hn(i[hf]),G={isArray:Co,isArrayBuffer:MA,isBuffer:Au,isFormData:YN,isArrayBufferView:zN,isString:BN,isNumber:xA,isBoolean:jN,isObject:Su,isPlainObject:yh,isEmptyObject:qN,isReadableStream:XN,isRequest:JN,isResponse:WN,isHeaders:ZN,isUndefined:go,isDate:HN,isFile:FN,isBlob:GN,isRegExp:fO,isFunction:hn,isStream:QN,isURLSearchParams:$N,isTypedArray:oO,isFileList:KN,forEach:bu,merge:dp,extend:tO,trim:eO,stripBOM:nO,inherits:iO,toFlatObject:rO,kindOf:ff,kindOfTest:$n,endsWith:sO,toArray:aO,forEachEntry:lO,matchAll:uO,isHTMLForm:cO,hasOwnProperty:AE,hasOwnProp:AE,reduceDescriptors:LA,freezeMethods:dO,toObjectSet:mO,toCamelCase:hO,noop:pO,toFiniteNumber:gO,findKey:VA,global:Hs,isContextDefined:PA,isSpecCompliantForm:yO,toJSONObject:_O,isAsyncFn:vO,isThenable:EO,setImmediate:kA,asap:TO,isIterable:AO};function Ce(i,e,n,s,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),o&&(this.response=o,this.status=o.status?o.status:null)}G.inherits(Ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:G.toJSONObject(this.config),code:this.code,status:this.status}}});const UA=Ce.prototype,zA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{zA[i]={value:i}});Object.defineProperties(Ce,zA);Object.defineProperty(UA,"isAxiosError",{value:!0});Ce.from=(i,e,n,s,o,u)=>{const h=Object.create(UA);G.toFlatObject(i,h,function(v){return v!==Error.prototype},p=>p!=="isAxiosError");const m=i&&i.message?i.message:"Error",g=e==null&&i?i.code:e;return Ce.call(h,m,g,n,s,o),i&&h.cause==null&&Object.defineProperty(h,"cause",{value:i,configurable:!0}),h.name=i&&i.name||"Error",u&&Object.assign(h,u),h};const SO=null;function mp(i){return G.isPlainObject(i)||G.isArray(i)}function BA(i){return G.endsWith(i,"[]")?i.slice(0,-2):i}function SE(i,e,n){return i?i.concat(e).map(function(o,u){return o=BA(o),!n&&u?"["+o+"]":o}).join(n?".":""):e}function bO(i){return G.isArray(i)&&!i.some(mp)}const wO=G.toFlatObject(G,{},null,function(e){return/^is[A-Z]/.test(e)});function mf(i,e,n){if(!G.isObject(i))throw new TypeError("target must be an object");e=e||new FormData,n=G.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,V){return!G.isUndefined(V[j])});const s=n.metaTokens,o=n.visitor||v,u=n.dots,h=n.indexes,g=(n.Blob||typeof Blob<"u"&&Blob)&&G.isSpecCompliantForm(e);if(!G.isFunction(o))throw new TypeError("visitor must be a function");function p(D){if(D===null)return"";if(G.isDate(D))return D.toISOString();if(G.isBoolean(D))return D.toString();if(!g&&G.isBlob(D))throw new Ce("Blob is not supported. Use a Buffer instead.");return G.isArrayBuffer(D)||G.isTypedArray(D)?g&&typeof Blob=="function"?new Blob([D]):Buffer.from(D):D}function v(D,j,V){let Y=D;if(D&&!V&&typeof D=="object"){if(G.endsWith(j,"{}"))j=s?j:j.slice(0,-2),D=JSON.stringify(D);else if(G.isArray(D)&&bO(D)||(G.isFileList(D)||G.endsWith(j,"[]"))&&(Y=G.toArray(D)))return j=BA(j),Y.forEach(function(Z,ce){!(G.isUndefined(Z)||Z===null)&&e.append(h===!0?SE([j],ce,u):h===null?j:j+"[]",p(Z))}),!1}return mp(D)?!0:(e.append(SE(V,j,u),p(D)),!1)}const A=[],b=Object.assign(wO,{defaultVisitor:v,convertValue:p,isVisitable:mp});function U(D,j){if(!G.isUndefined(D)){if(A.indexOf(D)!==-1)throw Error("Circular reference detected in "+j.join("."));A.push(D),G.forEach(D,function(Y,re){(!(G.isUndefined(Y)||Y===null)&&o.call(e,Y,G.isString(re)?re.trim():re,j,b))===!0&&U(Y,j?j.concat(re):[re])}),A.pop()}}if(!G.isObject(i))throw new TypeError("data must be an object");return U(i),e}function bE(i){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function vg(i,e){this._pairs=[],i&&mf(i,this,e)}const jA=vg.prototype;jA.append=function(e,n){this._pairs.push([e,n])};jA.toString=function(e){const n=e?function(s){return e.call(this,s,bE)}:bE;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function RO(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function qA(i,e,n){if(!e)return i;const s=n&&n.encode||RO;G.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let u;if(o?u=o(e,n):u=G.isURLSearchParams(e)?e.toString():new vg(e,n).toString(s),u){const h=i.indexOf("#");h!==-1&&(i=i.slice(0,h)),i+=(i.indexOf("?")===-1?"?":"&")+u}return i}class wE{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){G.forEach(this.handlers,function(s){s!==null&&e(s)})}}const HA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},CO=typeof URLSearchParams<"u"?URLSearchParams:vg,IO=typeof FormData<"u"?FormData:null,DO=typeof Blob<"u"?Blob:null,NO={isBrowser:!0,classes:{URLSearchParams:CO,FormData:IO,Blob:DO},protocols:["http","https","file","blob","url","data"]},Eg=typeof window<"u"&&typeof document<"u",pp=typeof navigator=="object"&&navigator||void 0,OO=Eg&&(!pp||["ReactNative","NativeScript","NS"].indexOf(pp.product)<0),MO=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",xO=Eg&&window.location.href||"http://localhost",VO=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Eg,hasStandardBrowserEnv:OO,hasStandardBrowserWebWorkerEnv:MO,navigator:pp,origin:xO},Symbol.toStringTag,{value:"Module"})),en={...VO,...NO};function PO(i,e){return mf(i,new en.classes.URLSearchParams,{visitor:function(n,s,o,u){return en.isNode&&G.isBuffer(n)?(this.append(s,n.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)},...e})}function LO(i){return G.matchAll(/\w+|\[(\w*)]/g,i).map(e=>e[0]==="[]"?"":e[1]||e[0])}function kO(i){const e={},n=Object.keys(i);let s;const o=n.length;let u;for(s=0;s<o;s++)u=n[s],e[u]=i[u];return e}function FA(i){function e(n,s,o,u){let h=n[u++];if(h==="__proto__")return!0;const m=Number.isFinite(+h),g=u>=n.length;return h=!h&&G.isArray(o)?o.length:h,g?(G.hasOwnProp(o,h)?o[h]=[o[h],s]:o[h]=s,!m):((!o[h]||!G.isObject(o[h]))&&(o[h]=[]),e(n,s,o[h],u)&&G.isArray(o[h])&&(o[h]=kO(o[h])),!m)}if(G.isFormData(i)&&G.isFunction(i.entries)){const n={};return G.forEachEntry(i,(s,o)=>{e(LO(s),o,n,0)}),n}return null}function UO(i,e,n){if(G.isString(i))try{return(e||JSON.parse)(i),G.trim(i)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(i)}const wu={transitional:HA,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",o=s.indexOf("application/json")>-1,u=G.isObject(e);if(u&&G.isHTMLForm(e)&&(e=new FormData(e)),G.isFormData(e))return o?JSON.stringify(FA(e)):e;if(G.isArrayBuffer(e)||G.isBuffer(e)||G.isStream(e)||G.isFile(e)||G.isBlob(e)||G.isReadableStream(e))return e;if(G.isArrayBufferView(e))return e.buffer;if(G.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let m;if(u){if(s.indexOf("application/x-www-form-urlencoded")>-1)return PO(e,this.formSerializer).toString();if((m=G.isFileList(e))||s.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return mf(m?{"files[]":e}:e,g&&new g,this.formSerializer)}}return u||o?(n.setContentType("application/json",!1),UO(e)):e}],transformResponse:[function(e){const n=this.transitional||wu.transitional,s=n&&n.forcedJSONParsing,o=this.responseType==="json";if(G.isResponse(e)||G.isReadableStream(e))return e;if(e&&G.isString(e)&&(s&&!this.responseType||o)){const h=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(e,this.parseReviver)}catch(m){if(h)throw m.name==="SyntaxError"?Ce.from(m,Ce.ERR_BAD_RESPONSE,this,null,this.response):m}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:en.classes.FormData,Blob:en.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};G.forEach(["delete","get","head","post","put","patch"],i=>{wu.headers[i]={}});const zO=G.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),BO=i=>{const e={};let n,s,o;return i&&i.split(`
`).forEach(function(h){o=h.indexOf(":"),n=h.substring(0,o).trim().toLowerCase(),s=h.substring(o+1).trim(),!(!n||e[n]&&zO[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},RE=Symbol("internals");function jl(i){return i&&String(i).trim().toLowerCase()}function _h(i){return i===!1||i==null?i:G.isArray(i)?i.map(_h):String(i)}function jO(i){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(i);)e[s[1]]=s[2];return e}const qO=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function Lm(i,e,n,s,o){if(G.isFunction(s))return s.call(this,e,n);if(o&&(e=n),!!G.isString(e)){if(G.isString(s))return e.indexOf(s)!==-1;if(G.isRegExp(s))return s.test(e)}}function HO(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function FO(i,e){const n=G.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(i,s+n,{value:function(o,u,h){return this[s].call(this,e,o,u,h)},configurable:!0})})}let fn=class{constructor(e){e&&this.set(e)}set(e,n,s){const o=this;function u(m,g,p){const v=jl(g);if(!v)throw new Error("header name must be a non-empty string");const A=G.findKey(o,v);(!A||o[A]===void 0||p===!0||p===void 0&&o[A]!==!1)&&(o[A||g]=_h(m))}const h=(m,g)=>G.forEach(m,(p,v)=>u(p,v,g));if(G.isPlainObject(e)||e instanceof this.constructor)h(e,n);else if(G.isString(e)&&(e=e.trim())&&!qO(e))h(BO(e),n);else if(G.isObject(e)&&G.isIterable(e)){let m={},g,p;for(const v of e){if(!G.isArray(v))throw TypeError("Object iterator must return a key-value pair");m[p=v[0]]=(g=m[p])?G.isArray(g)?[...g,v[1]]:[g,v[1]]:v[1]}h(m,n)}else e!=null&&u(n,e,s);return this}get(e,n){if(e=jl(e),e){const s=G.findKey(this,e);if(s){const o=this[s];if(!n)return o;if(n===!0)return jO(o);if(G.isFunction(n))return n.call(this,o,s);if(G.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=jl(e),e){const s=G.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||Lm(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let o=!1;function u(h){if(h=jl(h),h){const m=G.findKey(s,h);m&&(!n||Lm(s,s[m],m,n))&&(delete s[m],o=!0)}}return G.isArray(e)?e.forEach(u):u(e),o}clear(e){const n=Object.keys(this);let s=n.length,o=!1;for(;s--;){const u=n[s];(!e||Lm(this,this[u],u,e,!0))&&(delete this[u],o=!0)}return o}normalize(e){const n=this,s={};return G.forEach(this,(o,u)=>{const h=G.findKey(s,u);if(h){n[h]=_h(o),delete n[u];return}const m=e?HO(u):String(u).trim();m!==u&&delete n[u],n[m]=_h(o),s[m]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return G.forEach(this,(s,o)=>{s!=null&&s!==!1&&(n[o]=e&&G.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(o=>s.set(o)),s}static accessor(e){const s=(this[RE]=this[RE]={accessors:{}}).accessors,o=this.prototype;function u(h){const m=jl(h);s[m]||(FO(o,h),s[m]=!0)}return G.isArray(e)?e.forEach(u):u(e),this}};fn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);G.reduceDescriptors(fn.prototype,({value:i},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>i,set(s){this[n]=s}}});G.freezeMethods(fn);function km(i,e){const n=this||wu,s=e||n,o=fn.from(s.headers);let u=s.data;return G.forEach(i,function(m){u=m.call(n,u,o.normalize(),e?e.status:void 0)}),o.normalize(),u}function GA(i){return!!(i&&i.__CANCEL__)}function Io(i,e,n){Ce.call(this,i??"canceled",Ce.ERR_CANCELED,e,n),this.name="CanceledError"}G.inherits(Io,Ce,{__CANCEL__:!0});function KA(i,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?i(n):e(new Ce("Request failed with status code "+n.status,[Ce.ERR_BAD_REQUEST,Ce.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function GO(i){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return e&&e[1]||""}function KO(i,e){i=i||10;const n=new Array(i),s=new Array(i);let o=0,u=0,h;return e=e!==void 0?e:1e3,function(g){const p=Date.now(),v=s[u];h||(h=p),n[o]=g,s[o]=p;let A=u,b=0;for(;A!==o;)b+=n[A++],A=A%i;if(o=(o+1)%i,o===u&&(u=(u+1)%i),p-h<e)return;const U=v&&p-v;return U?Math.round(b*1e3/U):void 0}}function QO(i,e){let n=0,s=1e3/e,o,u;const h=(p,v=Date.now())=>{n=v,o=null,u&&(clearTimeout(u),u=null),i(...p)};return[(...p)=>{const v=Date.now(),A=v-n;A>=s?h(p,v):(o=p,u||(u=setTimeout(()=>{u=null,h(o)},s-A)))},()=>o&&h(o)]}const qh=(i,e,n=3)=>{let s=0;const o=KO(50,250);return QO(u=>{const h=u.loaded,m=u.lengthComputable?u.total:void 0,g=h-s,p=o(g),v=h<=m;s=h;const A={loaded:h,total:m,progress:m?h/m:void 0,bytes:g,rate:p||void 0,estimated:p&&m&&v?(m-h)/p:void 0,event:u,lengthComputable:m!=null,[e?"download":"upload"]:!0};i(A)},n)},CE=(i,e)=>{const n=i!=null;return[s=>e[0]({lengthComputable:n,total:i,loaded:s}),e[1]]},IE=i=>(...e)=>G.asap(()=>i(...e)),YO=en.hasStandardBrowserEnv?((i,e)=>n=>(n=new URL(n,en.origin),i.protocol===n.protocol&&i.host===n.host&&(e||i.port===n.port)))(new URL(en.origin),en.navigator&&/(msie|trident)/i.test(en.navigator.userAgent)):()=>!0,$O=en.hasStandardBrowserEnv?{write(i,e,n,s,o,u,h){if(typeof document>"u")return;const m=[`${i}=${encodeURIComponent(e)}`];G.isNumber(n)&&m.push(`expires=${new Date(n).toUTCString()}`),G.isString(s)&&m.push(`path=${s}`),G.isString(o)&&m.push(`domain=${o}`),u===!0&&m.push("secure"),G.isString(h)&&m.push(`SameSite=${h}`),document.cookie=m.join("; ")},read(i){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+i+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(i){this.write(i,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function XO(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function JO(i,e){return e?i.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):i}function QA(i,e,n){let s=!XO(e);return i&&(s||n==!1)?JO(i,e):e}const DE=i=>i instanceof fn?{...i}:i;function ea(i,e){e=e||{};const n={};function s(p,v,A,b){return G.isPlainObject(p)&&G.isPlainObject(v)?G.merge.call({caseless:b},p,v):G.isPlainObject(v)?G.merge({},v):G.isArray(v)?v.slice():v}function o(p,v,A,b){if(G.isUndefined(v)){if(!G.isUndefined(p))return s(void 0,p,A,b)}else return s(p,v,A,b)}function u(p,v){if(!G.isUndefined(v))return s(void 0,v)}function h(p,v){if(G.isUndefined(v)){if(!G.isUndefined(p))return s(void 0,p)}else return s(void 0,v)}function m(p,v,A){if(A in e)return s(p,v);if(A in i)return s(void 0,p)}const g={url:u,method:u,data:u,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:m,headers:(p,v,A)=>o(DE(p),DE(v),A,!0)};return G.forEach(Object.keys({...i,...e}),function(v){const A=g[v]||o,b=A(i[v],e[v],v);G.isUndefined(b)&&A!==m||(n[v]=b)}),n}const YA=i=>{const e=ea({},i);let{data:n,withXSRFToken:s,xsrfHeaderName:o,xsrfCookieName:u,headers:h,auth:m}=e;if(e.headers=h=fn.from(h),e.url=qA(QA(e.baseURL,e.url,e.allowAbsoluteUrls),i.params,i.paramsSerializer),m&&h.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):""))),G.isFormData(n)){if(en.hasStandardBrowserEnv||en.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if(G.isFunction(n.getHeaders)){const g=n.getHeaders(),p=["content-type","content-length"];Object.entries(g).forEach(([v,A])=>{p.includes(v.toLowerCase())&&h.set(v,A)})}}if(en.hasStandardBrowserEnv&&(s&&G.isFunction(s)&&(s=s(e)),s||s!==!1&&YO(e.url))){const g=o&&u&&$O.read(u);g&&h.set(o,g)}return e},WO=typeof XMLHttpRequest<"u",ZO=WO&&function(i){return new Promise(function(n,s){const o=YA(i);let u=o.data;const h=fn.from(o.headers).normalize();let{responseType:m,onUploadProgress:g,onDownloadProgress:p}=o,v,A,b,U,D;function j(){U&&U(),D&&D(),o.cancelToken&&o.cancelToken.unsubscribe(v),o.signal&&o.signal.removeEventListener("abort",v)}let V=new XMLHttpRequest;V.open(o.method.toUpperCase(),o.url,!0),V.timeout=o.timeout;function Y(){if(!V)return;const Z=fn.from("getAllResponseHeaders"in V&&V.getAllResponseHeaders()),ue={data:!m||m==="text"||m==="json"?V.responseText:V.response,status:V.status,statusText:V.statusText,headers:Z,config:i,request:V};KA(function(O){n(O),j()},function(O){s(O),j()},ue),V=null}"onloadend"in V?V.onloadend=Y:V.onreadystatechange=function(){!V||V.readyState!==4||V.status===0&&!(V.responseURL&&V.responseURL.indexOf("file:")===0)||setTimeout(Y)},V.onabort=function(){V&&(s(new Ce("Request aborted",Ce.ECONNABORTED,i,V)),V=null)},V.onerror=function(ce){const ue=ce&&ce.message?ce.message:"Network Error",Te=new Ce(ue,Ce.ERR_NETWORK,i,V);Te.event=ce||null,s(Te),V=null},V.ontimeout=function(){let ce=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const ue=o.transitional||HA;o.timeoutErrorMessage&&(ce=o.timeoutErrorMessage),s(new Ce(ce,ue.clarifyTimeoutError?Ce.ETIMEDOUT:Ce.ECONNABORTED,i,V)),V=null},u===void 0&&h.setContentType(null),"setRequestHeader"in V&&G.forEach(h.toJSON(),function(ce,ue){V.setRequestHeader(ue,ce)}),G.isUndefined(o.withCredentials)||(V.withCredentials=!!o.withCredentials),m&&m!=="json"&&(V.responseType=o.responseType),p&&([b,D]=qh(p,!0),V.addEventListener("progress",b)),g&&V.upload&&([A,U]=qh(g),V.upload.addEventListener("progress",A),V.upload.addEventListener("loadend",U)),(o.cancelToken||o.signal)&&(v=Z=>{V&&(s(!Z||Z.type?new Io(null,i,V):Z),V.abort(),V=null)},o.cancelToken&&o.cancelToken.subscribe(v),o.signal&&(o.signal.aborted?v():o.signal.addEventListener("abort",v)));const re=GO(o.url);if(re&&en.protocols.indexOf(re)===-1){s(new Ce("Unsupported protocol "+re+":",Ce.ERR_BAD_REQUEST,i));return}V.send(u||null)})},e6=(i,e)=>{const{length:n}=i=i?i.filter(Boolean):[];if(e||n){let s=new AbortController,o;const u=function(p){if(!o){o=!0,m();const v=p instanceof Error?p:this.reason;s.abort(v instanceof Ce?v:new Io(v instanceof Error?v.message:v))}};let h=e&&setTimeout(()=>{h=null,u(new Ce(`timeout ${e} of ms exceeded`,Ce.ETIMEDOUT))},e);const m=()=>{i&&(h&&clearTimeout(h),h=null,i.forEach(p=>{p.unsubscribe?p.unsubscribe(u):p.removeEventListener("abort",u)}),i=null)};i.forEach(p=>p.addEventListener("abort",u));const{signal:g}=s;return g.unsubscribe=()=>G.asap(m),g}},t6=function*(i,e){let n=i.byteLength;if(n<e){yield i;return}let s=0,o;for(;s<n;)o=s+e,yield i.slice(s,o),s=o},n6=async function*(i,e){for await(const n of i6(i))yield*t6(n,e)},i6=async function*(i){if(i[Symbol.asyncIterator]){yield*i;return}const e=i.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},NE=(i,e,n,s)=>{const o=n6(i,e);let u=0,h,m=g=>{h||(h=!0,s&&s(g))};return new ReadableStream({async pull(g){try{const{done:p,value:v}=await o.next();if(p){m(),g.close();return}let A=v.byteLength;if(n){let b=u+=A;n(b)}g.enqueue(new Uint8Array(v))}catch(p){throw m(p),p}},cancel(g){return m(g),o.return()}},{highWaterMark:2})},OE=64*1024,{isFunction:ih}=G,r6=(({Request:i,Response:e})=>({Request:i,Response:e}))(G.global),{ReadableStream:ME,TextEncoder:xE}=G.global,VE=(i,...e)=>{try{return!!i(...e)}catch{return!1}},s6=i=>{i=G.merge.call({skipUndefined:!0},r6,i);const{fetch:e,Request:n,Response:s}=i,o=e?ih(e):typeof fetch=="function",u=ih(n),h=ih(s);if(!o)return!1;const m=o&&ih(ME),g=o&&(typeof xE=="function"?(D=>j=>D.encode(j))(new xE):async D=>new Uint8Array(await new n(D).arrayBuffer())),p=u&&m&&VE(()=>{let D=!1;const j=new n(en.origin,{body:new ME,method:"POST",get duplex(){return D=!0,"half"}}).headers.has("Content-Type");return D&&!j}),v=h&&m&&VE(()=>G.isReadableStream(new s("").body)),A={stream:v&&(D=>D.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(D=>{!A[D]&&(A[D]=(j,V)=>{let Y=j&&j[D];if(Y)return Y.call(j);throw new Ce(`Response type '${D}' is not supported`,Ce.ERR_NOT_SUPPORT,V)})});const b=async D=>{if(D==null)return 0;if(G.isBlob(D))return D.size;if(G.isSpecCompliantForm(D))return(await new n(en.origin,{method:"POST",body:D}).arrayBuffer()).byteLength;if(G.isArrayBufferView(D)||G.isArrayBuffer(D))return D.byteLength;if(G.isURLSearchParams(D)&&(D=D+""),G.isString(D))return(await g(D)).byteLength},U=async(D,j)=>{const V=G.toFiniteNumber(D.getContentLength());return V??b(j)};return async D=>{let{url:j,method:V,data:Y,signal:re,cancelToken:Z,timeout:ce,onDownloadProgress:ue,onUploadProgress:Te,responseType:O,headers:w,withCredentials:R="same-origin",fetchOptions:x}=YA(D),P=e||fetch;O=O?(O+"").toLowerCase():"text";let L=e6([re,Z&&Z.toAbortSignal()],ce),I=null;const rt=L&&L.unsubscribe&&(()=>{L.unsubscribe()});let st;try{if(Te&&p&&V!=="get"&&V!=="head"&&(st=await U(w,Y))!==0){let te=new n(j,{method:"POST",body:Y,duplex:"half"}),oe;if(G.isFormData(Y)&&(oe=te.headers.get("content-type"))&&w.setContentType(oe),te.body){const[se,pe]=CE(st,qh(IE(Te)));Y=NE(te.body,OE,se,pe)}}G.isString(R)||(R=R?"include":"omit");const Q=u&&"credentials"in n.prototype,le={...x,signal:L,method:V.toUpperCase(),headers:w.normalize().toJSON(),body:Y,duplex:"half",credentials:Q?R:void 0};I=u&&new n(j,le);let de=await(u?P(I,x):P(j,le));const ke=v&&(O==="stream"||O==="response");if(v&&(ue||ke&&rt)){const te={};["status","statusText","headers"].forEach(Ie=>{te[Ie]=de[Ie]});const oe=G.toFiniteNumber(de.headers.get("content-length")),[se,pe]=ue&&CE(oe,qh(IE(ue),!0))||[];de=new s(NE(de.body,OE,se,()=>{pe&&pe(),rt&&rt()}),te)}O=O||"text";let N=await A[G.findKey(A,O)||"text"](de,D);return!ke&&rt&&rt(),await new Promise((te,oe)=>{KA(te,oe,{data:N,headers:fn.from(de.headers),status:de.status,statusText:de.statusText,config:D,request:I})})}catch(Q){throw rt&&rt(),Q&&Q.name==="TypeError"&&/Load failed|fetch/i.test(Q.message)?Object.assign(new Ce("Network Error",Ce.ERR_NETWORK,D,I),{cause:Q.cause||Q}):Ce.from(Q,Q&&Q.code,D,I)}}},a6=new Map,$A=i=>{let e=i&&i.env||{};const{fetch:n,Request:s,Response:o}=e,u=[s,o,n];let h=u.length,m=h,g,p,v=a6;for(;m--;)g=u[m],p=v.get(g),p===void 0&&v.set(g,p=m?new Map:s6(e)),v=p;return p};$A();const Tg={http:SO,xhr:ZO,fetch:{get:$A}};G.forEach(Tg,(i,e)=>{if(i){try{Object.defineProperty(i,"name",{value:e})}catch{}Object.defineProperty(i,"adapterName",{value:e})}});const PE=i=>`- ${i}`,o6=i=>G.isFunction(i)||i===null||i===!1;function l6(i,e){i=G.isArray(i)?i:[i];const{length:n}=i;let s,o;const u={};for(let h=0;h<n;h++){s=i[h];let m;if(o=s,!o6(s)&&(o=Tg[(m=String(s)).toLowerCase()],o===void 0))throw new Ce(`Unknown adapter '${m}'`);if(o&&(G.isFunction(o)||(o=o.get(e))))break;u[m||"#"+h]=o}if(!o){const h=Object.entries(u).map(([g,p])=>`adapter ${g} `+(p===!1?"is not supported by the environment":"is not available in the build"));let m=n?h.length>1?`since :
`+h.map(PE).join(`
`):" "+PE(h[0]):"as no adapter specified";throw new Ce("There is no suitable adapter to dispatch the request "+m,"ERR_NOT_SUPPORT")}return o}const XA={getAdapter:l6,adapters:Tg};function Um(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new Io(null,i)}function LE(i){return Um(i),i.headers=fn.from(i.headers),i.data=km.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),XA.getAdapter(i.adapter||wu.adapter,i)(i).then(function(s){return Um(i),s.data=km.call(i,i.transformResponse,s),s.headers=fn.from(s.headers),s},function(s){return GA(s)||(Um(i),s&&s.response&&(s.response.data=km.call(i,i.transformResponse,s.response),s.response.headers=fn.from(s.response.headers))),Promise.reject(s)})}const JA="1.13.1",pf={};["object","boolean","number","function","string","symbol"].forEach((i,e)=>{pf[i]=function(s){return typeof s===i||"a"+(e<1?"n ":" ")+i}});const kE={};pf.transitional=function(e,n,s){function o(u,h){return"[Axios v"+JA+"] Transitional option '"+u+"'"+h+(s?". "+s:"")}return(u,h,m)=>{if(e===!1)throw new Ce(o(h," has been removed"+(n?" in "+n:"")),Ce.ERR_DEPRECATED);return n&&!kE[h]&&(kE[h]=!0,console.warn(o(h," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(u,h,m):!0}};pf.spelling=function(e){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function u6(i,e,n){if(typeof i!="object")throw new Ce("options must be an object",Ce.ERR_BAD_OPTION_VALUE);const s=Object.keys(i);let o=s.length;for(;o-- >0;){const u=s[o],h=e[u];if(h){const m=i[u],g=m===void 0||h(m,u,i);if(g!==!0)throw new Ce("option "+u+" must be "+g,Ce.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ce("Unknown option "+u,Ce.ERR_BAD_OPTION)}}const vh={assertOptions:u6,validators:pf},di=vh.validators;let Ks=class{constructor(e){this.defaults=e||{},this.interceptors={request:new wE,response:new wE}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const u=o.stack?o.stack.replace(/^.+\n/,""):"";try{s.stack?u&&!String(s.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+u):s.stack=u}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ea(this.defaults,n);const{transitional:s,paramsSerializer:o,headers:u}=n;s!==void 0&&vh.assertOptions(s,{silentJSONParsing:di.transitional(di.boolean),forcedJSONParsing:di.transitional(di.boolean),clarifyTimeoutError:di.transitional(di.boolean)},!1),o!=null&&(G.isFunction(o)?n.paramsSerializer={serialize:o}:vh.assertOptions(o,{encode:di.function,serialize:di.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),vh.assertOptions(n,{baseUrl:di.spelling("baseURL"),withXsrfToken:di.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let h=u&&G.merge(u.common,u[n.method]);u&&G.forEach(["delete","get","head","post","put","patch","common"],D=>{delete u[D]}),n.headers=fn.concat(h,u);const m=[];let g=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(n)===!1||(g=g&&j.synchronous,m.unshift(j.fulfilled,j.rejected))});const p=[];this.interceptors.response.forEach(function(j){p.push(j.fulfilled,j.rejected)});let v,A=0,b;if(!g){const D=[LE.bind(this),void 0];for(D.unshift(...m),D.push(...p),b=D.length,v=Promise.resolve(n);A<b;)v=v.then(D[A++],D[A++]);return v}b=m.length;let U=n;for(;A<b;){const D=m[A++],j=m[A++];try{U=D(U)}catch(V){j.call(this,V);break}}try{v=LE.call(this,U)}catch(D){return Promise.reject(D)}for(A=0,b=p.length;A<b;)v=v.then(p[A++],p[A++]);return v}getUri(e){e=ea(this.defaults,e);const n=QA(e.baseURL,e.url,e.allowAbsoluteUrls);return qA(n,e.params,e.paramsSerializer)}};G.forEach(["delete","get","head","options"],function(e){Ks.prototype[e]=function(n,s){return this.request(ea(s||{},{method:e,url:n,data:(s||{}).data}))}});G.forEach(["post","put","patch"],function(e){function n(s){return function(u,h,m){return this.request(ea(m||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:u,data:h}))}}Ks.prototype[e]=n(),Ks.prototype[e+"Form"]=n(!0)});let c6=class WA{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(u){n=u});const s=this;this.promise.then(o=>{if(!s._listeners)return;let u=s._listeners.length;for(;u-- >0;)s._listeners[u](o);s._listeners=null}),this.promise.then=o=>{let u;const h=new Promise(m=>{s.subscribe(m),u=m}).then(o);return h.cancel=function(){s.unsubscribe(u)},h},e(function(u,h,m){s.reason||(s.reason=new Io(u,h,m),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new WA(function(o){e=o}),cancel:e}}};function h6(i){return function(n){return i.apply(null,n)}}function f6(i){return G.isObject(i)&&i.isAxiosError===!0}const gp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(gp).forEach(([i,e])=>{gp[e]=i});function ZA(i){const e=new Ks(i),n=NA(Ks.prototype.request,e);return G.extend(n,Ks.prototype,e,{allOwnKeys:!0}),G.extend(n,e,null,{allOwnKeys:!0}),n.create=function(o){return ZA(ea(i,o))},n}const _t=ZA(wu);_t.Axios=Ks;_t.CanceledError=Io;_t.CancelToken=c6;_t.isCancel=GA;_t.VERSION=JA;_t.toFormData=mf;_t.AxiosError=Ce;_t.Cancel=_t.CanceledError;_t.all=function(e){return Promise.all(e)};_t.spread=h6;_t.isAxiosError=f6;_t.mergeConfig=ea;_t.AxiosHeaders=fn;_t.formToJSON=i=>FA(G.isHTMLForm(i)?new FormData(i):i);_t.getAdapter=XA.getAdapter;_t.HttpStatusCode=gp;_t.default=_t;const{Axios:E6,AxiosError:T6,CanceledError:A6,isCancel:S6,CancelToken:b6,VERSION:w6,all:R6,Cancel:C6,isAxiosError:I6,spread:D6,toFormData:N6,AxiosHeaders:O6,HttpStatusCode:M6,formToJSON:x6,getAdapter:V6,mergeConfig:P6}=_t;function d6({user:i}){const e=vp(),[n,s]=$.useState(null),[o,u]=$.useState({}),[h,m]=$.useState(0),[g,p]=$.useState(!1),[v,A]=$.useState(""),b={:"observation",:"feeling",:"need",:"request"},U=(Z,ce)=>{const ue=b[Z]||Z.toLowerCase();u(Te=>({...Te,[ue]:ce}))},D=async()=>{if(!i){alert(" .");return}const ce={scenarioTitle:Bl[n].title,steps:o};try{await yN(ce,i.uid),alert("  !"),e("/")}catch(ue){console.error("   :",ue),alert(" .  .")}},j=async()=>{const{observation:Z,feeling:ce,need:ue,request:Te}=o;if(!Z||!ce||!ue||!Te){alert("AI   4   .");return}p(!0),A("");const O="https://hello-giraffe-proxy-tbvojga6l-tjsl0607s-projects.vercel.app/api/coach";try{const w=await _t.post(O,{observation:Z,feeling:ce,need:ue,request:Te});A(w.data.feedback)}catch(w){console.error("AI    :",w),A("   .     .")}finally{p(!1)}},V=()=>{const Z=Bl[n].steps.length;m(ce=>Math.min(ce+1,Z-1))},Y=()=>{m(Z=>Math.max(Z-1,0))},re=n?Bl[n]:null;if(!n){if(!i)return X.jsx("div",{children:X.jsx("main",{className:"page-container",children:X.jsx("p",{className:"empty-list-message",children:"    ."})})});if(!re)return X.jsxs("main",{className:"page-container",children:[X.jsx("h1",{className:"page-title",children:"    ?"}),X.jsx("div",{className:"scenario-grid",children:Object.keys(Bl).map(Z=>{const ce=Bl[Z],ue=ce.icon;return X.jsxs("div",{className:"scenario-card",onClick:()=>s(Z),children:[ue&&X.jsx(ue,{className:"scenario-icon"}),X.jsx("h3",{className:"scenario-title",children:ce.title})]},Z)})})]})}return X.jsxs("main",{className:"page-container",children:[X.jsx("h1",{className:"page-title",children:re.title}),X.jsx("div",{className:"stepper-container",children:re.steps.map((Z,ce)=>{const ue=o[b[Z.phase]]?.length>0;return X.jsxs(Fr.Fragment,{children:[X.jsxs("div",{className:`step-item ${ce===h?"active":""} ${ue?"completed":""}`,children:[X.jsx("div",{className:"step-number",children:ce+1}),X.jsx("div",{className:"step-phase",children:Z.phase})]}),ce<re.steps.length-1&&X.jsx("div",{className:"step-connector"})]},ce)})}),X.jsx("div",{className:"step-content",children:X.jsx(VN,{step:re.steps[h],value:o[b[re.steps[h].phase]]||"",onChange:Z=>U(re.steps[h].phase,Z.target.value)})}),X.jsxs("div",{className:"navigation-buttons",children:[X.jsxs("button",{className:"button",onClick:Y,disabled:h===0,children:[X.jsx(DA,{}),""]}),h===re.steps.length-1?X.jsxs(X.Fragment,{children:[X.jsxs("button",{className:"button button-coaching",onClick:j,disabled:g||!i,children:[X.jsx(kN,{}),g?"  ...":"AI  "]}),X.jsxs("button",{className:"button button-primary",onClick:D,disabled:!i,children:[X.jsx(LN,{}),"  "]})]}):X.jsxs("button",{className:"button button-primary",onClick:V,children:["",X.jsx(PN,{})]})]}),g&&X.jsx("div",{className:"ai-coaching-result loading",children:X.jsx("p",{children:"''     .  ..."})}),v&&!g&&X.jsxs("div",{className:"ai-coaching-result",children:[X.jsx("h3",{children:"    "}),X.jsx("p",{children:v})]})]})}function m6({user:i}){const{id:e}=cb();vp();const[n,s]=$.useState(null),[o,u]=$.useState(!0),[h,m]=$.useState(null);return $.useEffect(()=>{i!==void 0&&(async()=>{try{const p=await gN(e);p?i&&p.userId===i.uid?s(p):m("    ."):m("    .")}catch(p){console.error("    :",p),m("    .")}finally{u(!1)}})()},[e,i]),o?X.jsx("div",{children:X.jsx("main",{className:"page-container",children:X.jsx("p",{className:"empty-list-message",children:"  ..."})})}):h?X.jsx("div",{children:X.jsx("main",{className:"page-container",children:X.jsxs("p",{className:"empty-list-message",children:[h,X.jsx("br",{}),X.jsx("br",{}),X.jsx(Qs,{to:"/",className:"button button-primary",children:" "})]})})}):X.jsxs("main",{className:"page-container",children:[X.jsx("h1",{className:"page-title",children:n.scenarioTitle}),X.jsxs("div",{className:"dialogue-card",children:[X.jsx("h2",{className:"dialogue-phase",children:""}),X.jsx("p",{className:"dialogue-guide",children:n.steps.observation})]}),X.jsxs("div",{className:"dialogue-card",children:[X.jsx("h2",{className:"dialogue-phase",children:""}),X.jsx("p",{className:"dialogue-guide",children:n.steps.feeling})]}),X.jsxs("div",{className:"dialogue-card",children:[X.jsx("h2",{className:"dialogue-phase",children:""}),X.jsx("p",{className:"dialogue-guide",children:n.steps.need})]}),X.jsxs("div",{className:"dialogue-card",children:[X.jsx("h2",{className:"dialogue-phase",children:""}),X.jsx("p",{className:"dialogue-guide",children:n.steps.request})]}),X.jsxs(Qs,{to:"/",className:"back-to-list-link",children:[X.jsx(DA,{}),"  "]})]})}function p6(){const i=ns();return $.useEffect(()=>{i.pathname==="/"?document.body.className="main-page-bg":document.body.className="secondary-page-bg"},[i]),null}function g6(){const[i,e]=$.useState(null),[n,s]=$.useState(!0);return $.useEffect(()=>{const o=IC(fp,u=>{e(u),s(!1)});return()=>o()},[]),n?X.jsx("div",{children:"Loading..."}):X.jsxs(Yb,{basename:"/2025-HelloGiraffe",children:[X.jsx(fN,{user:i}),X.jsx(p6,{}),X.jsxs(wb,{children:[X.jsx(rh,{path:"/",element:X.jsx(MN,{user:i})}),X.jsx(rh,{path:"/new",element:X.jsx(d6,{user:i})}),X.jsx(rh,{path:"/dialogue/:id",element:X.jsx(m6,{user:i})})]})]})}V2.createRoot(document.getElementById("root")).render(X.jsx($.StrictMode,{children:X.jsx(g6,{})}));
